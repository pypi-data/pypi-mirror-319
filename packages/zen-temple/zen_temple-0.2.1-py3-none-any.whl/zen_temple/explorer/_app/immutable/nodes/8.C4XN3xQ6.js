import{s as vt,e as y,a as O,t as Qe,c as E,b as G,g as z,d as We,f as b,o as C,i as S,h as w,A as tt,j as kt,n as Me,C as It,H as Vt,G as Tt,r as U,m as fe,v as Be,w as J,B as St,F as et,x as lt}from"../chunks/scheduler.BVk0_e6s.js";import{S as wt,i as Ct,b as K,c as Ee,d as De,m as He,t as k,a as H,e as Ce,f as Ie,g as ye}from"../chunks/index.B3JOrRZV.js";import{e as nt}from"../chunks/each.D6YF6ztN.js";import{S as Lt,f as Ne,B as Mt,g as Pe,r as qe}from"../chunks/utils.vTcOBzXM.js";import{R as jt,A as je}from"../chunks/Radio.CXSHN0HG.js";import{g as Fe}from"../chunks/variables.CqS7hfz2.js";function Ot(e){let l,n,i,s,d,c=(e[0]?e[1][0]:e[1][1])+"",r,o,a,f;return{c(){l=y("div"),n=y("input"),s=O(),d=y("label"),r=Qe(c),this.h()},l(t){l=E(t,"DIV",{class:!0});var _=G(l);n=E(_,"INPUT",{type:!0,class:!0,id:!0}),s=z(_),d=E(_,"LABEL",{class:!0,for:!0});var h=G(d);r=We(h,c),h.forEach(b),_.forEach(b),this.h()},h(){C(n,"type","checkbox"),C(n,"class","btn-check"),C(n,"id",i="btn-check-outlined"+e[2]),C(d,"class","btn btn-outline-primary btn-sm"),C(d,"for",o="btn-check-outlined"+e[2]),C(l,"class","toggle")},m(t,_){S(t,l,_),w(l,n),n.checked=e[0],w(l,s),w(l,d),w(d,r),a||(f=[tt(n,"change",e[4]),tt(n,"change",e[5])],a=!0)},p(t,[_]){_&4&&i!==(i="btn-check-outlined"+t[2])&&C(n,"id",i),_&1&&(n.checked=t[0]),_&3&&c!==(c=(t[0]?t[1][0]:t[1][1])+"")&&kt(r,c),_&4&&o!==(o="btn-check-outlined"+t[2])&&C(d,"for",o)},i:Me,o:Me,d(t){t&&b(l),a=!1,It(f)}}}function zt(e,l,n){let{value:i}=l,{texts:s=["on","off"]}=l,d="";Vt(()=>{n(2,d=Math.random().toString(16).slice(2))});const c=Tt();function r(){i=this.checked,n(0,i)}const o=()=>{c("change")};return e.$$set=a=>{"value"in a&&n(0,i=a.value),"texts"in a&&n(1,s=a.texts)},[i,s,d,c,r,o]}class yt extends wt{constructor(l){super(),Ct(this,l,zt,Ot,vt,{value:0,texts:1})}}function st(e,l,n){const i=e.slice();return i[67]=l[n],i[68]=l,i[69]=n,i}function ot(e){let l,n,i='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCost" aria-expanded="false" aria-controls="collapseCost">Cost selection</button>',s,d,c,r,o,a,f='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Technology and Carrier Selection</button>',t,_,h,v,A="Technologies (for Capex/Opex)",M,x,he,pe,L,ge,Q,T,j='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',$,ne,me,te,ve,I,ke,se="Aggregation",B,re,de,oe,m,q,ae,ce=nt(Object.keys(e[22])),V=[];for(let p=0;p<ce.length;p+=1)V[p]=it(st(e,ce,p));const Se=p=>H(V[p],1,1,()=>{V[p]=null});let N=e[11].length>0&&rt(e),P=e[13].length>0&&ct(e),F=e[15].length>0&&ft(e),R=e[18].length>0&&dt(e),W=e[19].length>0&&_t(e);function Xe(p){e[49](p)}function Ze(p){e[50](p)}let Ae={};e[20]!==void 0&&(Ae.options=e[20]),e[21]!==void 0&&(Ae.selected_option=e[21]),re=new jt({props:Ae}),U.push(()=>K(re,"options",Xe)),U.push(()=>K(re,"selected_option",Ze)),re.$on("selection-changed",e[51]);let X=e[21]==e[20][1]&&ut(e),Z=e[6]&&ht(e);return{c(){l=y("div"),n=y("h2"),n.innerHTML=i,s=O(),d=y("div"),c=y("div");for(let p=0;p<V.length;p+=1)V[p].c();r=O(),o=y("div"),a=y("h2"),a.innerHTML=f,t=O(),_=y("div"),h=y("div"),v=y("h3"),v.textContent=A,M=O(),N&&N.c(),x=O(),P&&P.c(),he=O(),F&&F.c(),pe=O(),R&&R.c(),L=O(),W&&W.c(),ge=O(),Q=y("div"),T=y("h2"),T.innerHTML=j,$=O(),ne=y("div"),me=y("div"),te=y("div"),ve=y("div"),I=y("div"),ke=y("h3"),ke.textContent=se,B=O(),Ee(re.$$.fragment),m=O(),X&&X.c(),q=O(),Z&&Z.c(),this.h()},l(p){l=E(p,"DIV",{class:!0});var D=G(l);n=E(D,"H2",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1y9fyqz"&&(n.innerHTML=i),s=z(D),d=E(D,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var we=G(d);c=E(we,"DIV",{class:!0});var le=G(c);for(let $e=0;$e<V.length;$e+=1)V[$e].l(le);le.forEach(b),we.forEach(b),D.forEach(b),r=z(p),o=E(p,"DIV",{class:!0});var Te=G(o);a=E(Te,"H2",{class:!0,"data-svelte-h":!0}),fe(a)!=="svelte-c8inc9"&&(a.innerHTML=f),t=z(Te),_=E(Te,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Ge=G(_);h=E(Ge,"DIV",{class:!0});var be=G(h);v=E(be,"H3",{"data-svelte-h":!0}),fe(v)!=="svelte-17gugf8"&&(v.textContent=A),M=z(be),N&&N.l(be),x=z(be),P&&P.l(be),he=z(be),F&&F.l(be),pe=z(be),R&&R.l(be),L=z(be),W&&W.l(be),be.forEach(b),Ge.forEach(b),Te.forEach(b),ge=z(p),Q=E(p,"DIV",{class:!0});var Oe=G(Q);T=E(Oe,"H2",{class:!0,"data-svelte-h":!0}),fe(T)!=="svelte-hz94lo"&&(T.innerHTML=j),$=z(Oe),ne=E(Oe,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var Ue=G(ne);me=E(Ue,"DIV",{class:!0});var Je=G(me);te=E(Je,"DIV",{class:!0});var Le=G(te);ve=E(Le,"DIV",{class:!0});var Ke=G(ve);I=E(Ke,"DIV",{class:!0});var ze=G(I);ke=E(ze,"H3",{"data-svelte-h":!0}),fe(ke)!=="svelte-126hufg"&&(ke.textContent=se),B=z(ze),De(re.$$.fragment,ze),ze.forEach(b),Ke.forEach(b),m=z(Le),X&&X.l(Le),q=z(Le),Z&&Z.l(Le),Le.forEach(b),Je.forEach(b),Ue.forEach(b),Oe.forEach(b),this.h()},h(){C(n,"class","accordion-header"),C(c,"class","accordion-body"),C(d,"id","collapseCost"),C(d,"class","accordion-collapse collapse"),C(d,"data-bs-parent","#accordionExample"),C(l,"class","accordion-item"),C(a,"class","accordion-header"),C(h,"class","accordion-body"),C(_,"id","collapseTwo"),C(_,"class","accordion-collapse collapse"),C(_,"data-bs-parent","#accordionExample"),C(o,"class","accordion-item"),C(T,"class","accordion-header"),C(I,"class","col-6"),C(ve,"class","row"),C(te,"class","accordion-body"),C(me,"class","accordion-body"),C(ne,"id","collapseThree"),C(ne,"class","accordion-collapse collapse"),C(ne,"data-bs-parent","#accordionExample"),C(Q,"class","accordion-item")},m(p,D){S(p,l,D),w(l,n),w(l,s),w(l,d),w(d,c);for(let we=0;we<V.length;we+=1)V[we]&&V[we].m(c,null);S(p,r,D),S(p,o,D),w(o,a),w(o,t),w(o,_),w(_,h),w(h,v),w(h,M),N&&N.m(h,null),w(h,x),P&&P.m(h,null),w(h,he),F&&F.m(h,null),w(h,pe),R&&R.m(h,null),w(h,L),W&&W.m(h,null),S(p,ge,D),S(p,Q,D),w(Q,T),w(Q,$),w(Q,ne),w(ne,me),w(me,te),w(te,ve),w(ve,I),w(I,ke),w(I,B),He(re,I,null),w(te,m),X&&X.m(te,null),w(te,q),Z&&Z.m(te,null),ae=!0},p(p,D){if(D[0]&37748736){ce=nt(Object.keys(p[22]));let le;for(le=0;le<ce.length;le+=1){const Te=st(p,ce,le);V[le]?(V[le].p(Te,D),k(V[le],1)):(V[le]=it(Te),V[le].c(),k(V[le],1),V[le].m(c,null))}for(ye(),le=ce.length;le<V.length;le+=1)Se(le);Ce()}p[11].length>0?N?(N.p(p,D),D[0]&2048&&k(N,1)):(N=rt(p),N.c(),k(N,1),N.m(h,x)):N&&(ye(),H(N,1,1,()=>{N=null}),Ce()),p[13].length>0?P?(P.p(p,D),D[0]&8192&&k(P,1)):(P=ct(p),P.c(),k(P,1),P.m(h,he)):P&&(ye(),H(P,1,1,()=>{P=null}),Ce()),p[15].length>0?F?(F.p(p,D),D[0]&32768&&k(F,1)):(F=ft(p),F.c(),k(F,1),F.m(h,pe)):F&&(ye(),H(F,1,1,()=>{F=null}),Ce()),p[18].length>0?R?(R.p(p,D),D[0]&262144&&k(R,1)):(R=dt(p),R.c(),k(R,1),R.m(h,L)):R&&(ye(),H(R,1,1,()=>{R=null}),Ce()),p[19].length>0?W?(W.p(p,D),D[0]&524288&&k(W,1)):(W=_t(p),W.c(),k(W,1),W.m(h,null)):W&&(ye(),H(W,1,1,()=>{W=null}),Ce());const we={};!de&&D[0]&1048576&&(de=!0,we.options=p[20],J(()=>de=!1)),!oe&&D[0]&2097152&&(oe=!0,we.selected_option=p[21],J(()=>oe=!1)),re.$set(we),p[21]==p[20][1]?X?(X.p(p,D),D[0]&3145728&&k(X,1)):(X=ut(p),X.c(),k(X,1),X.m(te,q)):X&&(ye(),H(X,1,1,()=>{X=null}),Ce()),p[6]?Z?(Z.p(p,D),D[0]&64&&k(Z,1)):(Z=ht(p),Z.c(),k(Z,1),Z.m(te,null)):Z&&(ye(),H(Z,1,1,()=>{Z=null}),Ce())},i(p){if(!ae){for(let D=0;D<ce.length;D+=1)k(V[D]);k(N),k(P),k(F),k(R),k(W),k(re.$$.fragment,p),k(X),k(Z),ae=!0}},o(p){V=V.filter(Boolean);for(let D=0;D<V.length;D+=1)H(V[D]);H(N),H(P),H(F),H(R),H(W),H(re.$$.fragment,p),H(X),H(Z),ae=!1},d(p){p&&(b(l),b(r),b(o),b(ge),b(Q)),St(V,p),N&&N.d(),P&&P.d(),F&&F.d(),R&&R.d(),W&&W.d(),Ie(re),X&&X.d(),Z&&Z.d()}}}function at(e){let l,n,i,s;function d(r){e[33](r,e[67])}let c={};return e[22][e[67]].subdivision!==void 0&&(c.value=e[22][e[67]].subdivision),n=new yt({props:c}),U.push(()=>K(n,"value",d)),n.$on("change",e[25]),{c(){l=Qe(`Subdivision
											`),Ee(n.$$.fragment)},l(r){l=We(r,`Subdivision
											`),De(n.$$.fragment,r)},m(r,o){S(r,l,o),He(n,r,o),s=!0},p(r,o){e=r;const a={};!i&&o[0]&4194304&&(i=!0,a.value=e[22][e[67]].subdivision,J(()=>i=!1)),n.$set(a)},i(r){s||(k(n.$$.fragment,r),s=!0)},o(r){H(n.$$.fragment,r),s=!1},d(r){r&&b(l),Ie(n,r)}}}function it(e){let l,n,i=e[22][e[67]].title+"",s,d,c,r,o,a,f,t;function _(A){e[32](A,e[67])}let h={};e[22][e[67]].show!==void 0&&(h.value=e[22][e[67]].show),r=new yt({props:h}),U.push(()=>K(r,"value",_)),r.$on("change",e[25]);let v=e[22][e[67]].show&&e[67]!="carbon_emission"&&at(e);return{c(){l=y("div"),n=y("h4"),s=Qe(i),d=Qe(" :"),c=O(),Ee(r.$$.fragment),a=O(),v&&v.c(),f=O(),this.h()},l(A){l=E(A,"DIV",{class:!0});var M=G(l);n=E(M,"H4",{});var x=G(n);s=We(x,i),d=We(x," :"),x.forEach(b),c=z(M),De(r.$$.fragment,M),a=z(M),v&&v.l(M),f=z(M),M.forEach(b),this.h()},h(){C(l,"class","d-flex")},m(A,M){S(A,l,M),w(l,n),w(n,s),w(n,d),w(l,c),He(r,l,null),w(l,a),v&&v.m(l,null),w(l,f),t=!0},p(A,M){e=A,(!t||M[0]&4194304)&&i!==(i=e[22][e[67]].title+"")&&kt(s,i);const x={};!o&&M[0]&4194304&&(o=!0,x.value=e[22][e[67]].show,J(()=>o=!1)),r.$set(x),e[22][e[67]].show&&e[67]!="carbon_emission"?v?(v.p(e,M),M[0]&4194304&&k(v,1)):(v=at(e),v.c(),k(v,1),v.m(l,f)):v&&(ye(),H(v,1,1,()=>{v=null}),Ce())},i(A){t||(k(r.$$.fragment,A),k(v),t=!0)},o(A){H(r.$$.fragment,A),H(v),t=!1},d(A){A&&b(l),Ie(r),v&&v.d()}}}function rt(e){let l,n="Transport",i,s,d,c,r;function o(t){e[34](t)}function a(t){e[35](t)}let f={};return e[12]!==void 0&&(f.selected_elements=e[12]),e[11]!==void 0&&(f.elements=e[11]),s=new je({props:f}),U.push(()=>K(s,"selected_elements",o)),U.push(()=>K(s,"elements",a)),s.$on("selection-changed",e[36]),{c(){l=y("h4"),l.textContent=n,i=O(),Ee(s.$$.fragment)},l(t){l=E(t,"H4",{"data-svelte-h":!0}),fe(l)!=="svelte-1tmas69"&&(l.textContent=n),i=z(t),De(s.$$.fragment,t)},m(t,_){S(t,l,_),S(t,i,_),He(s,t,_),r=!0},p(t,_){const h={};!d&&_[0]&4096&&(d=!0,h.selected_elements=t[12],J(()=>d=!1)),!c&&_[0]&2048&&(c=!0,h.elements=t[11],J(()=>c=!1)),s.$set(h)},i(t){r||(k(s.$$.fragment,t),r=!0)},o(t){H(s.$$.fragment,t),r=!1},d(t){t&&(b(l),b(i)),Ie(s,t)}}}function ct(e){let l,n="Storage",i,s,d,c,r;function o(t){e[37](t)}function a(t){e[38](t)}let f={};return e[14]!==void 0&&(f.selected_elements=e[14]),e[13]!==void 0&&(f.elements=e[13]),s=new je({props:f}),U.push(()=>K(s,"selected_elements",o)),U.push(()=>K(s,"elements",a)),s.$on("selection-changed",e[39]),{c(){l=y("h4"),l.textContent=n,i=O(),Ee(s.$$.fragment)},l(t){l=E(t,"H4",{"data-svelte-h":!0}),fe(l)!=="svelte-hjv5od"&&(l.textContent=n),i=z(t),De(s.$$.fragment,t)},m(t,_){S(t,l,_),S(t,i,_),He(s,t,_),r=!0},p(t,_){const h={};!d&&_[0]&16384&&(d=!0,h.selected_elements=t[14],J(()=>d=!1)),!c&&_[0]&8192&&(c=!0,h.elements=t[13],J(()=>c=!1)),s.$set(h)},i(t){r||(k(s.$$.fragment,t),r=!0)},o(t){H(s.$$.fragment,t),r=!1},d(t){t&&(b(l),b(i)),Ie(s,t)}}}function ft(e){let l,n="Conversion",i,s,d,c,r;function o(t){e[40](t)}function a(t){e[41](t)}let f={};return e[16]!==void 0&&(f.selected_elements=e[16]),e[15]!==void 0&&(f.elements=e[15]),s=new je({props:f}),U.push(()=>K(s,"selected_elements",o)),U.push(()=>K(s,"elements",a)),s.$on("selection-changed",e[42]),{c(){l=y("h4"),l.textContent=n,i=O(),Ee(s.$$.fragment)},l(t){l=E(t,"H4",{"data-svelte-h":!0}),fe(l)!=="svelte-ad5jza"&&(l.textContent=n),i=z(t),De(s.$$.fragment,t)},m(t,_){S(t,l,_),S(t,i,_),He(s,t,_),r=!0},p(t,_){const h={};!d&&_[0]&65536&&(d=!0,h.selected_elements=t[16],J(()=>d=!1)),!c&&_[0]&32768&&(c=!0,h.elements=t[15],J(()=>c=!1)),s.$set(h)},i(t){r||(k(s.$$.fragment,t),r=!0)},o(t){H(s.$$.fragment,t),r=!1},d(t){t&&(b(l),b(i)),Ie(s,t)}}}function dt(e){let l,n="Cost of Carrier",i,s,d,c,r;function o(t){e[43](t)}function a(t){e[44](t)}let f={};return e[7]!==void 0&&(f.selected_elements=e[7]),e[18]!==void 0&&(f.elements=e[18]),s=new je({props:f}),U.push(()=>K(s,"selected_elements",o)),U.push(()=>K(s,"elements",a)),s.$on("selection-changed",e[45]),{c(){l=y("h3"),l.textContent=n,i=O(),Ee(s.$$.fragment)},l(t){l=E(t,"H3",{"data-svelte-h":!0}),fe(l)!=="svelte-bhb6z8"&&(l.textContent=n),i=z(t),De(s.$$.fragment,t)},m(t,_){S(t,l,_),S(t,i,_),He(s,t,_),r=!0},p(t,_){const h={};!d&&_[0]&128&&(d=!0,h.selected_elements=t[7],J(()=>d=!1)),!c&&_[0]&262144&&(c=!0,h.elements=t[18],J(()=>c=!1)),s.$set(h)},i(t){r||(k(s.$$.fragment,t),r=!0)},o(t){H(s.$$.fragment,t),r=!1},d(t){t&&(b(l),b(i)),Ie(s,t)}}}function _t(e){let l,n="Shed Demand",i,s,d,c,r;function o(t){e[46](t)}function a(t){e[47](t)}let f={};return e[8]!==void 0&&(f.selected_elements=e[8]),e[19]!==void 0&&(f.elements=e[19]),s=new je({props:f}),U.push(()=>K(s,"selected_elements",o)),U.push(()=>K(s,"elements",a)),s.$on("selection-changed",e[48]),{c(){l=y("h3"),l.textContent=n,i=O(),Ee(s.$$.fragment)},l(t){l=E(t,"H3",{"data-svelte-h":!0}),fe(l)!=="svelte-13kd4c5"&&(l.textContent=n),i=z(t),De(s.$$.fragment,t)},m(t,_){S(t,l,_),S(t,i,_),He(s,t,_),r=!0},p(t,_){const h={};!d&&_[0]&256&&(d=!0,h.selected_elements=t[8],J(()=>d=!1)),!c&&_[0]&524288&&(c=!0,h.elements=t[19],J(()=>c=!1)),s.$set(h)},i(t){r||(k(s.$$.fragment,t),r=!0)},o(t){H(s.$$.fragment,t),r=!1},d(t){t&&(b(l),b(i)),Ie(s,t)}}}function ut(e){let l,n="Location",i,s,d,c;function r(a){e[52](a)}let o={elements:e[3]};return e[4]!==void 0&&(o.selected_elements=e[4]),s=new je({props:o}),U.push(()=>K(s,"selected_elements",r)),s.$on("selection-changed",e[53]),{c(){l=y("h3"),l.textContent=n,i=O(),Ee(s.$$.fragment)},l(a){l=E(a,"H3",{"data-svelte-h":!0}),fe(l)!=="svelte-15gguv3"&&(l.textContent=n),i=z(a),De(s.$$.fragment,a)},m(a,f){S(a,l,f),S(a,i,f),He(s,a,f),c=!0},p(a,f){const t={};f[0]&8&&(t.elements=a[3]),!d&&f[0]&16&&(d=!0,t.selected_elements=a[4],J(()=>d=!1)),s.$set(t)},i(a){c||(k(s.$$.fragment,a),c=!0)},o(a){H(s.$$.fragment,a),c=!1},d(a){a&&(b(l),b(i)),Ie(s,a)}}}function ht(e){let l,n="Year",i,s,d,c;function r(a){e[54](a)}let o={elements:e[2]};return e[6]!==void 0&&(o.selected_elements=e[6]),s=new je({props:o}),U.push(()=>K(s,"selected_elements",r)),s.$on("selection-changed",e[55]),{c(){l=y("h3"),l.textContent=n,i=O(),Ee(s.$$.fragment)},l(a){l=E(a,"H3",{"data-svelte-h":!0}),fe(l)!=="svelte-r9e7qt"&&(l.textContent=n),i=z(a),De(s.$$.fragment,a)},m(a,f){S(a,l,f),S(a,i,f),He(s,a,f),c=!0},p(a,f){const t={};f[0]&4&&(t.elements=a[2]),!d&&f[0]&64&&(d=!0,t.selected_elements=a[6],J(()=>d=!1)),s.$set(t)},i(a){c||(k(s.$$.fragment,a),c=!0)},o(a){H(s.$$.fragment,a),c=!1},d(a){a&&(b(l),b(i)),Ie(s,a)}}}function qt(e){let l,n,i,s;const d=[Bt,$t],c=[];function r(o,a){return o[24].data.datasets.length==0||o[24].data.datasets[0].data.length==0?0:1}return l=r(e),n=c[l]=d[l](e),{c(){n.c(),i=lt()},l(o){n.l(o),i=lt()},m(o,a){c[l].m(o,a),S(o,i,a),s=!0},p(o,a){let f=l;l=r(o),l===f?c[l].p(o,a):(ye(),H(c[f],1,1,()=>{c[f]=null}),Ce(),n=c[l],n?n.p(o,a):(n=c[l]=d[l](o),n.c()),k(n,1),n.m(i.parentNode,i))},i(o){s||(k(n),s=!0)},o(o){H(n),s=!1},d(o){o&&b(i),c[l].d(o)}}}function At(e){let l,n='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){l=y("div"),l.innerHTML=n,this.h()},l(i){l=E(i,"DIV",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-1a5ljpq"&&(l.innerHTML=n),this.h()},h(){C(l,"class","text-center")},m(i,s){S(i,l,s)},p:Me,i:Me,o:Me,d(i){i&&b(l)}}}function $t(e){let l,n,i,s,d;function c(f){e[56](f)}function r(f){e[57](f)}function o(f){e[58](f)}let a={};return e[24]!==void 0&&(a.config=e[24]),e[5].detail.system.reference_year!==void 0&&(a.year_offset=e[5].detail.system.reference_year),e[23]!==void 0&&(a.plot_name=e[23]),l=new Mt({props:a}),U.push(()=>K(l,"config",c)),U.push(()=>K(l,"year_offset",r)),U.push(()=>K(l,"plot_name",o)),{c(){Ee(l.$$.fragment)},l(f){De(l.$$.fragment,f)},m(f,t){He(l,f,t),d=!0},p(f,t){const _={};!n&&t[0]&16777216&&(n=!0,_.config=f[24],J(()=>n=!1)),!i&&t[0]&32&&(i=!0,_.year_offset=f[5].detail.system.reference_year,J(()=>i=!1)),!s&&t[0]&8388608&&(s=!0,_.plot_name=f[23],J(()=>s=!1)),l.$set(_)},i(f){d||(k(l.$$.fragment,f),d=!0)},o(f){H(l.$$.fragment,f),d=!1},d(f){Ie(l,f)}}}function Bt(e){let l,n="No data with this selection.";return{c(){l=y("div"),l.textContent=n,this.h()},l(i){l=E(i,"DIV",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-1doxial"&&(l.textContent=n),this.h()},h(){C(l,"class","text-center")},m(i,s){S(i,l,s)},p:Me,i:Me,o:Me,d(i){i&&b(l)}}}function Nt(e){let l,n="Costs",i,s,d,c,r,o,a,f='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',t,_,h,v,A,M,x,he,pe,L,ge,Q,T,j,$,ne;function me(m){e[27](m)}function te(m){e[28](m)}function ve(m){e[29](m)}function I(m){e[30](m)}function ke(m){e[31](m)}let se={enabled:!e[9]&&!e[10]};e[0]!==void 0&&(se.carriers=e[0]),e[1]!==void 0&&(se.nodes=e[1]),e[2]!==void 0&&(se.years=e[2]),e[5]!==void 0&&(se.selected_solution=e[5]),e[9]!==void 0&&(se.loading=e[9]),v=new Lt({props:se}),U.push(()=>K(v,"carriers",me)),U.push(()=>K(v,"nodes",te)),U.push(()=>K(v,"years",ve)),U.push(()=>K(v,"selected_solution",I)),U.push(()=>K(v,"loading",ke)),v.$on("solution_selected",e[26]);let B=!e[10]&&!e[9]&&e[17]&&e[5]!=null&&ot(e);const re=[At,qt],de=[];function oe(m,q){return m[9]||m[10]?0:m[5]!=null?1:-1}return~(j=oe(e))&&($=de[j]=re[j](e)),{c(){l=y("h2"),l.textContent=n,i=O(),s=y("div"),d=y("div"),c=y("div"),r=y("div"),o=y("div"),a=y("h2"),a.innerHTML=f,t=O(),_=y("div"),h=y("div"),Ee(v.$$.fragment),L=O(),B&&B.c(),ge=O(),Q=y("div"),T=y("div"),$&&$.c(),this.h()},l(m){l=E(m,"H2",{"data-svelte-h":!0}),fe(l)!=="svelte-lt28jw"&&(l.textContent=n),i=z(m),s=E(m,"DIV",{class:!0});var q=G(s);d=E(q,"DIV",{class:!0,style:!0});var ae=G(d);c=E(ae,"DIV",{class:!0,style:!0});var ce=G(c);r=E(ce,"DIV",{class:!0,id:!0});var V=G(r);o=E(V,"DIV",{class:!0});var Se=G(o);a=E(Se,"H2",{class:!0,"data-svelte-h":!0}),fe(a)!=="svelte-64kjki"&&(a.innerHTML=f),t=z(Se),_=E(Se,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var N=G(_);h=E(N,"DIV",{class:!0});var P=G(h);De(v.$$.fragment,P),P.forEach(b),N.forEach(b),Se.forEach(b),L=z(V),B&&B.l(V),V.forEach(b),ce.forEach(b),ae.forEach(b),q.forEach(b),ge=z(m),Q=E(m,"DIV",{class:!0});var F=G(Q);T=E(F,"DIV",{class:!0,style:!0});var R=G(T);$&&$.l(R),R.forEach(b),F.forEach(b),this.h()},h(){C(a,"class","accordion-header"),C(h,"class","accordion-body"),C(_,"id","collapseOne"),C(_,"class","accordion-collapse collapse show"),C(_,"data-bs-parent","#accordionExample"),C(o,"class","accordion-item solution-selection"),C(r,"class","accordion"),C(r,"id","accordionExample"),C(c,"class","filters"),Be(c,"position","absolute"),Be(c,"width","100%"),C(d,"class","col position-relative"),Be(d,"z-index","1"),Be(d,"position","relative"),C(s,"class","row"),C(T,"class","col"),Be(T,"margin-top","400px"),C(Q,"class","row")},m(m,q){S(m,l,q),S(m,i,q),S(m,s,q),w(s,d),w(d,c),w(c,r),w(r,o),w(o,a),w(o,t),w(o,_),w(_,h),He(v,h,null),w(r,L),B&&B.m(r,null),S(m,ge,q),S(m,Q,q),w(Q,T),~j&&de[j].m(T,null),ne=!0},p(m,q){const ae={};q[0]&1536&&(ae.enabled=!m[9]&&!m[10]),!A&&q[0]&1&&(A=!0,ae.carriers=m[0],J(()=>A=!1)),!M&&q[0]&2&&(M=!0,ae.nodes=m[1],J(()=>M=!1)),!x&&q[0]&4&&(x=!0,ae.years=m[2],J(()=>x=!1)),!he&&q[0]&32&&(he=!0,ae.selected_solution=m[5],J(()=>he=!1)),!pe&&q[0]&512&&(pe=!0,ae.loading=m[9],J(()=>pe=!1)),v.$set(ae),!m[10]&&!m[9]&&m[17]&&m[5]!=null?B?(B.p(m,q),q[0]&132640&&k(B,1)):(B=ot(m),B.c(),k(B,1),B.m(r,null)):B&&(ye(),H(B,1,1,()=>{B=null}),Ce());let ce=j;j=oe(m),j===ce?~j&&de[j].p(m,q):($&&(ye(),H(de[ce],1,1,()=>{de[ce]=null}),Ce()),~j?($=de[j],$?$.p(m,q):($=de[j]=re[j](m),$.c()),k($,1),$.m(T,null)):$=null)},i(m){ne||(k(v.$$.fragment,m),k(B),k($),ne=!0)},o(m){H(v.$$.fragment,m),H(B),H($),ne=!1},d(m){m&&(b(l),b(i),b(s),b(ge),b(Q)),Ie(v),B&&B.d(),~j&&de[j].d()}}}let Pt="not_normalized",Y="Techology / Carrier";const Re=" (Capex)",Ye=" (Opex)",pt="Capex",mt="Opex",bt="Carrier",gt="Shed Demand";function Ft(e,l,n){let i=[],s=[],d=[],c=[],r=[],o=null,a=[],f=[],t=[],_=!1,h=!1,v=[],A=[],M=[],x=[],he=[],pe=[],L,ge,Q,T,j,$,ne=[],me=[],te=[Y,"Location"],ve=te[1],I={capex:{title:"Capex",show:!0,subdivision:!1},opex:{title:"Opex",show:!0,subdivision:!1},carrier:{title:"Carrier",show:!0,subdivision:!1},shed_demand:{title:"Shed Demand",show:!0,subdivision:!1},carbon_emission:{title:"Carbon Emissions",show:!0,subdivision:!1}},ke="plot",se={type:"line",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:"Costs ["+de()+"]"}}}}};async function B(){if(o!=null){n(10,h=!0),await et(),n(17,T=await Pe(o.solution_name,Fe("capex_yearly",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years)),j=await Pe(o.solution_name,Fe("opex_yearly",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),ge=await Pe(o.solution_name,Fe("cost_carbon_emissions_total",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),Q=await Pe(o.solution_name,Fe("cost_carrier",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),$=await Pe(o.solution_name,Fe("cost_shed_demand",o.version),o.scenario_name,o.detail.system.reference_year,o.detail.system.interval_between_years),qe(Q.data,"node","location"),qe($.data,"node","location"),qe(j.data,"technology",Y),qe(T.data,"technology",Y),qe(Q.data,"carrier",Y),qe($.data,"carrier",Y);for(let u in T.data.data)n(17,T.data.data[u][Y]=T.data.data[u][Y]+Re,T);for(let u in j.data.data)j.data.data[u][Y]=j.data.data[u][Y]+Ye;n(3,c=Object.keys(o.detail.edges).concat(o.detail.system.set_nodes)),n(10,h=!1)}}function re(u){n(10,h=!0),L=new Array;let ie=structuredClone(Q.data);ie.data=ie.data.filter(g=>f.includes(g[Y]));let _e=structuredClone($.data);if(_e.data=_e.data.filter(g=>t.includes(g[Y])),I.capex.show)if(I.capex.subdivision)L=L.concat(T.data.data);else{let g=Ne(T.data.data,{location:r},{[Y]:u},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[Y]=pt,L.push(g[ee].data)}if(I.opex.show)if(I.opex.subdivision)L=L.concat(j.data.data);else{let g=Ne(j.data.data,{location:r},{[Y]:u},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[Y]=mt,L.push(g[ee].data)}if(I.carrier.show)if(I.carrier.subdivision)L=L.concat(ie.data);else{let g=Ne(ie.data,{location:r},{[Y]:u},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[Y]=bt,L.push(g[ee].data)}if(I.shed_demand.show)if(I.shed_demand.subdivision)L=L.concat(_e.data);else{let g=Ne(_e.data,{location:r},{[Y]:u},[],!1);for(let ee in g)g[ee].data.location=g[ee].label,g[ee].data[Y]=gt,L.push(g[ee].data)}if(L.length==0){L=void 0,n(10,h=!1);return}let ue=new Set;L=L.filter(g=>g!=null);for(const g of L)ue.add(g.location);n(3,c=Array.from(ue)),n(10,h=!1)}function de(){return!T||T.unit===null?"":T.unit.data[0][0]}function oe(){n(10,h=!0);let u={},ie={},_e=[];for(const Ve of pe)_e.push(Ve+Re),_e.push(Ve+Ye);for(const Ve of x)_e.push(Ve+Re),_e.push(Ve+Ye);for(const Ve of A)_e.push(Ve+Re),_e.push(Ve+Ye);let ue=[..._e,...f,...t];re(ue),I.capex.subdivision||ue.push(pt),I.opex.subdivision||ue.push(mt),I.carrier.subdivision||ue.push(bt),I.shed_demand.subdivision||ue.push(gt),ve==te[0]?(u.location=c,ie[Y]=ue):(u[Y]=ue,ie.location=r);let g=d.filter(Ve=>!a.includes(Ve)),ee=Pt=="normalized",xe=[];L&&(xe=Ne(L,u,ie,g,ee)),ge.data.data.length>0&&I.carbon_emission.show&&xe.push({label:"Total Carbon Costs",data:ge.data.data[0],type:"bar"}),et().then(()=>{n(24,se.data={datasets:xe},se),n(24,se.options.scales.y.title.text="Costs ["+de()+"]",se),n(10,h=!1)})}async function m(){if(o==null)return;await B(),await et(),n(10,h=!0);let u=new Set;for(const g of T.data.data)u.add(g[Y].replace(Re,""));for(const g of j.data.data)u.add(g[Y].replace(Ye,""));n(11,v=o.detail.system.set_transport_technologies.filter(g=>u.has(g))),n(15,he=o.detail.system.set_conversion_technologies.filter(g=>u.has(g))),n(13,M=o.detail.system.set_storage_technologies.filter(g=>u.has(g))),n(12,A=v),n(16,pe=he),n(14,x=M);let ie=new Set;for(const g of Q.data.data)ie.add(g[Y]);n(0,i=o.detail.system.set_carriers),n(18,ne=o.detail.carriers_import.concat(o.detail.carriers_export).filter(g=>ie.has(g))),n(7,f=ne);let _e=new Set;for(const g of $.data.data)_e.add(g[Y]);n(19,me=o.detail.carriers_demand.filter(g=>_e.has(g))),n(8,t=me),n(1,s=o.detail.system.set_nodes),n(6,a=d),n(4,r=c),oe(),n(10,h=!1);let ue=o.solution_name.split(".");n(23,ke=[ue[(ue==null?void 0:ue.length)-1],o==null?void 0:o.scenario_name,"costs"].join("_"))}function q(u){i=u,n(0,i)}function ae(u){s=u,n(1,s)}function ce(u){d=u,n(2,d)}function V(u){o=u,n(5,o)}function Se(u){_=u,n(9,_)}function N(u,ie){e.$$.not_equal(I[ie].show,u)&&(I[ie].show=u,n(22,I))}function P(u,ie){e.$$.not_equal(I[ie].subdivision,u)&&(I[ie].subdivision=u,n(22,I))}function F(u){A=u,n(12,A)}function R(u){v=u,n(11,v)}const W=()=>{oe()};function Xe(u){x=u,n(14,x)}function Ze(u){M=u,n(13,M)}const Ae=()=>{oe()};function X(u){pe=u,n(16,pe)}function Z(u){he=u,n(15,he)}const p=()=>{oe()};function D(u){f=u,n(7,f)}function we(u){ne=u,n(18,ne)}const le=()=>{oe()};function Te(u){t=u,n(8,t)}function Ge(u){me=u,n(19,me)}const be=()=>{oe()};function Oe(u){te=u,n(20,te)}function Ue(u){ve=u,n(21,ve)}const Je=u=>{oe()};function Le(u){r=u,n(4,r)}const Ke=u=>{oe()};function ze(u){a=u,n(6,a)}const $e=u=>{oe()};function Et(u){se=u,n(24,se)}function Dt(u){e.$$.not_equal(o.detail.system.reference_year,u)&&(o.detail.system.reference_year=u,n(5,o))}function Ht(u){ke=u,n(23,ke)}return[i,s,d,c,r,o,a,f,t,_,h,v,A,M,x,he,pe,T,ne,me,te,ve,I,ke,se,oe,m,q,ae,ce,V,Se,N,P,F,R,W,Xe,Ze,Ae,X,Z,p,D,we,le,Te,Ge,be,Oe,Ue,Je,Le,Ke,ze,$e,Et,Dt,Ht]}class Qt extends wt{constructor(l){super(),Ct(this,l,Ft,Nt,vt,{},null,[-1,-1,-1])}}export{Qt as component};
