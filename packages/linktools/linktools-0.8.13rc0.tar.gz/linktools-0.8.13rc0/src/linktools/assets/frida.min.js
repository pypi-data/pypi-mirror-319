(function(){function u(o,i,s){function l(r,e){if(!i[r]){if(!o[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(c)return c(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var a=i[r]={exports:{}};o[r][0].call(a.exports,function(e){var t=o[r][1][e];return l(t||e)},a,a.exports,u,o,i,s)}return i[r].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}return u})()({1:[function(l,e,c){(function(s){(function(){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ScriptLoader=void 0;var a=l("./lib/log"),e=l("./lib/c"),o=l("./lib/java"),t=l("./lib/objc"),r=function(r){return function(){if(arguments.length>0){for(var e=pretty2String(arguments[0]),t=1;t<arguments.length;t++)e+=" ",e+=pretty2String(arguments[t]);r(e)}else r("")}};console.debug=r(a.d.bind(a)),console.info=r(a.i.bind(a)),console.warn=r(a.w.bind(a)),console.error=r(a.e.bind(a)),console.log=r(a.i.bind(a)),null!=s._setUnhandledExceptionCallback&&s._setUnhandledExceptionCallback(function(e){var t=void 0;if(e instanceof Error){var r=e.stack;void 0!==r&&(t=r)}if(Java.available){var n=o.getErrorStack(e);void 0!==n&&(void 0!==t?t+="\n\nCaused by: \n".concat(n):t=n)}a.exception(""+e,t)});var n=function(){function e(){}return e.prototype.load=function(e,t){for(var r=0,n=e;r<n.length;r++){var a=n[r];try{var o=a.filename;o=(o=o.replace(/[\/\\]/g,"$")).replace(/[^A-Za-z0-9_$]+/g,"_"),o="fn_".concat(o).substring(0,255),(0,eval)("(function ".concat(o,"(parameters) {").concat(a.source,"\n})\n")+"//# sourceURL=".concat(a.filename))(t)}catch(e){var i=e.hasOwnProperty("stack")?e.stack:e;throw new Error("Unable to load ".concat(a.filename,": ").concat(i))}}},e}();c.ScriptLoader=n;var i=new n;rpc.exports={loadScripts:i.load.bind(i)},Object.defineProperties(globalThis,{Log:{enumerable:!0,value:a},CHelper:{enumerable:!0,value:e},JavaHelper:{enumerable:!0,value:o},ObjCHelper:{enumerable:!0,value:t},isFunction:{enumerable:!1,value:function(e){return"[object Function]"===Object.prototype.toString.call(e)}},ignoreError:{enumerable:!1,value:function(e,t){void 0===t&&(t=void 0);try{return e()}catch(e){return a.d("Catch ignored error. "+e),t}}},parseBoolean:{enumerable:!1,value:function(e,t){if(void 0===t&&(t=void 0),"boolean"==typeof e)return e;if("string"==typeof e){var r=e.toLowerCase();if("true"===r)return!0;if("false"===r)return!1}return t}},pretty2String:{enumerable:!1,value:function(e){return"string"!=typeof e&&(e=pretty2Json(e)),JSON.stringify(e)}},pretty2Json:{enumerable:!1,value:function(e){if(!(e instanceof Object))return e;if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(pretty2Json(e[r]));return t}return Java.available&&o.isJavaObject(e)?o.o.objectClass.toString.apply(e):ignoreError(function(){return e.toString()})}}})}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./lib/c":2,"./lib/java":3,"./lib/log":4,"./lib/objc":5}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDescFromAddress=r.getDebugSymbolFromAddress=r.getEventImpl=r.hookFunction=r.hookFunctionWithCallbacks=r.hookFunctionWithOptions=r.getExportFunction=r.o=void 0;var c=e("./log"),n=function(){function e(){}return Object.defineProperty(e.prototype,"dlopen",{get:function(){return u(null,"dlopen","pointer",["pointer","int"])},enumerable:!1,configurable:!0}),e}();r.o=new n;var a=new ModuleMap,i={},o={};function u(e,t,r,n){var a=(e||"")+"|"+t;if(a in i)return i[a];var o=Module.findExportByName(e,t);if(null===o)throw Error("cannot find "+t);return i[a]=new NativeFunction(o,r,n),i[a]}function s(e,t,r){return l(e,t,d(r))}function l(e,n,t){var r=Module.findExportByName(e,n);if(null===r)throw Error("cannot find "+n);var a={get:function(e,t,r){return"name"===t?n:e[t]}},o={};"onEnter"in t&&(o.onEnter=function(e){t.onEnter.call(new Proxy(this,a),e)}),"onLeave"in t&&(o.onLeave=function(e){t.onLeave.call(new Proxy(this,a),e)});var i=Interceptor.attach(r,o);return c.i("Hook function: "+n+" ("+r+")"),i}function f(e,a,o,i,t){var s=u(e,a,o,i);if(null===s)throw Error("cannot find "+a);var l=isFunction(t)?t:d(t),r=i;Interceptor.replace(s,new NativeCallback(function(){for(var n=this,e=[],t=0;t<i.length;t++)e[t]=arguments[t];var r=new Proxy(s,{get:function(e,t,r){switch(t){case"name":return a;case"argumentTypes":return i;case"returnType":return o;case"context":return n.context;default:e[t]}},apply:function(e,t,r){return e.apply(null,r[0])}});return l.call(r,e)},o,r)),c.i("Hook function: "+a+" ("+s+")")}function d(e){var l={};if(l.method=parseBoolean(e.method,!0),l.thread=parseBoolean(e.thread,!1),l.stack=parseBoolean(e.stack,!1),l.symbol=parseBoolean(e.symbol,!0),l.backtracer=e.backtracer||"accurate",l.args=parseBoolean(e.args,!1),l.result=parseBoolean(e.result,l.args),l.extras={},null!=e.extras)for(var t in e.extras)l.extras[t]=e.extras[t];var r=function(e){var t={};for(var r in l.extras)t[r]=l.extras[r];!1!==l.method&&(t.method_name=this.name),!1!==l.thread&&(t.thread_id=Process.getCurrentThreadId()),!1!==l.args&&(t.args=pretty2Json(e)),!1!==l.result&&(t.result=null),!1===l.args&&!1===l.result||(t.error=null);try{var n=this(e);return!1!==l.result&&(t.result=pretty2Json(n)),n}catch(e){throw!1===l.args&&!1===l.result||(t.error=pretty2Json(e)),e}finally{if(!1!==l.stack)for(var a=t.stack=[],o="accurate"===l.backtracer?Backtracer.ACCURATE:Backtracer.FUZZY,i=Thread.backtrace(this.context,o),s=0;s<i.length;s++)a.push(v(i[s],!1!==l.symbol));c.event(t)}};return r.onLeave=function(e){var t={};for(var r in l.extras)t[r]=l.extras[r];if(!1!==l.method&&(t.method_name=this.name),!1!==l.thread&&(t.thread_id=Process.getCurrentThreadId()),!1!==l.result&&(t.result=pretty2Json(e)),!1!==l.stack)for(var n=t.stack=[],a="accurate"===l.backtracer?Backtracer.ACCURATE:Backtracer.FUZZY,o=Thread.backtrace(this.context,a),i=0;i<o.length;i++)n.push(v(o[i],!1!==l.symbol));c.event(t)},r}function g(e){var t=e.toString();return void 0===o[t]&&(o[t]=DebugSymbol.fromAddress(e)),o[t]}function v(e,t){if(t){var r=g(e);if(null!=r)return r.toString()}var n=a.find(e);return null!=n?"".concat(e," ").concat(n.name,"!").concat(e.sub(n.base)):"".concat(e)}r.getExportFunction=u,r.hookFunctionWithOptions=s,r.hookFunctionWithCallbacks=l,r.hookFunction=f,r.getEventImpl=d,r.getDebugSymbolFromAddress=g,r.getDescFromAddress=v},{"./log":4}],3:[function(e,t,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getErrorStack=c.runOnCreateApplication=c.runOnCreateContext=c.traceClasses=c.chooseClassLoader=c.bypassSslPinning=c.setWebviewDebuggingEnabled=c.use=c.getStackTrace=c.getJavaEnumValue=c.fromJavaArray=c.isJavaArray=c.isJavaObject=c.getEventImpl=c.hookClass=c.hookAllMethods=c.hookAllConstructors=c.hookMethods=c.hookMethod=c.findClass=c.getClassMethod=c.getClassName=c.getObjectHandle=c.isSameObject=c.o=void 0;var s=e("./log"),r=function(){function e(){this.excludeHookPackages=["java.","javax.","android.","androidx."]}return Object.defineProperty(e.prototype,"objectClass",{get:function(){return Java.use("java.lang.Object")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classClass",{get:function(){return Java.use("java.lang.Class")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classLoaderClass",{get:function(){return Java.use("java.lang.ClassLoader")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stringClass",{get:function(){return Java.use("java.lang.String")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threadClass",{get:function(){return Java.use("java.lang.Thread")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"throwableClass",{get:function(){return Java.use("java.lang.Throwable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uriClass",{get:function(){return Java.use("android.net.Uri")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"urlClass",{get:function(){return Java.use("java.net.URL")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapClass",{get:function(){return Java.use("java.util.Map")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hashSetClass",{get:function(){return Java.use("java.util.HashSet")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"applicationContext",{get:function(){return Java.use("android.app.ActivityThread").currentApplication().getApplicationContext()},enumerable:!1,configurable:!0}),e}();function n(e,t){return e===t||null!=e&&null!=t&&(!!e.hasOwnProperty("$isSameObject")&&e.$isSameObject(t))}function l(e){return null==e?null:e.hasOwnProperty("$h")?e.$h:void 0}function u(e){var t=e.$className;if(null!=t)return t;if(null!=(t=e.__name__))return t;if(null!=e.$classWrapper){if(null!=(t=e.$classWrapper.$className))return t;if(null!=(t=e.$classWrapper.__name__))return t}s.e("Cannot get class name: "+e)}function f(e,t){var r=e[t];return void 0!==r||"$"==t[0]&&void 0!==(r=e["_"+t])?r:void 0}function d(e,t){if(void 0===t&&(t=void 0),void 0!==t&&null!=t)return Java.ClassFactory.get(t).use(e);if(parseInt(Java.androidVersion)<7)return Java.use(e);for(var r=null,n=0,a=Java.enumerateClassLoadersSync();n<a.length;n++){var o=a[n];try{var i=d(e,o);if(null!=i)return i}catch(e){null==r&&(r=e)}}throw r}function i(e,t,r,n){void 0===n&&(n=null);var a=t;if("string"==typeof a){var o=a,i=e;"string"==typeof i&&(i=d(i));var s=f(i,o);if(void 0===s||void 0===s.overloads)throw Error("Cannot find method: "+u(i)+"."+o);if(null!=r){var l=r;for(var c in l)"string"!=typeof l[c]&&(l[c]=u(l[c]));a=s.overload.apply(s,l)}else{if(1!=s.overloads.length)throw Error(u(i)+"."+o+" has too many overloads");a=s.overloads[0]}}L(a),N(a,n)}function g(e,t,r){void 0===r&&(r=null);var n=e;"string"==typeof n&&(n=d(n));var a=f(n,t);if(void 0===a||void 0===a.overloads)throw Error("Cannot find method: "+u(n)+"."+t);for(var o=0;o<a.overloads.length;o++){var i=a.overloads[o];void 0!==i.returnType&&void 0!==i.returnType.className&&(L(i),N(i,r))}}function a(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=d(r)),g(r,"$init",t)}function o(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=d(r));for(var n=[],a=null,o=r.class;null!=o;){for(var i=o.getDeclaredMethods(),s=0;s<i.length;s++){var l=i[s].getName();n.indexOf(l)<0&&(n.push(l),g(r,l,t))}if(a=o.getSuperclass(),o.$dispose(),null==a)break;if(T((o=Java.cast(a,c.o.classClass)).getName()))break}}function v(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=d(r)),a(r,t),o(r,t)}function p(e){var o={};if(o.method=parseBoolean(e.method,!0),o.thread=parseBoolean(e.thread,!1),o.stack=parseBoolean(e.stack,!1),o.args=parseBoolean(e.args,!1),o.result=parseBoolean(e.result,o.args),o.extras={},null!=e.extras)for(var t in e.extras)o.extras[t]=e.extras[t];return function(e,t){var r={};for(var n in o.extras)r[n]=o.extras[n];!1!==o.method&&(r.class_name=e.$className,r.method_name=this.name,r.method_simple_name=this.methodName),!1!==o.thread&&(r.thread_id=Process.getCurrentThreadId(),r.thread_name=c.o.threadClass.currentThread().getName()),!1!==o.args&&(r.args=pretty2Json(t)),!1!==o.result&&(r.result=null),!1===o.args&&!1===o.result||(r.error=null);try{var a=this(e,t);return!1!==o.result&&(r.result=pretty2Json(a)),a}catch(e){throw!1===o.args&&!1===o.result||(r.error=pretty2Json(e)),e}finally{!1!==o.stack&&(r.stack=pretty2Json(k())),s.event(r)}}}function h(e){if(e instanceof Object&&e.hasOwnProperty("class")&&e.class instanceof Object){var t=e.class;if(t.hasOwnProperty("getName")&&t.hasOwnProperty("getDeclaredClasses")&&t.hasOwnProperty("getDeclaredFields")&&t.hasOwnProperty("getDeclaredMethods"))return!0}return!1}function b(e){if(e instanceof Object&&e.hasOwnProperty("class")&&e.class instanceof Object){var t=e.class;if(t.hasOwnProperty("isArray")&&t.isArray())return!0}return!1}function m(e,t){var r=e;"string"==typeof r&&(r=d(r));for(var n=[],a=Java.vm.getEnv(),o=0;o<a.getArrayLength(t.$handle);o++)n.push(Java.cast(a.getObjectArrayElement(t.$handle,o),r));return n}function y(e,t){var r=e;"string"==typeof r&&(r=d(r));var n=r.class.getEnumConstants();n instanceof Array||(n=m(r,n));for(var a=0;a<n.length;a++)if(n[a].toString()===t)return n[a];throw new Error("Name of "+t+" does not match "+r)}function k(e){void 0===e&&(e=void 0);for(var t=[],r=(e||c.o.throwableClass.$new()).getStackTrace(),n=0;n<r.length;n++)t.push(r[n]);return t}c.o=new r,c.isSameObject=n,c.getObjectHandle=l,c.getClassName=u,c.getClassMethod=f,c.findClass=d,c.hookMethod=i,c.hookMethods=g,c.hookAllConstructors=a,c.hookAllMethods=o,c.hookClass=v,c.getEventImpl=p,c.isJavaObject=h,c.isJavaArray=b,c.fromJavaArray=m,c.getJavaEnumValue=y,c.getStackTrace=k;var C=null;function S(o){var n=c.o.hashSetClass.$new(),a=function(r){for(var a,e=o.entries(),t=function(){var e=a.value[0],t=a.value[1],n=null;try{n=d(e,r)}catch(e){}null!=n&&(o.delete(e),t.forEach(function(e,t,r){try{e(n)}catch(e){s.w("Call JavaHelper.use callback error: "+e)}}))};!(a=e.next()).done;)t()},e=c.o.classClass,t=c.o.classLoaderClass;i(e,"forName",["java.lang.String","boolean",t],function(e,t){var r=t[2];return null==r||n.contains(r)||(n.add(r),a(r)),this(e,t)}),i(t,"loadClass",["java.lang.String","boolean"],function(e,t){var r=e;return n.contains(r)||(n.add(r),a(r)),this(e,t)})}function O(t,r){var e=null;try{e=d(t)}catch(e){var n;if(null==C&&S(C=new Map),C.has(t))void 0!==(n=C.get(t))&&n.add(r);else(n=new Set).add(r),C.set(t,n);return}try{r(e)}catch(t){s.w("Call JavaHelper.use callback error: "+t)}}function w(){s.w("Android Enable Webview Debugging"),ignoreError(function(){var r=d("android.webkit.WebView");g(r,"setWebContentsDebuggingEnabled",function(e,t){return s.d("".concat(r,".setWebContentsDebuggingEnabled: ").concat(t[0])),t[0]=!0,this(e,t)}),g(r,"loadUrl",function(e,t){return s.d("".concat(r,".loadUrl: ").concat(t[0])),r.setWebContentsDebuggingEnabled(!0),this(e,t)})}),ignoreError(function(){var r=d("com.uc.webview.export.WebView");g(r,"setWebContentsDebuggingEnabled",function(e,t){return s.d("".concat(r,".setWebContentsDebuggingEnabled: ").concat(t[0])),t[0]=!0,this(e,t)}),g(r,"loadUrl",function(e,t){return s.d("".concat(r,".loadUrl: ").concat(t[0])),r.setWebContentsDebuggingEnabled(!0),this(e,t)})})}function j(){s.w("Android Bypass ssl pinning");var r=Java.use("java.util.Arrays");ignoreError(function(){return g("com.android.org.conscrypt.TrustManagerImpl","checkServerTrusted",function(e,t){if(s.d("SSL bypassing "+this),"void"!=this.returnType.type)return"pointer"==this.returnType.type&&"java.util.List"==this.returnType.className?r.asList(t[0]):void 0})}),ignoreError(function(){return g("com.google.android.gms.org.conscrypt.Platform","checkServerTrusted",function(e,t){s.d("SSL bypassing "+this)})}),ignoreError(function(){return g("com.android.org.conscrypt.Platform","checkServerTrusted",function(e,t){s.d("SSL bypassing "+this)})}),ignoreError(function(){return g("okhttp3.CertificatePinner","check",function(e,t){if(s.d("SSL bypassing "+this),"boolean"==this.returnType.type)return!0})}),ignoreError(function(){return g("okhttp3.CertificatePinner","check$okhttp",function(e,t){s.d("SSL bypassing "+this)})}),ignoreError(function(){return g("com.android.okhttp.CertificatePinner","check",function(e,t){if(s.d("SSL bypassing "+this),"boolean"==this.returnType.type)return!0})}),ignoreError(function(){return g("com.android.okhttp.CertificatePinner","check$okhttp",function(e,t){s.d("SSL bypassing "+this)})}),ignoreError(function(){return g("com.android.org.conscrypt.TrustManagerImpl","verifyChain",function(e,t){return s.d("SSL bypassing "+this),t[0]})})}function E(t){s.w("choose classloder: "+t),Java.enumerateClassLoaders({onMatch:function(e){try{null!=e.findClass(t)&&(s.i("choose classloader: "+e),Reflect.set(Java.classFactory,"loader",e))}catch(e){s.e(pretty2Json(e))}},onComplete:function(){s.d("enumerate classLoaders complete")}})}function x(r,n,a){void 0===n&&(n=void 0),void 0===a&&(a=void 0),r=null!=r?r.trim().toLowerCase():"",n=null!=n?n.trim().toLowerCase():"",a=null!=a?a:{stack:!0,args:!0},s.w("trace classes, include: "+r+", exclude: "+n+", options: "+JSON.stringify(a)),Java.enumerateLoadedClasses({onMatch:function(e){var t=e.toString().toLowerCase();t.indexOf(r)>=0&&(""==n||t.indexOf(n)<0)&&o(e,p(a))},onComplete:function(){s.d("enumerate classLoaders complete")}})}function _(n){g("android.app.ContextImpl","createAppContext",function(e,t){var r=this(e,t);return n(r),r})}function P(n){g("android.app.LoadedApk","makeApplication",function(e,t){var r=this(e,t);return n(r),r})}function J(e){if(e.startsWith("[L")&&e.endsWith(";"))return"".concat(e.substring(2,e.length-1),"[]");if(e.startsWith("["))switch(e.substring(1,2)){case"B":return"byte[]";case"C":return"char[]";case"D":return"double[]";case"F":return"float[]";case"I":return"int[]";case"S":return"short[]";case"J":return"long[]";case"Z":return"boolean[]";case"V":return"void[]"}return e}function L(e){Object.defineProperties(e,{className:{configurable:!0,enumerable:!0,writable:!1,value:u(e.holder)},name:{configurable:!0,enumerable:!0,get:function(){var e=J(this.returnType.className),t=J(this.className)+"."+this.methodName,r="";if(this.argumentTypes.length>0){r=J(this.argumentTypes[0].className);for(var n=1;n<this.argumentTypes.length;n++)r=r+", "+J(this.argumentTypes[n].className)}return e+" "+t+"("+r+")"}},toString:{configurable:!0,value:function(){return this.name}}})}function N(e,t){if(void 0===t&&(t=null),null!=t){var r=new Proxy(e,{apply:function(e,t,r){var n=r[0],a=r[1];return e.apply(n,a)}}),n=isFunction(t)?t:p(t);e.implementation=function(){return n.call(r,this,Array.prototype.slice.call(arguments))},s.i("Hook method: "+e)}else e.implementation=null,s.i("Unhook method: "+e)}function T(e){for(var t in c.o.excludeHookPackages)if(0==e.indexOf(c.o.excludeHookPackages[t]))return!0;return!1}function A(e){try{var t=l(e);if(void 0!==t){for(var r=Java.cast(t,c.o.throwableClass),n=[],a=0,o=k(r);a<o.length;a++){var i=o[a];n.push("    at ".concat(i))}return n.length>0?"".concat(r,"\n").concat(n.join("\n")):"".concat(r)}}catch(e){s.d("getErrorStack error: ".concat(e))}}c.use=O,c.setWebviewDebuggingEnabled=w,c.bypassSslPinning=j,c.chooseClassLoader=E,c.traceClasses=x,c.runOnCreateContext=_,c.runOnCreateApplication=P,c.getErrorStack=A},{"./log":4}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.exception=r.event=r.e=r.w=r.i=r.d=r.setLevel=r.getLevel=r.ERROR=r.WARNING=r.INFO=r.DEBUG=void 0,r.DEBUG=1,r.INFO=2,r.WARNING=3,r.ERROR=4;var n=r.INFO,a=[],o=null;function i(){return n}function s(e){n=e,l("Set log level: "+e)}function l(e,t){n<=r.DEBUG&&v("log",{level:"debug",message:e},t)}function c(e,t){n<=r.INFO&&v("log",{level:"info",message:e},t)}function u(e,t){n<=r.WARNING&&v("log",{level:"warning",message:e},t)}function f(e,t){n<=r.ERROR&&v("log",{level:"error",message:e},t)}function d(e,t){v("msg",e,t)}function g(e,t){v("error",{description:e,stack:t})}function v(e,t,r){var n={};n[e]=t,null==r?(a.push(n),a.length>=50?p():null===o&&(o=setTimeout(p,50))):(p(),send({$events:[n]},r))}function p(){if(null!==o&&(clearTimeout(o),o=null),0!==a.length){var e=a;a=[],send({$events:e})}}r.getLevel=i,r.setLevel=s,r.d=l,r.i=c,r.w=u,r.e=f,r.event=d,r.exception=g},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bypassSslPinning=r.convert2ObjcObject=r.getEventImpl=r.hookMethods=r.hookMethod=void 0;var f=e("./log"),d=e("./c");function n(e,t,r){void 0===r&&(r=null);var n=e;if("string"==typeof n&&(n=ObjC.classes[n]),void 0===n)throw Error('cannot find class "'+e+'"');var a=t;if("string"==typeof a&&(a=n[a]),void 0===a)throw Error('cannot find method "'+t+'" in class "'+n+'"');l(n,a),c(a,r)}function a(e,t,r){void 0===r&&(r=null);var n=e;if("string"==typeof n&&(n=ObjC.classes[n]),void 0===n)throw Error('cannot find class "'+e+'"');for(var a=n.$ownMethods.length,o=0;o<a;o++){var i=n.$ownMethods[o];if(i.indexOf(t)>=0){var s=n[i];l(n,s),c(s,r)}}}function o(e){var u={};if(u.method=parseBoolean(e.method,!0),u.thread=parseBoolean(e.thread,!1),u.stack=parseBoolean(e.stack,!1),u.symbol=parseBoolean(e.symbol,!0),u.backtracer=e.backtracer||"accurate",u.args=parseBoolean(e.args,!1),u.result=parseBoolean(e.result,u.args),u.extras={},null!=e.extras)for(var t in e.extras)u.extras[t]=e.extras[t];return function(e,t){var r={};for(var n in u.extras)r[n]=u.extras[n];if(!1!==u.method&&(r.class_name=new ObjC.Object(e).$className,r.method_name=this.name,r.method_simple_name=this.methodName),!1!==u.thread&&(r.thread_id=Process.getCurrentThreadId(),r.thread_name=ObjC.classes.NSThread.currentThread().name().toString()),!1!==u.args){for(var a=[],o=0;o<t.length;o++)a.push(g(t[o]));r.args=pretty2Json(a),r.result=null,r.error=null}!1!==u.result&&(r.result=null),!1===u.args&&!1===u.result||(r.error=null);try{var i=this(e,t);return!1!==u.result&&(r.result=pretty2Json(g(i))),i}catch(e){throw!1===u.args&&!1===u.result||(r.error=pretty2Json(e)),e}finally{if(!1!==u.stack){var s=r.stack=[],l="accurate"===u.backtracer?Backtracer.ACCURATE:Backtracer.FUZZY,c=Thread.backtrace(this.context,l);for(o=0;o<c.length;o++)s.push(d.getDescFromAddress(c[o],!1!==u.symbol))}f.event(r)}}}function g(e){return e instanceof NativePointer||"object"==typeof e&&e.hasOwnProperty("handle")?new ObjC.Object(e):e}function i(){f.w("iOS Bypass ssl pinning");try{Module.ensureInitialized("libboringssl.dylib")}catch(e){f.d("libboringssl.dylib module not loaded. Trying to manually load it."),Module.load("libboringssl.dylib")}var t=new NativeCallback(function(e,t){return f.d("custom SSL context verify callback, returning SSL_VERIFY_NONE"),0},"int",["pointer","pointer"]);try{d.hookFunction("libboringssl.dylib","SSL_set_custom_verify","void",["pointer","int","pointer"],function(e){return f.d("SSL_set_custom_verify(), setting custom callback."),e[2]=t,this(e)})}catch(e){d.hookFunction("libboringssl.dylib","SSL_CTX_set_custom_verify","void",["pointer","int","pointer"],function(e){return f.d("SSL_CTX_set_custom_verify(), setting custom callback."),e[2]=t,this(e)})}d.hookFunction("libboringssl.dylib","SSL_get_psk_identity","pointer",["pointer"],function(e){return f.d('SSL_get_psk_identity(), returning "fakePSKidentity"'),Memory.allocUtf8String("fakePSKidentity")})}function l(e,t){var r=t.origImplementation||t.implementation,n=e.toString(),a=ObjC.selectorAsString(t.selector),o=ObjC.classes.NSThread.hasOwnProperty(a);Object.defineProperties(t,{className:{configurable:!0,enumerable:!0,get:function(){return n}},methodName:{configurable:!0,enumerable:!0,get:function(){return a}},name:{configurable:!0,enumerable:!0,get:function(){return(o?"+":"-")+"["+n+" "+a+"]"}},origImplementation:{configurable:!0,enumerable:!0,get:function(){return r}},toString:{value:function(){return this.name}}})}function c(a,e){if(void 0===e&&(e=null),null!=e){var i=isFunction(e)?e:o(e);a.implementation=ObjC.implement(a,function(){var n=this,e=Array.prototype.slice.call(arguments),t=e.shift(),o=e.shift(),r=new Proxy(a,{get:function(e,t,r){return t in n?n[t]:e[t]},apply:function(e,t,r){var n=r[0],a=r[1];return e.origImplementation.apply(null,[].concat(n,o,a))}});return i.call(r,t,e)}),f.i("Hook method: "+a)}else a.implementation=a.origImplementation,f.i("Unhook method: "+pretty2String(a))}r.hookMethod=n,r.hookMethods=a,r.getEventImpl=o,r.convert2ObjcObject=g,r.bypassSslPinning=i},{"./c":2,"./log":4}]},{},[1]);