[project]
name = "tsd2gspread"
version = "0.3.0"
description = "Time Series Data to Google Sheets"
authors = [
  { name = "rcmdnk", email =  "rcmdnk@gmail.com" }
]
readme = "README.md"
license = "Apache-2.0"
keywords = ['API', 'Data', 'Google', 'Sheets', 'Spreadsheets']


requires-python = ">=3.9"
dependencies = [
  "gspread >=6.1.2",
]

[project.urls]
Repository = "https://github.com/rcmdnk/tsd2gspread"
Homepage = "https://github.com/rcmdnk/tsd2gspread"

[dependency-groups]
dev = [
    "pytest >=8.0.0",
    "pytest-cov >=6.0.0",
    "pytest-xdist >=3.2.1",
    "pytest-benchmark >=5.0.0",
    "pyproject-pre-commit[ruff] >=0.3.6",
]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.pytest.ini_options]
addopts = "-n auto"
testpaths = ["tests",]

[tool.ruff]
line-length = 79
# quote-style = "single"

[tool.ruff.lint]
select = ["ALL"]

ignore = [
  "E203", # Not PEP8 compliant and black insert space around slice: [Frequently Asked Questions - Black 22.12.0 documentation](https://black.readthedocs.io/en/stable/faq.html#why-are-flake8-s-e203-and-w503-violated)
  "E501", # Line too long. Disable it to allow long lines of comments and print lines which black allows.
#  "E704", # NOT in ruff. multiple statements on one line (def). This is inconsistent with black >= 24.1.1 (see ttps://github.com/psf/black/pull/3796)
#  "W503", # NOT in ruff. is the counter part of W504, which follows current PEP8: [Line break occurred before a binary operator (W503)](https://www.flake8rules.com/rules/W503.html)
  "D100", "D102", "D103", "D104", "D105", "D106", # Missing docstrings other than class (D101)
  "D401", # First line should be in imperative mood
  "D203", # 1 blank line required before class docstring, conflicting with D211 (no-blank-line-before-class)
  "D213", # multi-line summary should start from the second line, conflicting with D212 (multi-line-summary-first-line)
  "COM812", "ISC001", # These rules may cause conflicts when used with the formatter: `COM812`, `ISC001`. To avoid unexpected behavior, we recommend disabling these rules, either by removing them from the `select` or `extend-select` configuration, or adding them to the `ignore` configuration.
  "FBT001", # Boolean-typed positional argument in function definition
  "ANN003", # Missing type annotation for a variable (to ignore **kw, others are checked by mypy)
  "D107", # Missing docstring in __init__
  "FBT002", # Boolean-typed keyword argument in function definition
  "PLR2004", # Magic value used in comparison
]

[tool.ruff.lint.per-file-ignores]
"tests/**" = ["S101"]

[tool.ruff.lint.mccabe]
max-complexity = 10

[tool.ruff.format]
docstring-code-format = true

[tool.mypy]
files = ["src/**/*.py"]
strict = true
warn_return_any = false
ignore_missing_imports = true
scripts_are_modules = true
install_types = true
non_interactive = true
