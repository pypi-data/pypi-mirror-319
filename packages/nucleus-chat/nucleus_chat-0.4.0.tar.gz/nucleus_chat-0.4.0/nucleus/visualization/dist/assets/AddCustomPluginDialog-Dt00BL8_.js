import{m as x,o as P,a as n,u as D,R as e,c as y,D as R,aq as m,d,ac as A,au as L,e as M,B as p}from"./index-Bm2SqMk3.js";import{E as N}from"./ExpandMore-D59AlJWk.js";const O=x()(a=>({dialogContent:{display:"flex",flexDirection:"column"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:a.transitions.create("transform",{duration:a.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}})),B=P(function({onClose:a,model:E}){const{classes:l,cx:f}=O(),[o,h]=n.useState(""),[i,v]=n.useState(""),[s,b]=n.useState(""),[r,C]=n.useState(""),[u,S]=n.useState(!1),{jbrowse:c}=D.getSession(E),U=!!(o&&i||s||r);function g(){o&&i?c.addPlugin({name:o,umdUrl:i}):s?c.addPlugin({esmUrl:s}):r&&c.addPlugin({cjsUrl:r})}return e.createElement(y.Dialog,{open:!0,onClose:a,title:"Add custom plugin"},e.createElement("form",{onSubmit:g},e.createElement(R,{className:l.dialogContent},e.createElement(m,null,"Enter the name of the plugin and its URL. The name should match what is defined in the plugin's build."),e.createElement(d,{label:"Plugin name",variant:"outlined",value:o,onChange:t=>{h(t.target.value)}}),e.createElement(d,{label:"Plugin URL",variant:"outlined",value:i,onChange:t=>{v(t.target.value)}}),e.createElement(m,{onClick:()=>{S(!u)}},e.createElement(A,{className:f(l.expand,{[l.expandOpen]:u}),"aria-expanded":u,"aria-label":"show more"},e.createElement(N,null)),"Advanced options"),e.createElement(L,{in:u},e.createElement("div",{className:l.dialogContent},e.createElement(m,null,"The above fields assume that the plugin is built in UMD format. If your plugin is in another format, or you have additional builds you want to add (such as a CJS build for using NodeJS APIs in desktop), you can enter the URLs for those builds below."),e.createElement(d,{label:"ESM build URL",variant:"outlined",value:s,onChange:t=>{b(t.target.value)}}),e.createElement(d,{label:"CJS build URL",variant:"outlined",value:r,onChange:t=>{C(t.target.value)}})))),e.createElement(M,null,e.createElement(p,{variant:"contained",onClick:a},"Cancel"),e.createElement(p,{variant:"contained",color:"primary",onClick:g,disabled:!U},"Submit"))))});export{B as default};
