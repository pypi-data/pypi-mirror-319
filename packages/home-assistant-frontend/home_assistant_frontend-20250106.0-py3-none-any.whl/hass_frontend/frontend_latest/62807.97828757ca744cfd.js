export const ids=["62807"];export const modules={99426:function(e,a,t){t.r(a);var i=t(44249),n=t(57243),o=t(15093),s=t(35359),c=t(36522);t(23334),t(37583);const d={info:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",success:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"};(0,i.Z)([(0,o.Mo)("ha-alert")],(function(e,a){return{F:class extends a{constructor(...a){super(...a),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)()],key:"title",value:()=>""},{kind:"field",decorators:[(0,o.Cb)({attribute:"alert-type"})],key:"alertType",value:()=>"info"},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"dismissable",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"method",key:"render",value:function(){return n.dy` <div class="issue-type ${(0,s.$)({[this.alertType]:!0})}" role="alert"> <div class="icon ${this.title?"":"no-title"}"> <slot name="icon"> <ha-svg-icon .path="${d[this.alertType]}"></ha-svg-icon> </slot> </div> <div class="${(0,s.$)({content:!0,narrow:this.narrow})}"> <div class="main-content"> ${this.title?n.dy`<div class="title">${this.title}</div>`:n.Ld} <slot></slot> </div> <div class="action"> <slot name="action"> ${this.dismissable?n.dy`<ha-icon-button @click="${this._dismissClicked}" label="Dismiss alert" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`:n.Ld} </slot> </div> </div> </div> `}},{kind:"method",key:"_dismissClicked",value:function(){(0,c.B)(this,"alert-dismissed-clicked")}},{kind:"field",static:!0,key:"styles",value:()=>n.iv`.issue-type{position:relative;padding:8px;display:flex}.issue-type::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:4px}.icon{z-index:1}.icon.no-title{align-self:center}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:var(--float-start)}.content.narrow{flex-direction:column;align-items:flex-end}.action{z-index:1;width:min-content;--mdc-theme-primary:var(--primary-text-color)}.main-content{overflow-wrap:anywhere;word-break:break-word;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:0}.title{margin-top:2px;font-weight:700}.action ha-icon-button,.action mwc-button{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-button-size:36px}.issue-type.info>.icon{color:var(--info-color)}.issue-type.info::after{background-color:var(--info-color)}.issue-type.warning>.icon{color:var(--warning-color)}.issue-type.warning::after{background-color:var(--warning-color)}.issue-type.error>.icon{color:var(--error-color)}.issue-type.error::after{background-color:var(--error-color)}.issue-type.success>.icon{color:var(--success-color)}.issue-type.success::after{background-color:var(--success-color)}:host ::slotted(ul){margin:0;padding-inline-start:20px}`}]}}),n.oi)},4322:function(e,a,t){t.a(e,(async function(e,a){try{var i=t(44249),n=t(57243),o=t(15093),s=t(36522),c=(t(19993),t(74633),t(42603)),d=t(7111),l=t(26779),r=t(93913),u=e([l]);l=(u.then?(await u)():u)[0];const h="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z";(0,i.Z)([(0,o.Mo)("ha-backup-config-encryption-key")],(function(e,a){return{F:class extends a{constructor(...a){super(...a),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"value",value:void 0},{kind:"get",key:"_value",value:function(){return this.value??""}},{kind:"method",key:"render",value:function(){return this._value?n.dy` <ha-md-list> <ha-md-list-item> <span slot="headline">Download emergency kit</span> <span slot="supporting-text"> We recommend to save this encryption key somewhere secure. </span> <ha-button slot="end" @click="${this._download}"> <ha-svg-icon .path="${h}" slot="icon"></ha-svg-icon> Download </ha-button> </ha-md-list-item> <ha-md-list-item> <span slot="headline">Show my encryption key</span> <span slot="supporting-text"> Please keep your encryption key private. </span> <ha-button slot="end" @click="${this._show}">Show</ha-button> </ha-md-list-item> <ha-md-list-item> <span slot="headline">Change encryption key</span> <span slot="supporting-text"> All next backups will use this encryption key. </span> <ha-button class="danger" slot="end" @click="${this._change}"> Change </ha-button> </ha-md-list-item> </ha-md-list> `:n.dy` <ha-md-list> <ha-md-list-item> <span slot="headline">Set encryption key</span> <span slot="supporting-text"> Set an encryption key for your backups. </span> <ha-button slot="end" @click="${this._set}"> Set </ha-button> </ha-md-list-item> </ha-md-list> `}},{kind:"method",key:"_download",value:function(){this._value&&(0,l.VY)(this.hass,this._value)}},{kind:"method",key:"_show",value:function(){(0,r.i)(this,{currentKey:this._value})}},{kind:"method",key:"_change",value:function(){(0,c.k)(this,{currentKey:this._value,saveKey:e=>{(0,s.B)(this,"value-changed",{value:e})}})}},{kind:"method",key:"_set",value:function(){(0,d.S)(this,{saveKey:e=>{(0,s.B)(this,"value-changed",{value:e})}})}},{kind:"field",static:!0,key:"styles",value:()=>n.iv`ha-md-list{background:0 0;--md-list-item-leading-space:0;--md-list-item-trailing-space:0}.danger{--mdc-theme-primary:var(--error-color)}`}]}}),n.oi);a()}catch(e){a(e)}}))},42603:function(e,a,t){t.d(a,{k:function(){return o}});var i=t(36522);const n=()=>Promise.all([t.e("7442"),t.e("50437")]).then(t.bind(t,36943)),o=(e,a)=>new Promise((t=>{const o=a?.cancel,s=a?.submit;(0,i.B)(e,"show-dialog",{dialogTag:"ha-dialog-change-backup-encryption-key",dialogImport:n,dialogParams:{...a,cancel:()=>{t(!1),o&&o()},submit:e=>{t(e),s&&s(e)}}})}))},84941:function(e,a,t){t.d(a,{s:function(){return n}});var i=t(36522);const n=(e,a)=>{(0,i.B)(e,"show-dialog",{dialogTag:"dialog-local-backup-location",dialogImport:()=>Promise.all([t.e("63055"),t.e("48115")]).then(t.bind(t,74136)),dialogParams:a})}},7111:function(e,a,t){t.d(a,{S:function(){return o}});var i=t(36522);const n=()=>Promise.all([t.e("7442"),t.e("28501")]).then(t.bind(t,82023)),o=(e,a)=>new Promise((t=>{const o=a?.cancel,s=a?.submit;(0,i.B)(e,"show-dialog",{dialogTag:"ha-dialog-set-backup-encryption-key",dialogImport:n,dialogParams:{...a,cancel:()=>{t(!1),o&&o()},submit:e=>{t(e),s&&s(e)}}})}))},93913:function(e,a,t){t.d(a,{i:function(){return o}});var i=t(36522);const n=()=>Promise.all([t.e("7442"),t.e("99091")]).then(t.bind(t,70697)),o=(e,a)=>(0,i.B)(e,"show-dialog",{dialogTag:"ha-dialog-show-backup-encryption-key",dialogImport:n,dialogParams:a})},13310:function(e,a,t){t.a(e,(async function(e,i){try{t.r(a);var n=t(44249),o=t(72621),s=t(57243),c=t(15093),d=t(72344),l=t(36522),r=t(87707),u=t(22381),h=t(76320),p=(t(59826),t(34273),t(54977),t(23334),t(13928),t(7285),t(99426),t(34326),t(37583),t(26779)),g=(t(87979),t(68545)),k=(t(5131),t(4322)),f=t(6384),v=t(84941),y=e([g,k,f,p]);[g,k,f,p]=y.then?(await y)():y;const m="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",_="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M12,4A6,6 0 0,0 6,10C6,13.31 8.69,16 12.1,16L11.22,13.77C10.95,13.29 11.11,12.68 11.59,12.4L12.45,11.9C12.93,11.63 13.54,11.79 13.82,12.27L15.74,14.69C17.12,13.59 18,11.9 18,10A6,6 0 0,0 12,4M12,9A1,1 0 0,1 13,10A1,1 0 0,1 12,11A1,1 0 0,1 11,10A1,1 0 0,1 12,9M7,18A1,1 0 0,0 6,19A1,1 0 0,0 7,20A1,1 0 0,0 8,19A1,1 0 0,0 7,18M12.09,13.27L14.58,19.58L17.17,18.08L12.95,12.77L12.09,13.27Z";(0,n.Z)([(0,c.Mo)("ha-config-backup-settings")],(function(e,a){class t extends a{constructor(...a){super(...a),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"cloudStatus",value:void 0},{kind:"field",decorators:[(0,c.Cb)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"config",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_config",value:void 0},{kind:"method",key:"willUpdate",value:function(e){(0,o.Z)(t,"willUpdate",this,3)([e]),e.has("config")&&!this._config&&(this._config=this.config)}},{kind:"method",key:"firstUpdated",value:function(e){(0,o.Z)(t,"firstUpdated",this,3)([e]),this._scrollToSection()}},{kind:"method",key:"_scrollToSection",value:async function(){if("locations"===window.location.hash.substring(1)&&(0,d.p)(this.hass,"hassio")&&!this._config?.create_backup.include_all_addons&&this._config?.create_backup.include_addons?.length)return this.addEventListener("backup-addons-fetched",(async()=>{await(0,h.y)(),this._scrolltoHash()})),void setTimeout((()=>{this._clearHash()}),500);await(0,h.y)(),this._scrolltoHash()}},{kind:"method",key:"_scrolltoHash",value:function(){const e=window.location.hash.substring(1);if(e){const a=this.shadowRoot.getElementById(e);a?.scrollIntoView(),this._clearHash()}}},{kind:"method",key:"_clearHash",value:function(){history.replaceState(null,"",window.location.pathname)}},{kind:"method",key:"render",value:function(){return this._config?s.dy` <hass-subpage back-path="/config/backup" .hass="${this.hass}" .narrow="${this.narrow}" .header="${"Backup settings"}"> ${(0,d.p)(this.hass,"hassio")?s.dy` <ha-button-menu slot="toolbar-icon"> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${m}"></ha-icon-button> <ha-list-item graphic="icon" @request-selected="${this._changeLocalLocation}"> <ha-svg-icon slot="graphic" .path="${_}"></ha-svg-icon> Change default action location </ha-list-item> </ha-button-menu> `:s.Ld} <div class="content"> <ha-card id="schedule"> <div class="card-header">Automatic backups</div> <div class="card-content"> <p> Let Home Assistant take care of your backups by creating a scheduled backup that also removes older backups. </p> <ha-backup-config-schedule .hass="${this.hass}" .value="${this._config}" @value-changed="${this._scheduleConfigChanged}"></ha-backup-config-schedule> </div> </ha-card> <ha-card id="data"> <div class="card-header">Backup data</div> <div class="card-content"> <ha-backup-config-data .hass="${this.hass}" .value="${this._dataConfig}" @value-changed="${this._dataConfigChanged}" force-home-assistant hide-addon-version></ha-backup-config-data> </div> </ha-card> <ha-card class="agents" id="locations"> <div class="card-header">Locations</div> <div class="card-content"> <p> Your backup will be stored on these locations when this default backup is created. You can use all locations for custom backups. </p> <ha-backup-config-agents .hass="${this.hass}" .value="${this._config.create_backup.agent_ids}" .cloudStatus="${this.cloudStatus}" @value-changed="${this._agentsConfigChanged}"></ha-backup-config-agents> ${this._config.create_backup.agent_ids.length?s.Ld:s.dy`<ha-alert alert-type="warning" title="No location selected">You have to select at least one location to create a backup.</ha-alert><br>`} </div> </ha-card> <ha-card> <div class="card-header">Encryption key</div> <div class="card-content"> <p> Keep this encryption key in a safe place, as you will need it to access your backup, allowing it to be restored. Download them as an emergency kit file and store it somewhere safe. Encryption keeps your backups private and secure. </p> <ha-backup-config-encryption-key .hass="${this.hass}" .value="${this._config.create_backup.password}" @value-changed="${this._encryptionKeyChanged}"></ha-backup-config-encryption-key> </div> </ha-card> </div> </hass-subpage> `:s.Ld}},{kind:"method",key:"_changeLocalLocation",value:async function(e){(0,r.Q)(e)&&(0,v.s)(this,{})}},{kind:"method",key:"_scheduleConfigChanged",value:function(e){const a=e.detail.value;this._config={...this._config,schedule:a.schedule,retention:a.retention},this._debounceSave()}},{kind:"get",key:"_dataConfig",value:function(){const{include_addons:e,include_all_addons:a,include_database:t,include_folders:i}=this._config.create_backup;return{include_homeassistant:!0,include_database:t,include_folders:i||void 0,include_all_addons:a,include_addons:e||void 0}}},{kind:"method",key:"_dataConfigChanged",value:function(e){const a=e.detail.value;this._config={...this._config,create_backup:{...this.config.create_backup,include_database:a.include_database,include_folders:a.include_folders||null,include_all_addons:a.include_all_addons,include_addons:a.include_addons||null}},this._debounceSave()}},{kind:"method",key:"_agentsConfigChanged",value:function(e){const a=e.detail.value;this._config={...this._config,create_backup:{...this._config.create_backup,agent_ids:a}},this._debounceSave()}},{kind:"method",key:"_encryptionKeyChanged",value:function(e){const a=e.detail.value;this._config={...this._config,create_backup:{...this._config.create_backup,password:a}},this._debounceSave()}},{kind:"field",key:"_debounceSave",value(){return(0,u.D)((()=>this._save()),500)}},{kind:"method",key:"_save",value:async function(){await(0,p._r)(this.hass,{create_backup:{agent_ids:this._config.create_backup.agent_ids,include_folders:this._config.create_backup.include_folders??[],include_database:this._config.create_backup.include_database,include_addons:this._config.create_backup.include_addons??[],include_all_addons:this._config.create_backup.include_all_addons,password:this._config.create_backup.password},retention:this._config.retention,schedule:this._config.schedule.state}),(0,l.B)(this,"ha-refresh-backup-config")}},{kind:"field",static:!0,key:"styles",value:()=>s.iv`ha-card{scroll-margin-top:16px}.content{padding:28px 20px 0;max-width:690px;margin:0 auto;gap:24px;display:flex;flex-direction:column;margin-bottom:24px}.alert{--mdc-theme-primary:var(--error-color)}.card-header{padding-bottom:8px}.card-content{padding-bottom:0}`}]}}),s.oi);i()}catch(e){i(e)}}))}};
//# sourceMappingURL=62807.97828757ca744cfd.js.map