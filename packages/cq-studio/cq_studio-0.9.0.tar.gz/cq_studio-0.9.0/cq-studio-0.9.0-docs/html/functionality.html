<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Additional Functionality &#8212; cq-studio 0.8 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=a0e24af7"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ" href="faq.html" />
    <link rel="prev" title="Use" href="usage.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="additional-functionality">
<h1>Additional Functionality<a class="headerlink" href="#additional-functionality" title="Link to this heading">¶</a></h1>
<p>In addition to the <code class="docutils literal notranslate"><span class="pre">cq-studio</span></code> hot-reloading server, the package provides
a number of classes and functions for use in your <code class="docutils literal notranslate"><span class="pre">CadQuery</span></code> Python code.
Using <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">cq_studio</span> <span class="pre">import</span> <span class="pre">*</span></code> in your code file(s) will make all of
the following available.</p>
<section id="rendering-colours">
<h2>Rendering Colours<a class="headerlink" href="#rendering-colours" title="Link to this heading">¶</a></h2>
<p>You can control the colour which is used to render each object in the viewer
by setting an attribute <code class="docutils literal notranslate"><span class="pre">colour</span></code> on the object that is returned from your
<code class="docutils literal notranslate"><span class="pre">main()</span></code> method, or on any of its parent objects.  The attribute on a child
object overrides the value from any parent objects.  The value assigned is
an RGB triplet of floats in the range 0.0 - 1.0.  e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">wp</span> <span class="o">=</span> <span class="n">cq</span><span class="o">.</span><span class="n">Workplane</span><span class="p">(</span><span class="s2">&quot;XY&quot;</span><span class="p">)</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">objects</span><span class="p">[</span><span class="s2">&quot;plane&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">wp</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">centered</span><span class="o">=</span><span class="n">center_wd</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">objects</span><span class="p">[</span><span class="s2">&quot;sphere&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">wp</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="mf">20.0</span><span class="p">,</span> <span class="n">centered</span><span class="o">=</span><span class="n">center_wd</span><span class="p">)</span>
        <span class="o">.</span><span class="n">translate</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
    <span class="p">)</span>
    <span class="n">objects</span><span class="p">[</span><span class="s2">&quot;plane&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># orange</span>
    <span class="n">objects</span><span class="p">[</span><span class="s2">&quot;sphere&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>  <span class="c1"># mauve</span>

    <span class="k">return</span> <span class="n">objects</span>
</pre></div>
</div>
<p>If you don’t care about the specific colours used, but you just want each object
to have a different colour, use the <code class="docutils literal notranslate"><span class="pre">colour()</span></code> function instead of specifying
your own RGB triple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">wp</span> <span class="o">=</span> <span class="n">cq</span><span class="o">.</span><span class="n">Workplane</span><span class="p">(</span><span class="s2">&quot;XY&quot;</span><span class="p">)</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">objects</span><span class="p">[</span><span class="s2">&quot;plane&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">wp</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">centered</span><span class="o">=</span><span class="n">center_wd</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">objects</span><span class="p">[</span><span class="s2">&quot;sphere&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">wp</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="mf">20.0</span><span class="p">,</span> <span class="n">centered</span><span class="o">=</span><span class="n">center_wd</span><span class="p">)</span>
        <span class="o">.</span><span class="n">translate</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
    <span class="p">)</span>
    <span class="n">objects</span><span class="p">[</span><span class="s2">&quot;plane&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="n">colour</span><span class="p">()</span>
    <span class="n">objects</span><span class="p">[</span><span class="s2">&quot;sphere&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="n">colour</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">objects</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">cq-studio</span></code> will assign the next colour from a list of several dozen colours
that have different-enough appearances to be useful.  If more objects are
provided than there are different colours in this generator, the colours will
repeat.</p>
<p>When this is used, the colours of individual objects will change on reload when
you change the number of objects returned, or the order in which they are
generated.</p>
<p>The two above methods can be mixed, if you want to set specific colours for
some objects but don’t care about others, as long as they’re different from
each other.</p>
<p>Note that both the function and the attribute name can also be supplied as
<code class="docutils literal notranslate"><span class="pre">color</span></code>, for our poor <code class="docutils literal notranslate"><span class="pre">u</span></code>-deprived American friends.</p>
</section>
<section id="symbolic-constants">
<h2>Symbolic Constants<a class="headerlink" href="#symbolic-constants" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cq-studio</span></code> provides some handy symbolic constants to make <code class="docutils literal notranslate"><span class="pre">CadQuery</span></code> code
more readable.</p>
<section id="centering">
<h3>Centering<a class="headerlink" href="#centering" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">CadQuery</span></code> workplane methods creating solids support a <code class="docutils literal notranslate"><span class="pre">centered</span></code> parameter.
When <code class="docutils literal notranslate"><span class="pre">True</span></code>, the created object is centered (on all three axes) on the origin.
When <code class="docutils literal notranslate"><span class="pre">False</span></code>, the object starts at the origin and projects (on all three axes)
in the positive direction.</p>
<p>Specifying centering on only specified axes is possible, but involves using
a boolean triple.  <code class="docutils literal notranslate"><span class="pre">cq-studio</span></code> provides the following equivalent constants
with memorable names:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">center_w</span></code> - width only</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">center_d</span></code> - depth only</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">center_h</span></code> - height only</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">center_wd</span></code> - width and depth</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">center_wh</span></code> - width and height</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">center_dh</span></code> - depth and height</p></li>
</ul>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create the object centered on both horizontal axes, but projecting</span>
<span class="c1"># upward from the origin on the vertical axis</span>
<span class="n">sphere</span> <span class="o">=</span> <span class="n">wp</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="o">&lt;</span><span class="n">radius</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">centered</span><span class="o">=</span><span class="n">center_wd</span><span class="p">)</span>
</pre></div>
</div>
<p>I find myself using <code class="docutils literal notranslate"><span class="pre">center_wd</span></code> and <code class="docutils literal notranslate"><span class="pre">center_w</span></code> regularly.</p>
</section>
</section>
<section id="size-cylindersize-classes">
<h2>Size / CylinderSize Classes<a class="headerlink" href="#size-cylindersize-classes" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Size</span></code> class: a fixed-size 2- or 3-tuple of floats intended to represent
<code class="docutils literal notranslate"><span class="pre">(width,</span> <span class="pre">depth)</span></code> or <code class="docutils literal notranslate"><span class="pre">(width,</span> <span class="pre">depth,</span> <span class="pre">height)</span></code> volumes.</p>
<p><code class="docutils literal notranslate"><span class="pre">CylinderSize</span></code> class: a fixed-size 2-tuple for radius and height of a
cylinder.</p>
<p>These can then be used with CadQuery’s varous methods for creating objects;
unpacking them as arguments passed to <code class="docutils literal notranslate"><span class="pre">Workplane.box()</span></code>, <code class="docutils literal notranslate"><span class="pre">Workplane.cylinder()</span></code>,
and others passes the values in the correct order for CadQuery operations.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">holder_size</span> <span class="o">=</span> <span class="n">Size</span><span class="p">(</span><span class="mf">20.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
<span class="n">holder</span> <span class="o">=</span> <span class="n">wp</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="o">*</span><span class="n">holder_size</span><span class="p">,</span> <span class="n">centered</span><span class="o">=</span><span class="n">center_wd</span><span class="p">)</span>

<span class="n">tube_size</span> <span class="o">=</span> <span class="n">CylinderSize</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">)</span>  <span class="c1"># radius first, unlike CadQuery&#39;s cylinder()</span>
<span class="n">tube</span> <span class="o">=</span> <span class="n">wp</span><span class="o">.</span><span class="n">cylinder</span><span class="p">(</span><span class="o">*</span><span class="n">tube_size</span><span class="p">,</span> <span class="n">centered</span><span class="o">=</span><span class="n">center_wd</span><span class="p">)</span>
<span class="c1"># cut hole</span>
<span class="n">holder</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">holder</span>
    <span class="o">.</span><span class="n">faces</span><span class="p">(</span><span class="s2">&quot;&gt;Z&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">workplane</span><span class="p">(</span><span class="n">centerOption</span><span class="o">=</span><span class="s2">&quot;CenterOfMass&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">hole</span><span class="p">(</span><span class="n">tube_size</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># diameter generated automatically from radius</span>
<span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Size</span></code> provides access to its members via <code class="docutils literal notranslate"><span class="pre">.w</span></code>, <code class="docutils literal notranslate"><span class="pre">.d</span></code>, and <code class="docutils literal notranslate"><span class="pre">.h</span></code> attributes.</p>
<p><code class="docutils literal notranslate"><span class="pre">CylinderSize</span></code> provides access to its members via <code class="docutils literal notranslate"><span class="pre">.r</span></code> for radius and <code class="docutils literal notranslate"><span class="pre">.h</span></code>
for height, as well as <code class="docutils literal notranslate"><span class="pre">.d</span></code> for the calculated diameter of the cylinder.</p>
</section>
<section id="trigonometric-classes-and-functions">
<h2>Trigonometric Classes and Functions<a class="headerlink" href="#trigonometric-classes-and-functions" title="Link to this heading">¶</a></h2>
<p>Unlike Python’s <code class="docutils literal notranslate"><span class="pre">math</span></code> module, which uses radians, angles with these functions
are in degrees, as that is what <code class="docutils literal notranslate"><span class="pre">CadQuery</span></code> uses.</p>
<section id="coords">
<h3>Coords<a class="headerlink" href="#coords" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Coords</span></code> class: a fixed-size 2- or 3-tuple of floats intended to represent <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span></code>
or <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">z)</span></code> coordinates.  The individual elements may be access via the
<code class="docutils literal notranslate"><span class="pre">.x</span></code>, <code class="docutils literal notranslate"><span class="pre">.y</span></code>, and <code class="docutils literal notranslate"><span class="pre">.z</span></code> attributes.</p>
</section>
<section id="sagitta-functions">
<h3>Sagitta functions<a class="headerlink" href="#sagitta-functions" title="Link to this heading">¶</a></h3>
<p>Python’s <code class="docutils literal notranslate"><span class="pre">math</span></code> module contains basic trigonometric functions, but not
sagitta and related ones.  sagitta is the height of an arc given a radius and
the length of the chord from one edge of the arc to the midpoint of the chord
where the neight is measured.</p>
<p>These functions are useful in designing objects, and are heavily used in
architecture and related fields.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sagitta(radius:</span> <span class="pre">float,</span> <span class="pre">chord_length:</span> <span class="pre">float)</span> <span class="pre">-&gt;</span> <span class="pre">float</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chord_length_from_sagitta_and_radius(sagitta:</span> <span class="pre">float,</span> <span class="pre">radius:</span> <span class="pre">float)</span> <span class="pre">-&gt;</span> <span class="pre">float</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_from_sagitta_and_chord_length(sagitta:</span> <span class="pre">float,</span> <span class="pre">chord_length:</span> <span class="pre">float)</span> <span class="pre">-&gt;</span> <span class="pre">float</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sagitta_from_radius_and_arc_length(radius:</span> <span class="pre">float,</span> <span class="pre">arc_length:</span> <span class="pre">float)</span> <span class="pre">-&gt;</span> <span class="pre">float</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">angle_from_radius_and_chord_length(radius:</span> <span class="pre">float,</span> <span class="pre">chord_length:</span> <span class="pre">float)</span> <span class="pre">-&gt;</span> <span class="pre">float</span></code> -
calculates the angle of a circle subtended by an arc defined by its radius and the
length of the half-chord</p></li>
</ul>
</section>
<section id="vector">
<h3>Vector<a class="headerlink" href="#vector" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">vector(angle:</span> <span class="pre">float,</span> <span class="pre">magnitude:</span> <span class="pre">float,</span> <span class="pre">start:</span> <span class="pre">Coords</span> <span class="pre">=</span> <span class="pre">Coords(0,</span> <span class="pre">0))</span> <span class="pre">-&gt;</span> <span class="pre">Coords</span></code> -
calculate the cartesian coordiates of the destination of a vector or set of
polar coordinates, optionally starting from an arbitrary set of coordinates.</p></li>
</ul>
</section>
</section>
<section id="unit-conversion">
<h2>Unit Conversion<a class="headerlink" href="#unit-conversion" title="Link to this heading">¶</a></h2>
<p>The functions <code class="docutils literal notranslate"><span class="pre">inches_to_mm()</span></code> and <code class="docutils literal notranslate"><span class="pre">mm_to_inches()</span></code> do the obvious.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">cq-studio</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html#example-project">Example Project</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Additional Functionality</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#rendering-colours">Rendering Colours</a></li>
<li class="toctree-l2"><a class="reference internal" href="#symbolic-constants">Symbolic Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#size-cylindersize-classes">Size / CylinderSize Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trigonometric-classes-and-functions">Trigonometric Classes and Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unit-conversion">Unit Conversion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="usage.html" title="previous chapter">Use</a></li>
      <li>Next: <a href="faq.html" title="next chapter">FAQ</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024 Charles Cazabon.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/functionality.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>