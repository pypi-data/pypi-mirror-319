(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8473],{19785:function(e){var t=Array.isArray;e.exports=t},64902:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset",function(){return s(65347)}])},81836:function(e,t,s){"use strict";var i=s(24246),n=s(27378),a=s(69746),r=s(79894),l=s.n(r);t.Z=e=>{let{breadcrumbs:t,fontSize:s="2xl",fontWeight:r="semibold",separator:o="->",lastItemStyles:d={color:"black"},normalItemStyles:c={color:"gray.500"},...u}=e;return(0,i.jsx)(a.aGc,{separator:o,fontSize:s,fontWeight:r,"data-testid":"breadcrumbs",...u,children:t.map((e,s)=>{let r=s+1===t.length;return e.title?(0,n.createElement)(a.gN6,{...c,...r?d:{},key:e.title,children:[(null==e?void 0:e.icon)&&(0,i.jsx)(a.xuv,{mr:2,children:e.icon}),e.link?(0,i.jsx)(a.Atw,{as:l(),href:e.link,isCurrentPage:r,children:e.title}):(0,i.jsx)(a.Atw,{_hover:{textDecoration:"none",cursor:"default"},isCurrentPage:r,children:e.title})]}):null})})}},57311:function(e,t,s){"use strict";s.d(t,{Gn:function(){return l},zR:function(){return r}});var i=s(24246),n=s(69746),a=s(79711);let r=e=>{let{title:t}=e;return(0,i.jsx)(n.OXI,{py:0,display:"flex",alignItems:"flex-start",children:(0,i.jsx)(n.xvT,{mr:"2",color:"gray.700",fontSize:"lg",lineHeight:1.8,children:t})})},l=e=>{let{onDelete:t,onEditYaml:s,formId:r,isSaving:l}=e;return(0,i.jsxs)(n.zeN,{justifyContent:"space-between",children:[t?(0,i.jsx)(n.wpx,{"aria-label":"delete",icon:(0,i.jsx)(a.q,{fontSize:"small"}),onClick:t,"data-testid":"delete-btn"}):null,(0,i.jsxs)("div",{className:"flex gap-2",children:[s&&(0,i.jsx)(n.wpx,{onClick:s,"data-testid":"edit-yaml-btn",children:"Edit YAML"}),(0,i.jsx)(n.wpx,{htmlType:"submit",type:"primary","data-testid":"save-btn",form:r,loading:l,children:"Save"})]})]})};t.ZP=e=>{let{header:t,description:s,isOpen:a,onClose:r,children:l,footer:o}=e;return(0,i.jsxs)(n.dys,{placement:"right",isOpen:a,onClose:r,size:"md",children:[(0,i.jsx)(n.P1B,{}),(0,i.jsxs)(n.scA,{"data-testid":"edit-drawer-content",py:2,children:[(0,i.jsxs)(n.xuv,{display:"flex",justifyContent:"space-between",alignItems:"top",mr:2,py:2,gap:2,children:[(0,i.jsx)(n.xuv,{flex:1,minH:8,children:t}),(0,i.jsx)(n.xuv,{display:"flex",justifyContent:"flex-end",mr:2,children:(0,i.jsx)(n.wpx,{"aria-label":"Close editor",onClick:r,"data-testid":"close-drawer-btn",icon:(0,i.jsx)(n.Two,{fontSize:"smaller"})})})]}),(0,i.jsxs)(n.Ng0,{pt:1,children:[s?(0,i.jsx)(n.xvT,{fontSize:"sm",mb:4,color:"gray.600",children:s}):null,l]}),o]})]})}},79711:function(e,t,s){"use strict";s.d(t,{q:function(){return n}});var i=s(24246);let n=(0,s(69746).IUT)({displayName:"TrashCanOutlineIcon",viewBox:"0 0 11 12",path:(0,i.jsx)("path",{d:"M4.5166 1.60859L4.1084 2.21875H7.22363L6.81543 1.60859C6.7832 1.56133 6.72949 1.53125 6.67148 1.53125H4.6584C4.60039 1.53125 4.54668 1.55918 4.51445 1.60859H4.5166ZM7.6748 1.03711L8.46328 2.21875H8.75977H9.79102H9.96289C10.2486 2.21875 10.4785 2.44863 10.4785 2.73438C10.4785 3.02012 10.2486 3.25 9.96289 3.25H9.79102V9.78125C9.79102 10.7309 9.02188 11.5 8.07227 11.5H3.25977C2.31016 11.5 1.54102 10.7309 1.54102 9.78125V3.25H1.36914C1.0834 3.25 0.853516 3.02012 0.853516 2.73438C0.853516 2.44863 1.0834 2.21875 1.36914 2.21875H1.54102H2.57227H2.86875L3.65723 1.03496C3.88066 0.701953 4.25664 0.5 4.6584 0.5H6.67148C7.07324 0.5 7.44922 0.701953 7.67266 1.03496L7.6748 1.03711ZM2.57227 3.25V9.78125C2.57227 10.1615 2.87949 10.4688 3.25977 10.4688H8.07227C8.45254 10.4688 8.75977 10.1615 8.75977 9.78125V3.25H2.57227ZM4.29102 4.625V9.09375C4.29102 9.28281 4.13633 9.4375 3.94727 9.4375C3.7582 9.4375 3.60352 9.28281 3.60352 9.09375V4.625C3.60352 4.43594 3.7582 4.28125 3.94727 4.28125C4.13633 4.28125 4.29102 4.43594 4.29102 4.625ZM6.00977 4.625V9.09375C6.00977 9.28281 5.85508 9.4375 5.66602 9.4375C5.47695 9.4375 5.32227 9.28281 5.32227 9.09375V4.625C5.32227 4.43594 5.47695 4.28125 5.66602 4.28125C5.85508 4.28125 6.00977 4.43594 6.00977 4.625ZM7.72852 4.625V9.09375C7.72852 9.28281 7.57383 9.4375 7.38477 9.4375C7.1957 9.4375 7.04102 9.28281 7.04102 9.09375V4.625C7.04102 4.43594 7.1957 4.28125 7.38477 4.28125C7.57383 4.28125 7.72852 4.43594 7.72852 4.625Z",fill:"currentColor"})})},90824:function(e,t,s){"use strict";s.d(t,{V:function(){return n}});var i=s(24246);let n=(0,s(69746).IUT)({displayName:"DatabaseIcon",viewBox:"0 0 12 12",path:(0,i.jsx)("path",{fill:"currentColor",d:"M6 12C4.32222 12 2.90278 11.7417 1.74167 11.225C0.580556 10.7083 0 10.0778 0 9.33333V2.66667C0 1.93333 0.586111 1.30556 1.75833 0.783333C2.93056 0.261111 4.34444 0 6 0C7.65556 0 9.06944 0.261111 10.2417 0.783333C11.4139 1.30556 12 1.93333 12 2.66667V9.33333C12 10.0778 11.4194 10.7083 10.2583 11.225C9.09722 11.7417 7.67778 12 6 12ZM6 4.01667C6.98889 4.01667 7.98333 3.875 8.98333 3.59167C9.98333 3.30833 10.5444 3.00556 10.6667 2.68333C10.5444 2.36111 9.98611 2.05556 8.99167 1.76667C7.99722 1.47778 7 1.33333 6 1.33333C4.98889 1.33333 3.99722 1.475 3.025 1.75833C2.05278 2.04167 1.48889 2.35 1.33333 2.68333C1.48889 3.01667 2.05278 3.32222 3.025 3.6C3.99722 3.87778 4.98889 4.01667 6 4.01667ZM6 7.33333C6.46667 7.33333 6.91667 7.31111 7.35 7.26667C7.78333 7.22222 8.19722 7.15833 8.59167 7.075C8.98611 6.99167 9.35833 6.88889 9.70833 6.76667C10.0583 6.64444 10.3778 6.50556 10.6667 6.35V4.35C10.3778 4.50556 10.0583 4.64444 9.70833 4.76667C9.35833 4.88889 8.98611 4.99167 8.59167 5.075C8.19722 5.15833 7.78333 5.22222 7.35 5.26667C6.91667 5.31111 6.46667 5.33333 6 5.33333C5.53333 5.33333 5.07778 5.31111 4.63333 5.26667C4.18889 5.22222 3.76944 5.15833 3.375 5.075C2.98056 4.99167 2.61111 4.88889 2.26667 4.76667C1.92222 4.64444 1.61111 4.50556 1.33333 4.35V6.35C1.61111 6.50556 1.92222 6.64444 2.26667 6.76667C2.61111 6.88889 2.98056 6.99167 3.375 7.075C3.76944 7.15833 4.18889 7.22222 4.63333 7.26667C5.07778 7.31111 5.53333 7.33333 6 7.33333ZM6 10.6667C6.51111 10.6667 7.03056 10.6278 7.55833 10.55C8.08611 10.4722 8.57222 10.3694 9.01667 10.2417C9.46111 10.1139 9.83333 9.96945 10.1333 9.80833C10.4333 9.64722 10.6111 9.48333 10.6667 9.31667V7.68333C10.3778 7.83889 10.0583 7.97778 9.70833 8.1C9.35833 8.22222 8.98611 8.325 8.59167 8.40833C8.19722 8.49167 7.78333 8.55556 7.35 8.6C6.91667 8.64444 6.46667 8.66667 6 8.66667C5.53333 8.66667 5.07778 8.64444 4.63333 8.6C4.18889 8.55556 3.76944 8.49167 3.375 8.40833C2.98056 8.325 2.61111 8.22222 2.26667 8.1C1.92222 7.97778 1.61111 7.83889 1.33333 7.68333V9.33333C1.38889 9.5 1.56389 9.66111 1.85833 9.81667C2.15278 9.97222 2.52222 10.1139 2.96667 10.2417C3.41111 10.3694 3.9 10.4722 4.43333 10.55C4.96667 10.6278 5.48889 10.6667 6 10.6667Z"})})},43124:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var i=s(24246),n=s(69746),a=s(88038),r=s.n(a),l=s(86677);s(27378);var o=s(11596),d=s(72247),c=s(11032),u=()=>{let e=(0,l.useRouter)();return(0,i.jsx)(n.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(n.xuv,{children:[(0,i.jsxs)(n.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(n.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(n.wpx,{onClick:()=>{e.push(c.fz)},children:"Configure"})]}),(0,i.jsxs)(n.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},x=e=>{let{children:t,title:s,padded:a=!0,mainProps:c}=e,x=(0,o.hz)(),h=(0,l.useRouter)(),p="/privacy-requests"===h.pathname||"/datastore-connection"===h.pathname,m=!(x.flags.privacyRequestsConfiguration&&p),{data:f}=(0,d.JE)(void 0,{skip:m}),{data:C}=(0,d.PW)(void 0,{skip:m}),j=x.flags.privacyRequestsConfiguration&&(!f||!C)&&p;return(0,i.jsxs)(n.kCb,{"data-testid":s,direction:"column",h:"100vh",children:[(0,i.jsxs)(r(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",s]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(n.kCb,{as:"main",direction:"column",py:a?6:0,px:a?10:0,h:a?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[j?(0,i.jsx)(u,{}):null,t]})]})}},37541:function(e,t,s){"use strict";var i=s(24246),n=s(69746),a=s(19785),r=s.n(a),l=s(27378),o=s(81836);t.Z=e=>{let{breadcrumbs:t,isSticky:s=!0,children:a,rightContent:d,...c}=e;return(0,i.jsxs)(n.xuv,{bgColor:"white",paddingY:5,...s?{position:"sticky",top:0,left:0,zIndex:10}:{},...c,children:[(0,i.jsxs)(n.kCb,{alignItems:"flex-start",children:[(0,i.jsxs)(n.xuv,{flex:1,children:[r()(t)&&(0,i.jsx)(n.xuv,{marginBottom:a?4:0,children:(0,i.jsx)(o.Z,{breadcrumbs:t})}),(0,l.isValidElement)(t)&&t]}),d&&(0,i.jsx)(n.xuv,{children:d})]}),a]})}},75139:function(e,t,s){"use strict";s.d(t,{V:function(){return a}});var i=s(24246),n=s(69746);let a=()=>{let e=(0,n.pmc)();return{errorAlert:(t,s,a)=>{let r={...a,position:(null==a?void 0:a.position)||"top",render:e=>{let{onClose:a}=e;return(0,i.jsxs)(n.bZj,{alignItems:"normal",status:"error",children:[(0,i.jsx)(n.zMQ,{}),(0,i.jsxs)(n.xuv,{children:[s&&(0,i.jsx)(n.CdC,{children:s}),(0,i.jsx)(n.XaZ,{children:t})]}),(0,i.jsx)(n.PZ7,{onClick:a,position:"relative",right:0,size:"sm",top:-1})]})}};(null==a?void 0:a.id)&&e.isActive(a.id)?e.update(a.id,r):e(r)},successAlert:(t,s,a)=>{let r={...a,position:(null==a?void 0:a.position)||"top",render:e=>{let{onClose:a}=e;return(0,i.jsxs)(n.bZj,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,i.jsx)(n.zMQ,{}),(0,i.jsxs)(n.xuv,{children:[s&&(0,i.jsx)(n.CdC,{children:s}),(0,i.jsx)(n.XaZ,{children:t})]}),(0,i.jsx)(n.PZ7,{onClick:a,position:"relative",right:0,size:"sm",top:-1})]})}};(null==a?void 0:a.id)&&e.isActive(a.id)?e.update(a.id,r):e(r)}}}},98198:function(e,t,s){"use strict";var i=s(24246),n=s(69746);t.Z=e=>{let{title:t,children:s,isOpen:a,onClose:r,...l}=e;return(0,i.jsxs)(n.u_l,{isOpen:a,onClose:r,isCentered:!0,scrollBehavior:"inside",size:"xl",...l,children:[(0,i.jsx)(n.ZAr,{}),(0,i.jsxs)(n.hzk,{textAlign:"left",p:0,"data-testid":"add-modal-content",children:[(0,i.jsx)(n.xBx,{p:0,children:(0,i.jsx)(n.xuv,{backgroundColor:"gray.50",px:6,py:4,border:"1px",borderColor:"gray.200",borderTopRadius:6,display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,i.jsx)(n.X6q,{as:"h3",size:"sm",children:t})})}),(0,i.jsx)(n.fef,{pb:4,overflow:"auto",children:s})]})]})}},50558:function(e,t,s){"use strict";var i=s(24246),n=s(69746);s(27378),t.Z=e=>{let{isEmptyState:t,yamlError:s}=e;return(0,i.jsx)(n.Rg9,{in:!0,children:(0,i.jsxs)(n.xuv,{w:"fit-content",bg:"white",p:3,borderRadius:3,children:[(0,i.jsxs)(n.Ugi,{children:[(0,i.jsx)(n.X6q,{as:"h5",color:"gray.700",size:"xs",children:"YAML"}),(0,i.jsx)(n.Vp9,{colorScheme:"red",size:"sm",variant:"solid",children:"Error"})]}),(0,i.jsx)(n.xuv,{bg:"red.50",border:"1px solid",borderColor:"red.300",color:"red.300",mt:"16px",borderRadius:"6px",children:(0,i.jsxs)(n.Ugi,{alignItems:"flex-start",margin:["14px","17px","14px","17px"],children:[(0,i.jsx)(n.f9v,{}),t&&(0,i.jsxs)(n.xuv,{children:[(0,i.jsx)(n.X6q,{as:"h5",color:"red.500",fontWeight:"semibold",size:"xs",children:"Error message:"}),(0,i.jsx)(n.xvT,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:"Yaml system is required"})]}),s&&(0,i.jsxs)(n.xuv,{children:[(0,i.jsx)(n.X6q,{as:"h5",color:"red.500",fontWeight:"semibold",size:"xs",children:"Error message:"}),(0,i.jsx)(n.xvT,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:s.message}),(0,i.jsx)(n.xvT,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:s.reason}),(0,i.jsxs)(n.xvT,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:["Ln ",(0,i.jsx)("b",{children:s.mark.line}),", Col"," ",(0,i.jsx)("b",{children:s.mark.column}),", Pos"," ",(0,i.jsx)("b",{children:s.mark.position})]})]})]})})]})})}},12719:function(e,t,s){"use strict";s.d(t,{F:function(){return r},M:function(){return a}});var i=s(76649),n=s(65218);let a=s.n(n)()(()=>s.e(7088).then(s.bind(s,57088)).then(e=>e.default),{loadableGenerated:{webpack:()=>[57088]},ssr:!1}),r=e=>(0,i.Ln)({name:"string"},e)&&"YAMLException"===e.name},39006:function(e,t,s){"use strict";var i=s(24246);s(27378);var n=s(81836);t.Z=e=>(0,i.jsx)(n.Z,{...e,fontSize:"sm",fontWeight:"normal",mt:-1,mb:0,whiteSpace:"nowrap",overflow:"auto",separator:"/",lastItemStyles:{color:"black",fontWeight:"semibold"}})},64712:function(e,t,s){"use strict";s.d(t,{QL:function(){return a},du:function(){return n},tz:function(){return i}});let i={name:{tooltip:"A UI-friendly label for the Dataset."},description:{tooltip:"A human-readable description of the Dataset."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all collections in the Dataset."}},n={description:{tooltip:"A human-readable description of the collection."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all fields in the collection."}},a={description:{tooltip:"A human-readable description of the field."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to this field."}}},65347:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var i=s(24246),n=s(92222),a=s(59003),r=s(69746),l=s(86677),o=s(27378),d=s(45007),c=s(96878),u=s(10284);let x=e=>{let{resourceType:t,fidesKeys:s,skip:i}=e,[n,a]=(0,o.useState)(!0),r=(0,c.Wm)({resource_type:t,fides_keys:s},{skip:i,pollingInterval:n?3e3:void 0}),l=!!r.data&&r.data.every(e=>e.status===u.Wg.COMPLETE||e.status===u.Wg.FAILED||e.status===u.Wg.REVIEWED);return(0,o.useEffect)(()=>{l&&a(!1)},[l]),{...r,isClassificationFinished:l}};var h=s(11596),p=s(90824),m=s(43124),f=s(11032),C=s(37541),j=s(8540),g=s(435),v=s(39006),b=s(57311),y=s(60136),w=s(16781),k=s(98198),z=s(75139),S=s(66527),Z=s(12719),_=s(50558),A=s(52987),V=e=>{let{data:t=[],isSubmitting:s=!1,onCancel:n,onSubmit:a,disabled:l,isLoading:d,onChange:c}=e,u=(0,o.useRef)(null),{errorAlert:x}=(0,z.V)(),h=t.length>0?S.ZP.dump(t):void 0,[p,m]=(0,o.useState)(void 0),[f,C]=(0,o.useState)(!1),[j,g]=(0,o.useState)(!h),{data:v}=(0,A.NR)(),[b,y]=(0,o.useState)([]),w=e=>{S.ZP.load(e,{json:!0}),m(void 0)},k=()=>{if(v&&v.length){let e=u.current.getValue();y(v.filter(t=>e.includes("fides_key: ".concat(t.fides_key,"\n"))).map(e=>e.fides_key))}},V=l||j||!f||!!p||s;return(0,i.jsxs)(r.kCb,{gap:"97px",children:[(0,i.jsxs)(r.gCW,{align:"stretch",w:"800px",children:[(0,i.jsx)(Z.M,{defaultLanguage:"yaml",defaultValue:h,height:"calc(100vh - 526px)",onChange:e=>{try{C(!0),w(e),g(!e||""===e.trim());let t=S.ZP.load(e||"",{json:!0});Array.isArray(t)?c(t[0]):c(t),k()}catch(e){(0,Z.F)(e)?m(e):x("Could not parse the supplied YAML")}},onMount:(e,t)=>{u.current=e,u.current.focus()},options:{fontFamily:"Menlo",fontSize:13,minimap:{enabled:!1},readOnly:l},theme:"light"}),b.length>0?(0,i.jsxs)(r.xvT,{children:["You are about to overwrite the dataset",b.length>1?"s":""," ",b.map((e,t)=>{let s=t===b.length-1;return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(r.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:e}),s?".":", "]},e)})]}):null,(0,i.jsx)(r.mzw,{children:(0,i.jsxs)("div",{className:"flex w-full justify-end gap-4",children:[n&&(0,i.jsx)(r.wpx,{onClick:n,"data-testid":"cancel-btn",disabled:d,children:"Cancel"}),(0,i.jsx)(r.wpx,{type:"primary",onClick:()=>{null==a||a(),null==n||n()},"data-testid":"continue-btn",disabled:V,loading:s||d,children:"Confirm"})]})})]}),f&&(j||p)&&(0,i.jsx)(_.Z,{isEmptyState:j,yamlError:p})]})},R=e=>{let{isOpen:t,onClose:s,title:n,isLoading:a,returnFocusOnClose:l,isDatasetSelected:o,dataset:d,onChange:c,onSubmit:u}=e;return(0,i.jsx)(k.Z,{isOpen:t,onClose:s,size:"3xl",returnFocusOnClose:null==l||l,isCentered:!0,title:null!=n?n:"Edit Dataset",children:(0,i.jsx)(r.xuv,{"data-testid":"yaml-editor-section",children:(0,i.jsx)(V,{data:d?[d]:[],onSubmit:u,isSubmitting:!1,disabled:o,onChange:c,isLoading:a,onCancel:s})})})},E=s(34090),M=s(34803),T=s(64712);let P="edit-field-drawer";var D=e=>{var t,s;let{values:n,onSubmit:a}=e,l={name:null!==(t=n.name)&&void 0!==t?t:"",description:null!==(s=n.description)&&void 0!==s?s:"",data_categories:n.data_categories};return(0,i.jsx)(E.J9,{initialValues:l,onSubmit:e=>{a({...e,data_categories:n.data_categories||[]})},children:(0,i.jsx)(E.l0,{id:P,children:(0,i.jsxs)(r.Kqy,{spacing:"3",children:[(0,i.jsx)(M.j0,{name:"name",label:"Name",tooltip:T.tz.name.tooltip,"data-testid":"name-input",variant:"block"}),(0,i.jsx)(M.j0,{name:"description",label:"Description",tooltip:T.tz.description.tooltip,"data-testid":"description-input",variant:"block"})]})})})},W=e=>{let{dataset:t,isOpen:s,onClose:n}=e,[a,{isLoading:d}]=(0,g.TG)(),[c]=(0,g.QY)(),u=(0,l.useRouter)(),x=(0,r.pmc)(),{isOpen:h,onOpen:p,onClose:m}=(0,r.qY0)(),{isOpen:f,onOpen:C,onClose:j}=(0,r.qY0)(),[v,k]=(0,o.useState)(void 0),z=async e=>{let s={...t,...e};try{let e=await a(s);(0,y.D4)(e)?x((0,w.Vo)((0,y.e$)(e.error))):x((0,w.t5)("Successfully modified dataset"))}catch(e){x((0,w.Vo)(e))}n()},S=async()=>{let{fides_key:e}=t,s=await c(e);(0,y.D4)(s)?x((0,w.Vo)((0,y.e$)(s.error))):x((0,w.t5)("Successfully deleted dataset")),(0,g.Zl)(void 0),u.push("/dataset"),n(),m()};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(b.ZP,{isOpen:s,onClose:n,description:"A Dataset takes a database schema (tables and columns) and adds Fides privacy categorizations. Provide additional context to this dataset by filling out the fields below.",header:(0,i.jsx)(b.zR,{title:"Edit: ".concat(null==t?void 0:t.name)}),footer:(0,i.jsx)(b.Gn,{onClose:n,onDelete:p,onEditYaml:()=>C(),formId:P}),children:[(0,i.jsx)(R,{isOpen:f,onClose:j,onChange:k,onSubmit:()=>z(v),title:"Edit dataset YAML",isLoading:d,isDatasetSelected:!1,dataset:t}),(0,i.jsx)(D,{values:t,onSubmit:z})]}),(0,i.jsx)(r.cVQ,{isOpen:h,onClose:m,onConfirm:S,title:"Delete Dataset",message:(0,i.jsxs)(r.xvT,{children:["You are about to permanently delete the dataset named"," ",(0,i.jsx)(r.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:null==t?void 0:t.name}),". Are you sure you would like to continue?"]})})]})};let I=(0,n.Cl)(),H={items:[],total:0,page:1,size:25,pages:1},L=()=>(0,i.jsx)(r.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",textAlign:"center",children:(0,i.jsxs)(r.gCW,{children:[(0,i.jsx)(r.xvT,{fontSize:"md",fontWeight:"600",children:"No datasets found."}),(0,i.jsx)(r.xvT,{fontSize:"sm",children:'Click "Create new dataset" to add your first dataset to Fides.'})]})});var N=()=>{let e=(0,d.I0)(),t=(0,l.useRouter)(),[s,c]=(0,o.useState)(!1),[b,y]=(0,o.useState)(),{PAGE_SIZES:w,pageSize:k,setPageSize:z,onPreviousPageClick:S,isPreviousPageDisabled:Z,onNextPageClick:_,isNextPageDisabled:A,startRange:V,endRange:R,pageIndex:E,setTotalPages:M,resetPageIndexToDefault:T}=(0,j.oi)(),[P,D]=(0,o.useState)(),N=(0,o.useCallback)(e=>{T(),D(e)},[T,D]),{data:O,isLoading:q,isFetching:F}=(0,g.rt)({page:E,size:k,search:P,exclude_saas_datasets:!0}),{items:Y,total:G,pages:X}=(0,o.useMemo)(()=>null!=O?O:H,[O]);(0,o.useEffect)(()=>{M(X)},[X,M]);let B=(0,o.useCallback)(s=>{e((0,g.Zl)(s.fides_key)),t.push({pathname:f.o5,query:{datasetId:encodeURIComponent(s.fides_key)}})},[e,t]),U=(0,h.hz)();x({resourceType:u.j.DATASETS,skip:!U.plus});let Q=(0,o.useMemo)(()=>[I.accessor(e=>e.name,{id:"name",cell:e=>(0,i.jsx)(j.G3,{value:e.getValue(),fontWeight:"semibold"}),header:e=>(0,i.jsx)(j.Rr,{value:"Dataset Name",...e}),size:180}),I.accessor(e=>e.fides_key,{id:"fides_key",cell:e=>(0,i.jsx)(j.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(j.Rr,{value:"Fides Key",...e}),size:150}),I.accessor(e=>e.description,{id:"description",cell:e=>(0,i.jsx)(j.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,i.jsx)(j.Rr,{value:"Description",...e}),size:300,meta:{showHeaderMenu:!0}}),I.display({id:"actions",header:"Actions",cell:e=>{let{row:t}=e,s=t.original;return(0,i.jsx)(r.Ugi,{spacing:0,"data-testid":"dataset-".concat(s.fides_key),children:(0,i.jsx)(r.wpx,{size:"small",icon:(0,i.jsx)(r.dY8,{}),onClick:()=>{y(s),c(!0)},children:"Edit"})})},meta:{disableRowClick:!0}})].filter(Boolean),[]),K=(0,a.b7)({getCoreRowModel:(0,n.sC)(),getFilteredRowModel:(0,n.vL)(),getSortedRowModel:(0,n.tj)(),columns:Q,data:Y,columnResizeMode:"onChange"});return(0,i.jsx)(m.Z,{title:"Datasets",mainProps:{paddingTop:0},children:(0,i.jsxs)(r.xuv,{"data-testid":"system-management",children:[(0,i.jsx)(C.Z,{breadcrumbs:[{title:"Datasets"}],rightContent:(0,i.jsx)(r.wpx,{href:"/dataset/new","data-testid":"create-dataset-btn",children:"+ Add dataset"}),children:(0,i.jsx)(v.Z,{breadcrumbs:[{title:"All datasets",icon:(0,i.jsx)(p.V,{boxSize:4})}],fontSize:"md",fontWeight:"normal",mb:5})}),q?(0,i.jsx)(j.I4,{rowHeight:36,numRows:15}):(0,i.jsxs)(r.xuv,{"data-testid":"dataset-table",children:[(0,i.jsx)(j.Q$,{children:(0,i.jsx)(j.HO,{globalFilter:P,setGlobalFilter:N,placeholder:"Search",testid:"dataset-search"})}),(0,i.jsx)(j.ZK,{tableInstance:K,emptyTableNotice:(0,i.jsx)(L,{}),onRowClick:B})]}),(0,i.jsx)(j.s8,{totalRows:G||0,pageSizes:w,setPageSize:z,onPreviousPageClick:S,isPreviousPageDisabled:Z||F,onNextPageClick:_,isNextPageDisabled:A||F,startRange:V,endRange:R}),(0,i.jsx)(W,{dataset:b,isOpen:s,onClose:()=>{y(void 0),c(!1)}})]})})}}},function(e){e.O(0,[8033,6451,3005,8540,2888,9774,179],function(){return e(e.s=64902)}),_N_E=e.O()}]);