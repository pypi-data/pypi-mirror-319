(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7477],{96539:function(e,t,a){var i=a(77400).Symbol;e.exports=i},99736:function(e,t,a){var i=a(96539),n=a(34840),s=a(21258),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?n(e):s(e)}},39120:function(e,t,a){var i="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g;e.exports=i},34840:function(e,t,a){var i=a(96539),n=Object.prototype,s=n.hasOwnProperty,o=n.toString,r=i?i.toStringTag:void 0;e.exports=function(e){var t=s.call(e,r),a=e[r];try{e[r]=void 0;var i=!0}catch(e){}var n=o.call(e);return i&&(t?e[r]=a:delete e[r]),n}},21258:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},77400:function(e,t,a){var i=a(39120),n="object"==typeof self&&self&&self.Object===Object&&self,s=i||n||Function("return this")();e.exports=s},19785:function(e){var t=Array.isArray;e.exports=t},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},55193:function(e,t,a){var i=a(99736),n=a(92360);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==i(e)}},45550:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/activity",function(){return a(73406)}])},64900:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var i=a(24246),n=a(69746),s=a(53359),o=a(10284);let r=(0,n.IUT)({displayName:"MonitorOffIcon",viewBox:"0 0 12 12",path:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.47125 1H5.85H6.15H6.51188L6.58875 1.36914L7.52062 5.83268L6.42408 4.98635L6.03375 3.11719L5.8038 4.50761L4.99323 3.882L5.40562 1.38867L5.47125 1ZM4.80795 5.0022L4.67675 5.79545L5.48735 6.42109L5.61854 5.62783L4.80795 5.0022ZM6.73856 6.49227L6.96125 7.55866L8.42407 8.6877L8.69498 8.00228L7.94864 7.42624L7.88625 7.58398L7.83501 7.33853L6.73856 6.49227ZM8.33138 6.45844L9.07755 7.03434L9.30188 6.4668H11.55H12V5.5293H11.55H9H8.69812L8.58375 5.82031L8.33138 6.45844ZM7.27551 9.06443L7.35399 9.125H7.28813L7.27551 9.06443ZM4.49147 6.91566L5.30209 7.54131L4.79437 10.6113L4.72875 11H4.35H4.05H3.69563L3.61313 10.6406L2.64563 6.46875H0.45H0V5.53125H0.45H2.69777L3.49646 6.1477L4.15125 8.97266L4.49147 6.91566Z",fill:"currentColor"}),(0,i.jsx)("g",{"clip-path":"url(#clip0_341_3102)",children:(0,i.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.6755 10.4168L0.164222 2.304L0.775218 1.51237L11.2865 9.62517L10.6755 10.4168Z",fill:"currentColor"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_341_3102",children:(0,i.jsx)("rect",{width:"11.5",height:"9",fill:"white",transform:"translate(0 1.5)"})})})]})}),c=(0,n.IUT)({displayName:"MonitorOnIcon",viewBox:"0 0 12 10",path:(0,i.jsx)("path",{d:"M5.47125 0H5.85H6.15H6.51188L6.58875 0.369141L7.88625 6.58398L8.58375 4.82031L8.69812 4.5293H9H11.55H12V5.4668H11.55H9.30188L8.36625 7.83398L8.25188 8.125H7.95H7.65H7.28813L7.21125 7.75586L6.03375 2.11719L4.79437 9.61133L4.72875 10H4.35H4.05H3.69563L3.61313 9.64062L2.64563 5.46875H0.45H0V4.53125H0.45H3H3.35438L3.43688 4.89062L4.15125 7.97266L5.40562 0.388672L5.47125 0Z",fill:"currentColor"})});var l=a(35682),d=a(6111),u=a(59104),L=a(52962),g=e=>{let{resource:t,ignoreChildActions:a=!1}=e,g=(0,L.G)(t),[f,{isLoading:x}]=(0,d.v8)(),[h,{isLoading:j}]=(0,d.vi)(),{successAlert:_}=(0,s.V)(),[m,{isLoading:p}]=(0,d.Tl)(),v=x||j||p,{diff_status:I,child_diff_statuses:T}=t,C=g===u.X.SCHEMA,b=g===u.X.FIELD,A=C&&void 0===I||!b&&I===o.LL.ADDITION,y=I!==o.LL.MUTED,S=I===o.LL.MUTED&&!b,D=I===o.LL.MUTED&&b,w=T&&(T[o.LL.ADDITION]||T[o.LL.REMOVAL]),H=I===o.LL.MONITORED&&!a&&w;return(0,i.jsxs)(n.Ugi,{onClick:e=>e.stopPropagation(),children:[A&&(0,i.jsx)(l.Z,{title:"Monitor",icon:(0,i.jsx)(c,{}),onClick:async()=>{await f({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id}),_("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored."))},disabled:v,loading:x}),D&&(0,i.jsx)(l.Z,{title:"Un-Mute",icon:(0,i.jsx)(c,{}),onClick:async()=>{await m({staged_resource_urn:t.urn}),_("The resource has been un-muted.","".concat(t.name||"The resource"," is now un-muted."))},disabled:v,loading:x}),S&&(0,i.jsx)(l.Z,{title:"Monitor",icon:(0,i.jsx)(c,{}),onClick:async()=>{await f({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),_("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored."))},disabled:v,loading:x}),H&&(0,i.jsx)(l.Z,{title:"Confirm",icon:(0,i.jsx)(n.nQG,{}),onClick:async()=>{await f({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id}),_('These changes have been added to a Fides dataset. To view, navigate to "Manage datasets".',"Table changes confirmed")},disabled:v,loading:x}),y&&(0,i.jsx)(l.Z,{title:"Ignore",icon:(0,i.jsx)(r,{}),onClick:async()=>{await h({staged_resource_urn:t.urn}),_("Ignored data will not be monitored for changes or added to Fides datasets.","".concat(t.name||"Resource"," ignored"))},disabled:v,loading:j})]})}},33890:function(e,t,a){"use strict";var i=a(24246),n=a(69746),s=a(53359),o=a(90049),r=a(10284),c=a(35682),l=a(6111);t.Z=e=>{let{resource:t}=e,[a,{isLoading:d}]=(0,l.v8)(),[u,{isLoading:L}]=(0,l.cM)(),[g,{isLoading:f}]=(0,l.vi)(),x=L||f||d,{diff_status:h,child_diff_statuses:j,top_level_field_name:_}=t,{successAlert:m}=(0,s.V)(),p=h===r.LL.CLASSIFICATION_ADDITION||h===r.LL.CLASSIFICATION_UPDATE,v=j&&(j[r.LL.CLASSIFICATION_ADDITION]||j[r.LL.CLASSIFICATION_UPDATE]),I=(p||v)&&!_,T=p||v;return(0,i.jsxs)(n.Ugi,{onClick:e=>e.stopPropagation(),children:[I&&(0,i.jsx)(c.Z,{title:"Confirm",icon:(0,i.jsx)(n.nQG,{}),onClick:async()=>{await u({staged_resource_urn:t.urn}),m('These changes have been added to a Fides dataset. To view, navigate to "Manage datasets".',"Table changes confirmed")},disabled:x,loading:L}),T&&(0,i.jsx)(c.Z,{title:"Ignore",icon:(0,i.jsx)(n.tpL,{}),onClick:async()=>{await g({staged_resource_urn:t.urn}),m("Ignored changes will not be added to a Fides dataset.","".concat(t.name||"Changes"," ignored"))},disabled:x,loading:f}),(0,i.jsx)(c.Z,{title:"Reclassify",icon:(0,i.jsx)(n.nyI,{}),onClick:async()=>{await a({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,start_classification:!0,classify_monitored_resources:!0}),m("Reclassification of ".concat((0,o.Z)(t)||"the resource"," has begun.  The results may take some time to appear in the “Data discovery“ tab."),"Reclassification started")},disabled:x,loading:d})]})}},73406:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});var i,n,s=a(24246),o=a(27378),r=a(65464),c=a(37541),l=a(38637),d=a(92222),u=a(59003),L=a(69746),g=a(8540),f=a(98320),x=a(6111),h=a(87573),j=a(20382),_=a(16956),m=a(71329),p=a(22770);(i=n||(n={})).DATASET="Dataset",i.CLASSIFICATION="Classification";var v=a(15025),I=a(51557),T=a(58525),C=e=>(0,T.Z)(e)===I.E.CLASSIFICATION?n.CLASSIFICATION:n.DATASET,b=a(64900),A=a(33890);let y={items:[],total:0,page:1,size:50,pages:1},S=()=>(0,s.jsx)(L.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,s.jsxs)(L.gCW,{children:[(0,s.jsx)(L.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,s.jsx)(L.xvT,{fontSize:"sm",children:"You're up to date!"})]})}),D=(0,d.Cl)();var w=e=>{let{onRowClick:t,statusFilters:a,childsStatusFilters:i}=e,[r,c]=(0,o.useState)(""),{PAGE_SIZES:l,pageSize:I,setPageSize:T,onPreviousPageClick:w,isPreviousPageDisabled:H,onNextPageClick:O,isNextPageDisabled:N,startRange:M,endRange:Z,pageIndex:R,setTotalPages:E}=(0,g.oi)(),{isFetching:k,isLoading:F,data:P}=(0,x.z8)({diff_status:a,child_diff_status:i,page:R,size:I,search:r}),{items:V,total:U,pages:z}=(0,o.useMemo)(()=>null!=P?P:y,[P]);(0,o.useEffect)(()=>{E(z)},[z,E]);let G=(0,o.useMemo)(()=>[D.accessor(e=>e.name,{id:"name",cell:e=>(0,s.jsx)(_.Z,{result:e.row.original}),header:e=>(0,s.jsx)(g.Rr,{value:"Name",...e})}),D.accessor(e=>e.urn,{id:"project",cell:e=>(0,s.jsx)(g.G3,{value:(0,v.Z)(e.getValue())}),header:e=>(0,s.jsx)(g.Rr,{value:"Project",...e})}),D.display({id:"status",cell:e=>(0,s.jsx)(j.Z,{result:e.row.original}),header:e=>(0,s.jsx)(g.Rr,{value:"Status",...e})}),D.accessor(e=>e.system,{id:"system",cell:e=>(0,s.jsx)(g.G3,{value:e.getValue()}),header:e=>(0,s.jsx)(g.Rr,{value:"System",...e})}),D.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,s.jsx)(g.G3,{value:e.getValue()}),header:e=>(0,s.jsx)(g.Rr,{value:"Detected by",...e})}),D.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,s.jsx)(f.Cy,{time:e.getValue()}),header:e=>(0,s.jsx)(g.Rr,{value:"When",...e})}),D.accessor(e=>e,{id:"action",cell:e=>C(e.getValue())===n.DATASET?(0,s.jsx)(b.Z,{resource:e.getValue()}):(0,s.jsx)(A.Z,{resource:e.getValue()}),header:e=>(0,s.jsx)(g.Rr,{value:"Action",...e})})],[]),W=(0,u.b7)({getCoreRowModel:(0,d.sC)(),getGroupedRowModel:(0,d.qe)(),getExpandedRowModel:(0,d.rV)(),getRowId:m.Z,columns:G,manualPagination:!0,data:V,columnResizeMode:"onChange"});return F?(0,s.jsx)(g.I4,{rowHeight:36,numRows:36}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Q$,{children:(0,s.jsxs)(L.kCb,{gap:6,align:"center",children:[(0,s.jsx)(L.xuv,{flexShrink:0,children:(0,s.jsx)(p.M,{value:r,onChange:c})}),(0,s.jsx)(h.Z,{})]})}),(0,s.jsx)(g.ZK,{tableInstance:W,onRowClick:t,emptyTableNotice:(0,s.jsx)(S,{})}),(0,s.jsx)(g.s8,{totalRows:U||0,pageSizes:l,setPageSize:T,onPreviousPageClick:w,isPreviousPageDisabled:H||k,onNextPageClick:O,isNextPageDisabled:N||k,startRange:M,endRange:Z})]})},H=a(10284),O=()=>{let{navigateToDetectionResults:e,navigateToDiscoveryResults:t}=(0,l.Z)();return(0,s.jsxs)(r.Z,{title:"Data discovery",mainProps:{padding:"0 40px 48px"},children:[(0,s.jsx)(c.Z,{breadcrumbs:[{title:"All activity"}]}),(0,s.jsx)(w,{onRowClick:a=>{if(C(a)===n.DATASET){e({resourceUrn:a.urn});return}t({resourceUrn:a.urn})},statusFilters:[H.LL.ADDITION,H.LL.REMOVAL,H.LL.CLASSIFICATION_ADDITION,H.LL.CLASSIFICATION_UPDATE],childsStatusFilters:[H.LL.ADDITION,H.LL.REMOVAL,H.LL.CLASSIFICATION_ADDITION,H.LL.CLASSIFICATION_UPDATE]})]})}}},function(e){e.O(0,[8033,6451,8540,4093,2888,9774,179],function(){return e(e.s=45550)}),_N_E=e.O()}]);