"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6375],{38615:function(e,n,t){t.d(n,{Tg:function(){return o}});var r=t(24246),i=t(44296),l=t(96451);let o=e=>(0,i.C)(l.uu).filter(n=>e.includes(n)).length>0;n.ZP=e=>{let{scopes:n,children:t}=e;return o(n)?(0,r.jsx)(r.Fragment,{children:t}):null}},78973:function(e,n,t){t.d(n,{d:function(){return u}});var r=t(24246),i=t(69746),l=t(34090),o=t(27378),s=t(39514),a=t(34803);let u=e=>{let{name:n,label:t,labelProps:u,tooltip:d,isRequired:c,layout:p="inline",...x}=e,[h,m,{setValue:f}]=(0,l.U$)(n),y=!!(m.touched&&m.error),[g,v]=(0,o.useState)("");h.value||"tags"!==x.mode&&"multiple"!==x.mode||(h.value=[]),"tags"===x.mode&&"string"==typeof h.value&&(h.value=[h.value]);let j="tags"===x.mode?(e,n)=>e?e.value!==g||h.value.includes(g)?x.optionRender?x.optionRender(e,n):e.label:'Create "'.concat(g,'"'):void 0:x.optionRender||void 0,b=e=>{v(e),x.onSearch&&x.onSearch(e)},C=(e,n)=>{f(e),x.onChange&&x.onChange(e,n)};return"inline"===p?(0,r.jsx)(i.NIc,{isInvalid:y,isRequired:c,children:(0,r.jsxs)(i.rjZ,{templateColumns:t?"1fr 3fr":"1fr",children:[t?(0,r.jsx)(a.__,{htmlFor:x.id||n,...u,children:t}):null,(0,r.jsxs)(i.jqI,{align:"center",children:[(0,r.jsxs)(i.jqI,{vertical:!0,flex:1,className:"mr-2",children:[(0,r.jsx)(i.WPr,{...h,id:x.id||n,"data-testid":"controlled-select-".concat(h.name),...x,optionRender:j,onSearch:"tags"===x.mode?b:void 0,onChange:C,value:h.value||void 0}),(0,r.jsx)(a.Bc,{isInvalid:y,message:m.error,fieldName:h.name})]}),d?(0,r.jsx)(s.Z,{label:d}):null]})]})}):(0,r.jsx)(i.NIc,{isInvalid:y,isRequired:c,children:(0,r.jsxs)(i.gCW,{alignItems:"start",children:[(0,r.jsxs)(i.jqI,{align:"center",children:[t?(0,r.jsx)(a.__,{htmlFor:x.id||n,fontSize:"xs",my:0,mr:1,...u,children:t}):null,d?(0,r.jsx)(s.Z,{label:d}):null]}),(0,r.jsx)(i.WPr,{...h,id:x.id||n,"data-testid":"controlled-select-".concat(h.name),...x,optionRender:j,onSearch:"tags"===x.mode?b:void 0,onChange:C,value:h.value||void 0}),(0,r.jsx)(a.Bc,{isInvalid:y,message:m.error,fieldName:h.name})]})})}},51425:function(e,n,t){var r=t(24246),i=t(69746),l=t(39514);n.Z=e=>{let{title:n,tooltip:t,children:o,...s}=e;return(0,r.jsxs)(i.xuv,{borderRadius:"md",border:"1px solid",borderColor:"gray.200",...s,children:[(0,r.jsxs)(i.X6q,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[n,t?(0,r.jsx)(i.xvT,{as:"span",mx:1,children:(0,r.jsx)(l.Z,{label:t})}):void 0]}),(0,r.jsx)(i.Kqy,{p:6,spacing:6,children:o})]})}},77650:function(e,n,t){var r=t(24246),i=t(69746);n.Z=e=>{let{isOpen:n,onClose:t,onConfirm:l,onCancel:o,title:s,message:a,cancelButtonText:u,continueButtonText:d,isLoading:c,returnFocusOnClose:p,isCentered:x,testId:h="confirmation-modal",icon:m}=e;return(0,r.jsxs)(i.u_l,{isOpen:n,onClose:t,size:"lg",returnFocusOnClose:null==p||p,isCentered:x,children:[(0,r.jsx)(i.ZAr,{}),(0,r.jsxs)(i.hzk,{textAlign:"center",p:6,"data-testid":h,children:[m?(0,r.jsx)(i.M5Y,{mb:2,children:m}):null,s?(0,r.jsx)(i.xBx,{fontWeight:"medium",pb:0,children:s}):null,a?(0,r.jsx)(i.fef,{children:a}):null,(0,r.jsx)(i.mzw,{children:(0,r.jsxs)(i.MIq,{columns:2,width:"100%",children:[(0,r.jsx)(i.wpx,{onClick:()=>{o&&o(),t()},size:"large",className:"mr-3","data-testid":"cancel-btn",disabled:c,children:u||"Cancel"}),(0,r.jsx)(i.wpx,{type:"primary",size:"large",onClick:l,"data-testid":"continue-btn",loading:c,children:d||"Continue"})]})})]})]})}},46627:function(e,n,t){var r=t(24246),i=t(69746),l=t(86677),o=t.n(l),s=t(27378),a=t(60136),u=t(77650),d=t(11032),c=t(38615),p=t(16781),x=t(96421),h=t(10284);n.Z=e=>{let{property:n,triggerComponent:t}=e,l=(0,i.pmc)(),m=(0,i.qY0)(),[f]=(0,x.YW)(),y=n.experiences.length>0,g=async()=>{m.onClose();let e=await f(n.id);if((0,a.D4)(e)){l((0,p.Vo)((0,a.e$)(e.error)));return}o().push("".concat(d.ru)),l((0,p.t5)("Property ".concat(n.name," deleted successfully")))};return(0,r.jsxs)(c.ZP,{scopes:[h.Sh.PROPERTY_DELETE],children:[(0,r.jsx)(i.ua7,{label:"All of the experiences on this property must be unlinked before the property can be deleted.",placement:"right",isDisabled:!y,children:(0,r.jsx)("span",{children:s.cloneElement(t,{onClick:e=>{e.stopPropagation(),y||m.onOpen()},disabled:y})})}),(0,r.jsx)(u.Z,{isOpen:m.isOpen,onClose:m.onClose,onConfirm:g,title:"Delete ".concat(n.name),message:(0,r.jsxs)(i.xvT,{color:"gray.500",children:["You are about to delete property ",n.name,". This action is not reversible and will result in ",n.name," no longer being available for your data governance. Are you sure you want to proceed?"]}),continueButtonText:"Ok",isCentered:!0,icon:(0,r.jsx)(i.aNP,{})})]})}},57353:function(e,n,t){var r=t(24246),i=t(69746),l=t(34090),o=t(86677),s=t(27378),a=t(44296),u=t(51425),d=t(34803),c=t(60136),p=t(11032),x=t(6903),h=t(63982),m=t(10284),f=t(78973),y=t(46627);let g=()=>{var e;let n=(0,a.C)(h.Zp),t=(0,a.C)(h.G1);(0,h.cq)({page:n,size:t});let i=(0,a.C)(h.w4),{values:o,setFieldValue:s}=(0,l.u6)();return(0,r.jsx)(u.Z,{title:"Experiences",children:(0,r.jsx)(x.Z,{addButtonLabel:"Add experience",idField:"id",nameField:"name",allItems:i.map(e=>({id:e.id,name:e.name})),values:null!==(e=o.experiences)&&void 0!==e?e:[],setValues:e=>s("experiences",e),draggable:!0,baseTestId:"experience"})})};n.Z=e=>{let{property:n,handleSubmit:t}=e,a=(0,o.useRouter)(),x=()=>{a.push(p.ru)},h=(0,s.useMemo)(()=>n||{name:"",type:m.uS.WEBSITE,experiences:[],messaging_templates:[],paths:[]},[n]);return(0,r.jsx)(l.J9,{enableReinitialize:!0,initialValues:h,onSubmit:t,children:e=>{let{dirty:t,isValid:o,isSubmitting:s}=e;return(0,r.jsxs)(l.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,r.jsx)(i.xuv,{py:3,children:(0,r.jsxs)(u.Z,{title:"Property details",children:[(0,r.jsx)(d.j0,{isRequired:!0,label:"Property name",name:"name",tooltip:"Unique name to identify this property",variant:"stacked"}),(0,r.jsx)(f.d,{isRequired:!0,label:"Type",name:"type",options:(0,c.MM)(m.uS),layout:"stacked"})]})}),(0,r.jsx)(i.xuv,{py:3,children:(0,r.jsx)(g,{})}),n&&(0,r.jsx)(i.xuv,{py:3,children:(0,r.jsx)(u.Z,{title:"Advanced settings",children:(0,r.jsx)(d.Io,{label:"Property ID",name:"id",tooltip:"Automatically generated unique ID for this property, used for developer configurations",variant:"stacked",readOnly:!0})})}),(0,r.jsxs)(i.kCb,{justifyContent:"space-between",width:"100%",paddingTop:2,children:[n&&(0,r.jsx)(y.Z,{property:n,triggerComponent:(0,r.jsx)(i.wpx,{"data-testid":"delete-property-button",loading:!1,className:"mr-3",children:"Delete"})}),(0,r.jsxs)(i.kCb,{justifyContent:"right",width:"100%",paddingTop:2,children:[(0,r.jsx)(i.wpx,{onClick:x,loading:!1,className:"mr-3",children:"Cancel"}),(0,r.jsx)(i.wpx,{htmlType:"submit",type:"primary",disabled:s||!t||!o,loading:s,children:"Save"})]})]})]})}})}},43073:function(e,n,t){t.d(n,{Bw:function(){return r.Bw},D4:function(){return r.D4}});var r=t(41164)},51959:function(e,n,t){t.d(n,{t:function(){return R}});var r=t(24246),i=t(45487),l=t(27378);let o=(0,l.createContext)(null);var s=t(38565),a=t(96681),u=t(10010),d=t(40179);let c=(0,l.forwardRef)(function({children:e,as:n="ul",axis:t="y",onReorder:c,values:h,...m},f){let y=(0,a.h)(()=>(0,s.E)(n)),g=[],v=(0,l.useRef)(!1);return(0,i.k)(!!h,"Reorder.Group must be provided a values prop"),(0,l.useEffect)(()=>{v.current=!1}),(0,r.jsx)(y,{...m,ref:f,ignoreStrict:!0,children:(0,r.jsx)(o.Provider,{value:{axis:t,registerItem:(e,n)=>{let r=g.findIndex(n=>e===n.value);-1!==r?g[r].layout=n[t]:g.push({value:e,layout:n[t]}),g.sort(x)},updateOrder:(e,n,t)=>{if(v.current)return;let r=function(e,n,t,r){if(!r)return e;let i=e.findIndex(e=>e.value===n);if(-1===i)return e;let l=r>0?1:-1,o=e[i+l];if(!o)return e;let s=e[i],a=o.layout,c=(0,d.t)(a.min,a.max,.5);return 1===l&&s.layout.max+t>c||-1===l&&s.layout.min+t<c?(0,u.uo)(e,i,i+l):e}(g,e,n,t);g!==r&&(v.current=!0,c(r.map(p).filter(e=>-1!==h.indexOf(e))))}},children:e})})});function p(e){return e.value}function x(e,n){return e.layout.min-n.layout.min}var h=t(33234),m=t(16014);function f(e){let n=(0,a.h)(()=>(0,h.BX)(e)),{isStatic:t}=(0,l.useContext)(m._);if(t){let[,t]=(0,l.useState)(e);(0,l.useEffect)(()=>n.on("change",t),[])}return n}var y=t(71884);let g=e=>e&&"object"==typeof e&&e.mix,v=e=>g(e)?e.mix:void 0;var j=t(58868),b=t(25368);function C(e,n){let t=f(n()),r=()=>t.set(n());return r(),(0,j.L)(()=>{let n=()=>b.Wi.preRender(r,!1,!0),t=e.map(e=>e.on("change",n));return()=>{t.forEach(e=>e()),(0,b.Pn)(r)}}),t}function w(e,n){let t=(0,a.h)(()=>[]);return C(e,()=>{t.length=0;let r=e.length;for(let n=0;n<r;n++)t[n]=e[n].get();return n(t)})}var S=t(40406);function I(e,n=0){return(0,S.i)(e)?e:f(n)}let R={Group:c,Item:(0,l.forwardRef)(function({children:e,style:n={},value:t,as:u="li",onDrag:d,layout:c=!0,...p},x){let m=(0,a.h)(()=>(0,s.E)(u)),f=(0,l.useContext)(o),g={x:I(n.x),y:I(n.y)},j=function(e,n,t,r){if("function"==typeof e)return function(e){h.S1.current=[],e();let n=C(h.S1.current,e);return h.S1.current=void 0,n}(e);let i="function"==typeof n?n:function(...e){let n=!Array.isArray(e[0]),t=n?0:-1,r=e[0+t],i=e[1+t],l=e[2+t],o=e[3+t],s=(0,y.s)(i,l,{mixer:v(l[0]),...o});return n?s(r):s}(n,void 0,void 0);return Array.isArray(e)?w(e,i):w([e],([e])=>i(e))}([g.x,g.y],([e,n])=>e||n?1:"unset");(0,i.k)(!!f,"Reorder.Item must be a child of Reorder.Group");let{axis:b,registerItem:S,updateOrder:R}=f;return(0,r.jsx)(m,{drag:b,...p,dragSnapToOrigin:!0,style:{...n,x:g.x,y:g.y,zIndex:j},layout:c,onDrag:(e,n)=>{let{velocity:r}=n;r[b]&&R(t,g[b].get(),r[b]),d&&d(e,n)},onLayoutMeasure:e=>S(t,e),ref:x,ignoreStrict:!0,children:e})})}},60153:function(e,n,t){t.d(n,{o:function(){return o}});var r=t(96681);class i{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(t=>{t.start(e.nativeEvent||e,n)})}}let l=()=>new i;function o(){return(0,r.h)(l)}},76649:function(e,n,t){t.d(n,{Ln:function(){return r}});let r=(e,n)=>l(e,n),i=Symbol("SOME"),l=(e,n)=>"string"==typeof e?e===typeof n:Array.isArray(e)?i in e?e.some(e=>l(e,n)):!!Array.isArray(n)&&(0===e.length||n.every(n=>e.some(e=>l(e,n)))):"object"==typeof n&&null!==n&&Object.entries(e).every(([e,t])=>l(t,n[e]));class o{static narrow(e){return new o(n=>r(e,n))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){let n=this.NF,t=e instanceof o?e.NF:e instanceof Function?e:n=>r(e,n);return new o(e=>n(e)&&t(e))}}new o(e=>!0)}}]);