import{B as le,L as Ca}from"./ListItem-nYGtvGaY.js";import{s as pe,c as I,a as Ie,o as Te,w as ee,b as Fe,C as Va,u as Re,d as Yt,e as $a,p as de,m as Ia,f as Oe,g as ce,h as vt,i as et,t as J,j as pt,k as tt,r as q,l as yt,n as c,q as O,T as Sa,F,v as xt,x as D,y as m,z as $,A as y,B as Q,D as w,E as ie,G as e,H as a,I as k,M as fe,P as qt,$ as We,J as C,K as V,L as Qa,N as Ta,O as Ma,Q as Xt,R as j,S as R,U as Xe,V as rt,W as ut,X as Ge,Y,Z as Ve,_ as G,a0 as je,a1 as ve,a2 as se,a3 as Se,a4 as Ke,a5 as Gt,a6 as jt,a7 as Ba,a8 as Ea,a9 as Kt,aa as qa,ab as Zt,ac as za,ad as La,ae as Aa,af as Wa,ag as Ze,ah as at,ai as Ha,aj as zt,ak as Jt,al as ea,am as Ra,an as Da,ao as Lt,ap as Na,aq as Ua,ar as Fa}from"./index-CFvoaD7J.js";import{D as Oa}from"./constants-BXWEQHoz.js";import{m as ft,a as ke,b as ht,c as gt,d as Me,u as _t,e as De,f as bt,g as wt,h as Ya,t as xa,i as me,V as lt,j as Xa,k as ue,l as Ga,n as ja,o as ta,p as Ka,q as aa,r as la,s as Za,v as ge,w as N,x as Ja,y as el,z as tl,A as al,M as ll,B as il,C as ol}from"./VListItem-CSPID7yq.js";import{u as it,V as Je,a as Qe}from"./VList-fGk9SRdf.js";import{m as nl,u as ia,a as sl,V as kt,f as rl,b as ul,s as dl,c as cl,d as ml,e as oa}from"./VMenu-9pSrU4Fo.js";import{m as Pt,u as Ct,a as vl,b as pl,c as yl}from"./layout-BeGdxe2Y.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as $e,_ as fl,i as ot,a as na,b as hl,g as At}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_4409cede_lang-41DbVClm.js";import{_ as st}from"./ProviderIcon.vue_vue_type_script_setup_true_lang-Ji67J6Pu.js";import{e as we}from"./eventbus-CGRXT3Tn.js";import{T as gl,V as dt}from"./Toolbar-DNen7a-V.js";import{V as Ne}from"./VCard-DxLPF-Ra.js";import{V as sa}from"./VDialog-CdvGeqlS.js";import{V as _l,a as bl}from"./VInfiniteScroll-D1yVLjQf.js";import{V as ra}from"./VSlider-ka6goZbo.js";import{M as ne,a as ct}from"./marquee_text_sync-k18A2BIX.js";import{V as wl}from"./VToolbar-Da4d1W_R.js";import{V as He,a as be}from"./VCardText-CpOuj25H.js";import{m as kl,V as Wt,a as Pl}from"./VChip-Ccz1-bmn.js";import{V as Cl}from"./VVirtualScroll-BDBVEoUv.js";import{V as Vl}from"./VCheckbox-B5r7QKHZ.js";import{V as $l,a as Il,b as Sl}from"./VExpansionPanels-BsT7TGi_.js";import"./VCheckboxBtn-CRgZyCzV.js";const Ql=""+new URL("icon-iUF3LVzp.png",import.meta.url).href;function Tl(t){let{rootEl:l,isSticky:n,layoutItemStyles:o}=t;const s=pe(!1),i=pe(0),r=I(()=>{const u=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[u]:Ie(i.value)}:{top:o.value.top}]});Te(()=>{ee(n,u=>{u?window.addEventListener("scroll",f,{passive:!0}):window.removeEventListener("scroll",f)},{immediate:!0})}),Fe(()=>{window.removeEventListener("scroll",f)});let d=0;function f(){const u=d>window.scrollY?"up":"down",h=l.value.getBoundingClientRect(),p=parseFloat(o.value.top??0),v=window.scrollY-Math.max(0,i.value-p),_=h.height+Math.max(i.value,p)-window.scrollY-window.innerHeight,b=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;h.height<window.innerHeight-p?(s.value="top",i.value=p):u==="up"&&s.value==="bottom"||u==="down"&&s.value==="top"?(i.value=window.scrollY+h.top-b,s.value=!0):u==="down"&&_<=0?(i.value=0,s.value="bottom"):u==="up"&&v<=0&&(b?s.value!=="top"&&(i.value=-v+b+p,s.value="top"):(i.value=h.top+v,s.value="top")),d=window.scrollY}return{isStuck:s,stickyStyles:r}}const Ml=100,Bl=20;function Ht(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function Rt(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let l=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const o=Ht(l),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);l+=(s-o)*Math.abs(s),n===t.length-1&&(l*=.5)}return Ht(l)*1e3}function El(){const t={};function l(s){Array.from(s.changedTouches).forEach(i=>{(t[i.identifier]??(t[i.identifier]=new Va(Bl))).push([s.timeStamp,i])})}function n(s){Array.from(s.changedTouches).forEach(i=>{delete t[i.identifier]})}function o(s){var u;const i=(u=t[s])==null?void 0:u.values().reverse();if(!i)throw new Error(`No samples for touch id ${s}`);const r=i[0],d=[],f=[];for(const h of i){if(r[0]-h[0]>Ml)break;d.push({t:h[0],d:h[1].clientX}),f.push({t:h[0],d:h[1].clientY})}return{x:Rt(d),y:Rt(f),get direction(){const{x:h,y:p}=this,[v,_]=[Math.abs(h),Math.abs(p)];return v>_&&h>=0?"right":v>_&&h<=0?"left":_>v&&p>=0?"down":_>v&&p<=0?"up":ql()}}}return{addMovement:l,endTouch:n,getVelocity:o}}function ql(){throw new Error}function zl(t){let{el:l,isActive:n,isTemporary:o,width:s,touchless:i,position:r}=t;Te(()=>{window.addEventListener("touchstart",W,{passive:!0}),window.addEventListener("touchmove",H,{passive:!1}),window.addEventListener("touchend",z,{passive:!0})}),Fe(()=>{window.removeEventListener("touchstart",W),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",z)});const d=I(()=>["left","right"].includes(r.value)),{addMovement:f,endTouch:u,getVelocity:h}=El();let p=!1;const v=pe(!1),_=pe(0),b=pe(0);let B;function U(T,g){return(r.value==="left"?T:r.value==="right"?document.documentElement.clientWidth-T:r.value==="top"?T:r.value==="bottom"?document.documentElement.clientHeight-T:Ce())-(g?s.value:0)}function x(T){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const P=r.value==="left"?(T-b.value)/s.value:r.value==="right"?(document.documentElement.clientWidth-T-b.value)/s.value:r.value==="top"?(T-b.value)/s.value:r.value==="bottom"?(document.documentElement.clientHeight-T-b.value)/s.value:Ce();return g?Math.max(0,Math.min(1,P)):P}function W(T){if(i.value)return;const g=T.changedTouches[0].clientX,P=T.changedTouches[0].clientY,S=25,E=r.value==="left"?g<S:r.value==="right"?g>document.documentElement.clientWidth-S:r.value==="top"?P<S:r.value==="bottom"?P>document.documentElement.clientHeight-S:Ce(),A=n.value&&(r.value==="left"?g<s.value:r.value==="right"?g>document.documentElement.clientWidth-s.value:r.value==="top"?P<s.value:r.value==="bottom"?P>document.documentElement.clientHeight-s.value:Ce());(E||A||n.value&&o.value)&&(B=[g,P],b.value=U(d.value?g:P,n.value),_.value=x(d.value?g:P),p=b.value>-20&&b.value<80,u(T),f(T))}function H(T){const g=T.changedTouches[0].clientX,P=T.changedTouches[0].clientY;if(p){if(!T.cancelable){p=!1;return}const E=Math.abs(g-B[0]),A=Math.abs(P-B[1]);(d.value?E>A&&E>3:A>E&&A>3)?(v.value=!0,p=!1):(d.value?A:E)>3&&(p=!1)}if(!v.value)return;T.preventDefault(),f(T);const S=x(d.value?g:P,!1);_.value=Math.max(0,Math.min(1,S)),S>1?b.value=U(d.value?g:P,!0):S<0&&(b.value=U(d.value?g:P,!1))}function z(T){if(p=!1,!v.value)return;f(T),v.value=!1;const g=h(T.changedTouches[0].identifier),P=Math.abs(g.x),S=Math.abs(g.y);(d.value?P>S&&P>400:S>P&&S>3)?n.value=g.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||Ce()):n.value=_.value>.5}const L=I(()=>v.value?{transform:r.value==="left"?`translateX(calc(-100% + ${_.value*s.value}px))`:r.value==="right"?`translateX(calc(100% - ${_.value*s.value}px))`:r.value==="top"?`translateY(calc(-100% + ${_.value*s.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${_.value*s.value}px))`:Ce(),transition:"none"}:void 0);return Re(v,()=>{var P,S;const T=((P=l.value)==null?void 0:P.style.transform)??null,g=((S=l.value)==null?void 0:S.style.transition)??null;Yt(()=>{var E,A,Z,te;(A=l.value)==null||A.style.setProperty("transform",((E=L.value)==null?void 0:E.transform)||"none"),(te=l.value)==null||te.style.setProperty("transition",((Z=L.value)==null?void 0:Z.transition)||null)}),$a(()=>{var E,A;(E=l.value)==null||E.style.setProperty("transform",T),(A=l.value)==null||A.style.setProperty("transition",g)})}),{isDragging:v,dragProgress:_,dragStyles:L}}function Ce(){throw new Error}const Ll=["start","end","left","right","top","bottom"],Al=de({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Ll.includes(t)},sticky:Boolean,...ft(),...ke(),...nl(),...Ia({mobile:null}),...ht(),...Pt(),...gt(),...Me({tag:"nav"}),...Oe()},"VNavigationDrawer"),ua=ce()({name:"VNavigationDrawer",props:Al(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,l){let{attrs:n,emit:o,slots:s}=l;const{isRtl:i}=vt(),{themeClasses:r}=et(t),{borderClasses:d}=_t(t),{backgroundColorClasses:f,backgroundColorStyles:u}=De(J(t,"color")),{elevationClasses:h}=bt(t),{displayClasses:p,mobile:v}=pt(t),{roundedClasses:_}=wt(t),b=Ya(),B=tt(t,"modelValue",null,K=>!!K),{ssrBootStyles:U}=it(),{scopeId:x}=ia(),W=q(),H=pe(!1),{runOpenDelay:z,runCloseDelay:L}=sl(t,K=>{H.value=K}),T=I(()=>t.rail&&t.expandOnHover&&H.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),g=I(()=>xa(t.location,i.value)),P=I(()=>t.persistent),S=I(()=>!t.permanent&&(v.value||t.temporary)),E=I(()=>t.sticky&&!S.value&&g.value!=="bottom");Re(()=>t.expandOnHover&&t.rail!=null,()=>{ee(H,K=>o("update:rail",!K))}),Re(()=>!t.disableResizeWatcher,()=>{ee(S,K=>!t.permanent&&xt(()=>B.value=!K))}),Re(()=>!t.disableRouteWatcher&&!!b,()=>{ee(b.currentRoute,()=>S.value&&(B.value=!1))}),ee(()=>t.permanent,K=>{K&&(B.value=!0)}),t.modelValue==null&&!S.value&&(B.value=t.permanent||!v.value);const{isDragging:A,dragProgress:Z}=zl({el:W,isActive:B,isTemporary:S,width:T,touchless:J(t,"touchless"),position:g}),te=I(()=>{const K=S.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):T.value;return A.value?K*Z.value:K}),ye=I(()=>["top","bottom"].includes(t.location)?0:T.value),{layoutItemStyles:re,layoutItemScrimStyles:_e}=Ct({id:t.name,order:I(()=>parseInt(t.order,10)),position:g,layoutSize:te,elementSize:ye,active:I(()=>B.value||A.value),disableTransitions:I(()=>A.value),absolute:I(()=>t.absolute||E.value&&typeof he.value!="string")}),{isStuck:he,stickyStyles:Ye}=Tl({rootEl:W,isSticky:E,layoutItemStyles:re}),Be=De(I(()=>typeof t.scrim=="string"?t.scrim:null)),xe=I(()=>({...A.value?{opacity:Z.value*.2,transition:"none"}:void 0,..._e.value}));return yt({VList:{bgColor:"transparent"}}),me(()=>{const K=s.image||t.image;return c(F,null,[c(t.tag,O({ref:W,onMouseenter:z,onMouseleave:L,class:["v-navigation-drawer",`v-navigation-drawer--${g.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":H.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":S.value,"v-navigation-drawer--persistent":P.value,"v-navigation-drawer--active":B.value,"v-navigation-drawer--sticky":E.value},r.value,f.value,d.value,p.value,h.value,_.value,t.class],style:[u.value,re.value,U.value,Ye.value,t.style,["top","bottom"].includes(g.value)?{height:"auto"}:{}]},x,n),{default:()=>{var Ee,qe,ze;return[K&&c("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?c(Xa,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},s.image):c(lt,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),s.prepend&&c("div",{class:"v-navigation-drawer__prepend"},[(Ee=s.prepend)==null?void 0:Ee.call(s)]),c("div",{class:"v-navigation-drawer__content"},[(qe=s.default)==null?void 0:qe.call(s)]),s.append&&c("div",{class:"v-navigation-drawer__append"},[(ze=s.append)==null?void 0:ze.call(s)])]}}),c(Sa,{name:"fade-transition"},{default:()=>[S.value&&(A.value||B.value)&&!!t.scrim&&c("div",O({class:["v-navigation-drawer__scrim",Be.backgroundColorClasses.value],style:[xe.value,Be.backgroundColorStyles.value],onClick:()=>{P.value||(B.value=!1)}},x),null)]})])}),{isStuck:he}}}),da=function(){const t=localStorage.getItem("frontend.settings.menu_items"),l=t?t.split(","):Oa,n=[];for(const o of l)o==="home"&&n.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),o==="search"&&n.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),o==="artists"&&n.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0,hidden:a.libraryArtistsCount===0}),o==="albums"&&n.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0,hidden:a.libraryAlbumsCount===0}),o==="tracks"&&n.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0,hidden:a.libraryTracksCount===0}),o==="playlists"&&n.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0,hidden:a.libraryPlaylistsCount===0}),o==="podcasts"&&n.push({label:"podcasts",icon:"mdi-podcast",path:"/podcasts",isLibraryNode:!0,hidden:a.libraryPodcastsCount===0}),o==="audiobooks"&&n.push({label:"audiobooks",icon:"mdi-book-play-outline",path:"/audiobooks",isLibraryNode:!0,hidden:a.libraryAudiobooksCount===0}),o==="radios"&&n.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0,hidden:a.libraryRadiosCount===0}),o==="browse"&&n.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),o==="settings"&&n.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0});return n},Wl=D({__name:"DrawerNavigation",setup(t){const l=q(!0),n=q(!1),o=da();return(s,i)=>(m(),$(ua,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=r=>l.value=r),app:"",rail:n.value,width:280},{default:y(()=>[c(ue,{style:{height:"55px"},active:!1},{prepend:y(()=>i[2]||(i[2]=[Q("img",{class:"logo_icon",size:"40",src:Ql},null,-1)])),title:y(()=>i[3]||(i[3]=[Q("div",{class:"logo_text"},"Music Assistant",-1)])),_:1}),c(Je),c(Qe,{lines:"one",density:"compact",nav:""},{default:y(()=>[(m(!0),w(F,null,ie(e(o).filter(r=>!r.hidden),r=>(m(),$(ue,{key:r.path,nav:"",density:"compact",height:15,title:s.$t(r.label),"prepend-icon":r.icon,to:r.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),c(le,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:n.value?"mdi-chevron-right":"mdi-chevron-left",title:s.$t("tooltip.show_menu"),onClick:i[0]||(i[0]=r=>n.value=!n.value)},null,8,["icon","title"])]),_:1},8,["modelValue","rail"]))}}),Hl=ae(Wl,[["__scopeId","data-v-8c634824"]]),Rl={class:"media-thumb"},Dl={style:{"margin-left":"-10px","padding-right":"5px"}},Nl=D({__name:"AddToPlaylistDialog",setup(t){const l=q(!1),n=q([]),o=q([]),s=q(),i=q([]);Te(()=>{we.on("playlistdialog",async h=>{l.value=!0,i.value=h.items,s.value=h.parentItem,await r()}),Fe(()=>{we.off("playlistdialog")})});const r=async function(){n.value=[],o.value=[];const h=await k.getLibraryPlaylists(),p=i.value.length?i.value[0]:void 0;for(const v of h){if(!v.provider_mappings.filter(b=>b.available).length||!v.is_editable||s.value&&s.value.media_type===fe.PLAYLIST&&v.item_id===s.value.item_id)continue;const _=k.providers[v.provider_mappings[0].provider_instance];_&&(_.domain=="builtin"||_.is_streaming_provider||p!=null&&p.provider_mappings.filter(b=>b.provider_instance==_.instance_id).length)&&n.value.push(v)}for(const v of Object.values(k.providers))v.supported_features.includes(qt.PLAYLIST_CREATE)&&v.supported_features.includes(qt.PLAYLIST_TRACKS_EDIT)&&(v.domain=="builtin"||v.is_streaming_provider||p!=null&&p.provider_mappings.filter(_=>_.provider_instance==v.instance_id).length)&&o.value.push(v.instance_id)},d=async function(h){if(i.value[0].media_type===fe.TRACK)k.addPlaylistTracks(h.item_id,i.value.map(v=>v.uri));else if(i.value[0].media_type===fe.ALBUM){var p=await k.getAlbumTracks(i.value[0].item_id,i.value[0].provider);k.addPlaylistTracks(h.item_id,p.map(v=>v.uri))}u(),a.activeAlert={type:Qa.INFO,message:We("background_task_added"),persistent:!1}},f=async function(h){const p=prompt(We("new_playlist_name"));if(!p)return;const v=await k.createPlaylist(p,h);d(v)},u=function(){l.value=!1};return(h,p)=>(m(),$(sa,{modelValue:l.value,"onUpdate:modelValue":[p[0]||(p[0]=v=>l.value=v),p[1]||(p[1]=v=>{e(a).dialogActive=v})],fullscreen:"",transition:"dialog-bottom-transition"},{default:y(()=>[c(Ne,null,{default:y(()=>[c(gl,{icon:"mdi-playlist-plus",title:e(We)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:u}]},null,8,["title","menu-items"]),c(Je),p[4]||(p[4]=Q("br",null,null,-1)),c(Qe,null,{default:y(()=>[(m(!0),w(F,null,ie(n.value,v=>(m(),w("div",{key:v.item_id},[c(ue,{onClick:_=>d(v)},{prepend:y(()=>[Q("div",Rl,[c($e,{item:v,size:50},null,8,["item"])])]),title:y(()=>[Q("div",null,C(v.name),1)]),subtitle:y(()=>[Q("div",null,C(v.owner),1)]),append:y(()=>[v.provider_mappings?(m(),$(st,{key:0,domain:v.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):V("",!0)]),_:2},1032,["onClick"])]))),128)),p[2]||(p[2]=Q("div",{style:{height:"30px"}},null,-1)),c(Je),p[3]||(p[3]=Q("div",{style:{height:"30px"}},null,-1)),(m(!0),w(F,null,ie(o.value,v=>(m(),w("div",{key:v},[c(ue,{onClick:_=>f(v)},{prepend:y(()=>[Q("div",Dl,[c(st,{domain:e(k).providers[v].domain,size:50},null,8,["domain"])])]),title:y(()=>[Q("div",null,C(e(We)("new_playlist")),1)]),subtitle:y(()=>[Q("div",null,C(e(We)("create_playlist_on",[e(k).providers[v].name])),1)]),append:y(()=>[c(st,{domain:e(k).providers[v].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Ul=ae(Nl,[["__scopeId","data-v-a7c53a67"]]),Fl=ae(fl,[["__scopeId","data-v-4409cede"]]),Ol=de({scrollable:Boolean,...ke(),...Ga(),...Me({tag:"main"})},"VMain"),Yl=ce()({name:"VMain",props:Ol(),setup(t,l){let{slots:n}=l;const{dimensionStyles:o}=ja(t),{mainStyles:s}=vl(),{ssrBootStyles:i}=it();return me(()=>c(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,i.value,o.value,t.style]},{default:()=>{var r,d;return[t.scrollable?c("div",{class:"v-main__scroller"},[(r=n.default)==null?void 0:r.call(n)]):(d=n.default)==null?void 0:d.call(n)]}})),{}}}),Dt=D({__name:"View",setup(t){return(l,n)=>{const o=Ta("router-view");return m(),$(Yl,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:y(()=>{var s,i,r;return[e(a).navigationMenuStyle=="vertical"?(m(),$(Hl,{key:0})):V("",!0),c(o,null,{default:y(({Component:d})=>[(m(),$(Ma(d)))]),_:1}),c(Ul),c(Fl),c(_l,{"model-value":e(a).activeAlert!==void 0,color:((s=e(a).activeAlert)==null?void 0:s.type)||"grey",text:(i=e(a).activeAlert)==null?void 0:i.message,"close-on-content-click":"",position:"sticky",timeout:(r=e(a).activeAlert)!=null&&r.persistent?-1:5e3,"z-index":"999999",style:{"z-index":"999999"},"onUpdate:modelValue":n[0]||(n[0]=()=>e(a).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}}),xl=de({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...ft(),...ke(),...ta(),...ht(),...gt(),...Pt({name:"bottom-navigation"}),...Me({tag:"header"}),...Ka({selectedClass:"v-btn--selected"}),...Oe()},"VBottomNavigation"),Xl=ce()({name:"VBottomNavigation",props:xl(),emits:{"update:active":t=>!0,"update:modelValue":t=>!0},setup(t,l){let{slots:n}=l;const{themeClasses:o}=Xt(),{borderClasses:s}=_t(t),{backgroundColorClasses:i,backgroundColorStyles:r}=De(J(t,"bgColor")),{densityClasses:d}=aa(t),{elevationClasses:f}=bt(t),{roundedClasses:u}=wt(t),{ssrBootStyles:h}=it(),p=I(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),v=tt(t,"active",t.active),{layoutItemStyles:_}=Ct({id:t.name,order:I(()=>parseInt(t.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>v.value?p.value:0),elementSize:p,active:v,absolute:J(t,"absolute")});return la(t,Za),yt({VBtn:{baseColor:J(t,"baseColor"),color:J(t,"color"),density:J(t,"density"),stacked:I(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),me(()=>c(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":v.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},o.value,i.value,s.value,d.value,f.value,u.value,t.class],style:[r.value,_.value,{height:Ie(p.value)},h.value,t.style]},{default:()=>[n.default&&c("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),Gl={class:"menuButton"},jl={class:"menuButton"},Kl={class:"menuButton"},Zl=D({__name:"BottomNavigation",props:{height:{}},setup(t){const l=da(),n=q(!1);return(o,s)=>(m(),$(Xl,{height:o.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"},role:"navigation"},{default:y(()=>[e(j)("tablet")?(m(!0),w(F,{key:0},ie(e(l),i=>(m(),$(ge,{key:i.label,to:i.path,"aria-label":o.$t(i.label),tabindex:"0"},{default:y(()=>[c(N,{size:"xx-large"},{default:y(()=>[R(C(i.icon),1)]),_:2},1024),Q("span",Gl,C(o.$t(i.label)),1)]),_:2},1032,["to","aria-label"]))),128)):(m(),w(F,{key:1},[(m(!0),w(F,null,ie(e(l).filter(i=>!i.isLibraryNode),i=>(m(),$(ge,{key:i.label,to:i.path,"aria-label":o.$t(i.label),tabindex:"0"},{default:y(()=>[c(N,{size:"xx-large"},{default:y(()=>[R(C(i.icon),1)]),_:2},1024),Q("span",jl,C(o.$t(i.label)),1)]),_:2},1032,["to","aria-label"]))),128)),c(kt,null,{activator:y(({props:i})=>[c(ge,O(i,{"aria-haspopup":"true","aria-expanded":n.value.toString(),"aria-label":"Open library menu"}),{default:y(()=>[c(N,{size:"xx-large"},{default:y(()=>s[0]||(s[0]=[R("mdi-bookshelf")])),_:1}),Q("span",Kl,C(o.$t("library")),1)]),_:2},1040,["aria-expanded"])]),default:y(()=>[c(Qe,null,{default:y(()=>[(m(!0),w(F,null,ie(e(l).filter(i=>i.isLibraryNode),i=>(m(),$(ue,{key:i.label,title:o.$t(i.label),"prepend-icon":i.icon,to:i.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})],64))]),_:1},8,["height"]))}}),Jl=ae(Zl,[["__scopeId","data-v-5c8e33d1"]]),ei={style:{width:"auto"}},ti={key:0,style:{width:"100%"}},ai={key:0,class:"time-text-row"},li={class:"text-caption time-text-right"},ii=D({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1}},setup(t){const l=q(!1),n=q(!0),o=q(!1),s=q(0),i=q(0),r=I(()=>a.curQueueItem?l.value?`-${Xe(a.curQueueItem.duration-f.value)}`:`${Xe(f.value)}`:"0:00"),d=I(()=>{var v;if(!a.curQueueItem||!a.curQueueItem.duration||((v=a.curQueueItem.media_item)==null?void 0:v.media_type)==fe.RADIO)return"";const p=a.curQueueItem.duration;return Xe(p)}),f=I(()=>o.value?(i.value=s.value,s.value):a.activePlayerQueue?a.activePlayerQueue.elapsed_time:0);ee(f,p=>{o.value||(s.value=p)});const u=function(){o.value=!0},h=()=>{o.value=!1,!o.value&&a.activePlayer&&k.playerCommandSeek(a.activePlayer.player_id,Math.round(i.value))};return(p,v)=>(m(),w("div",ei,[e(a).activePlayerQueue?(m(),w("div",ti,[c(ra,{modelValue:s.value,"onUpdate:modelValue":v[0]||(v[0]=_=>s.value=_),disabled:!e(a).curQueueItem||!e(a).curQueueItem.media_item||!e(a).curQueueItem.duration,style:{width:"100%"},min:0,max:e(a).curQueueItem&&e(a).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":n.value?0:10,onTouchstart:v[1]||(v[1]=_=>n.value=!1),onTouchend:v[2]||(v[2]=_=>n.value=!0),onMouseenter:v[3]||(v[3]=_=>n.value=!1),onMouseleave:v[4]||(v[4]=_=>n.value=!0),onStart:u,onEnd:h},null,8,["modelValue","disabled","max","thumb-size"]),p.showLabels?(m(),w("div",ai,[Q("div",{class:"text-caption time-text-left",onClick:v[5]||(v[5]=_=>l.value?l.value=!1:l.value=!0)},C(r.value),1),Q("div",li,C(d.value),1)])):V("",!0)])):V("",!0)]))}}),ca=ae(ii,[["__scopeId","data-v-00e94a0a"]]),oi=D({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["click"],setup(t,{emit:l}){const n=()=>{if(o.value){const i=o.value.offsetWidth,r=o.value.offsetHeight,d=Math.min(i,r);s.value.$el.style.fontSize=`${d}px`}},o=q(),s=q();return Te(()=>{n(),window.addEventListener("resize",n)}),Fe(()=>{window.removeEventListener("resize",n)}),(i,r)=>(m(),w("div",{ref_key:"responsiveIconHolder",ref:o,class:Ge([i.type=="btn"&&!i.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:Y({width:i.staticWidth?i.staticWidth:i.width,height:i.staticWidth?i.staticWidth:i.height,maxHeight:i.staticHeight?i.staticHeight:i.maxHeight,maxWidth:i.staticWidth?i.staticWidth:i.maxWidth,minHeight:i.staticHeight?i.staticHeight:i.minHeight,minWidth:i.staticWidth?i.staticWidth:i.minWidth}),onClick:r[0]||(r[0]=d=>i.disabled?d.preventDefault():i.$emit("click",d))},[c(dt,{"model-value":i.badge==!0,color:"error",dot:""},{default:y(()=>[i.type==="icon"?(m(),$(N,{key:0,ref_key:"responsiveIcon",ref:s,class:"responsive-icon",color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},rt({_:2},[ie(i.$slots,(d,f)=>({name:f,fn:y(()=>[ut(i.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):i.type==="btn"?(m(),$(N,{key:1,ref_key:"responsiveIcon",ref:s,class:"responsive-icon",style:{cursor:"pointer"},color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},rt({_:2},[ie(i.$slots,(d,f)=>({name:f,fn:y(()=>[ut(i.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):V("",!0)]),_:3},8,["model-value"])],6))}}),Pe=ae(oi,[["__scopeId","data-v-2c9253ab"]]),ma=D({__name:"RepeatBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(t){return(l,n)=>{var o,s;return l.isVisible&&l.playerQueue?(m(),$(Pe,O({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Ve)((o=l.icon)==null?void 0:o.color,[[l.playerQueue.repeat_mode==e(G).OFF,null],[l.playerQueue.repeat_mode==e(G).ALL,"primary"],[l.playerQueue.repeat_mode==e(G).ONE,"primary"]]),icon:e(Ve)((s=l.icon)==null?void 0:s.icon,[[l.playerQueue.repeat_mode==e(G).OFF,"mdi-repeat-off"],[l.playerQueue.repeat_mode==e(G).ALL,"mdi-repeat"],[l.playerQueue.repeat_mode==e(G).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:n[0]||(n[0]=i=>e(k).queueCommandRepeat(l.playerQueue.queue_id||"",e(Ve)(null,[[l.playerQueue.repeat_mode==e(G).OFF,e(G).ONE],[l.playerQueue.repeat_mode==e(G).ALL,e(G).OFF],[l.playerQueue.repeat_mode==e(G).ONE,e(G).ALL]])))}),null,16,["disabled","color","icon"])):V("",!0)}}}),va=D({__name:"ShuffleBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(t){return(l,n)=>{var o,s;return l.isVisible&&l.playerQueue?(m(),$(Pe,O({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Ve)((o=l.icon)==null?void 0:o.color,[[l.playerQueue.shuffle_enabled,"primary",""]]),icon:e(Ve)((s=l.icon)==null?void 0:s.icon,[[l.playerQueue.shuffle_enabled,"mdi-shuffle"],[l.playerQueue.shuffle_enabled==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:n[0]||(n[0]=i=>e(k).queueCommandShuffle(l.playerQueue.queue_id,!l.playerQueue.shuffle_enabled))}),null,16,["disabled","color","icon"])):V("",!0)}}}),Vt=D({__name:"PlayBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0},iconStyle:{default:"circle"}},setup(t){const l=t,n=I(()=>l.playerQueue?l.playerQueue.items>0:!1),o=I(()=>{var i;return!(!l.player||(i=l.playerQueue)!=null&&i.active||!l.player.current_media)}),s=I(()=>{var i;return((i=l.player)==null?void 0:i.state)==je.PLAYING?"mdi-pause":"mdi-play"});return(i,r)=>i.isVisible&&i.player?(m(),$(Pe,O({key:0},i.icon,{disabled:!n.value&&!o.value,icon:i.iconStyle?`${s.value}-${i.iconStyle}`:s.value,type:"btn",onClick:r[0]||(r[0]=d=>e(k).playerCommandPlayPause(i.player.player_id))}),null,16,["disabled","icon"])):V("",!0)}}),pa=D({__name:"PreviousBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(t){const l=t,n=I(()=>{var s,i;return!((s=l.playerQueue)!=null&&s.active)||!((i=l.playerQueue)!=null&&i.items)||!l.playerQueue.current_index?!1:l.playerQueue.current_index>0}),o=I(()=>{var s;return!l.player||(s=l.playerQueue)!=null&&s.active||!l.player.current_media?!1:l.player.supported_features.includes(ve.NEXT_PREVIOUS)});return(s,i)=>s.isVisible&&s.player?(m(),$(Pe,O({key:0},s.icon,{disabled:!n.value&&!o.value,icon:"mdi-skip-previous-outline",type:"btn",onClick:i[0]||(i[0]=r=>e(k).playerCommandPrevious(s.player.player_id))}),null,16,["disabled"])):V("",!0)}}),ya=D({__name:"NextBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(t){const l=t,n=I(()=>{var s;return(s=l.playerQueue)!=null&&s.active?(l.playerQueue.current_index||0)<l.playerQueue.items-1:!1}),o=I(()=>{var s;return!l.player||(s=l.playerQueue)!=null&&s.active||!l.player.current_media?!1:l.player.supported_features.includes(ve.NEXT_PREVIOUS)});return(s,i)=>s.isVisible&&s.player?(m(),$(Pe,O({key:0},s.icon,{disabled:!n.value&&!o.value,icon:"mdi-skip-next-outline",type:"btn",onClick:i[0]||(i[0]=r=>e(k).playerCommandNext(s.player.player_id))}),null,16,["disabled"])):V("",!0)}}),ni={key:0,class:"player-controls"},si={key:0,class:"player-controls-elements"},ri={key:1,class:"player-controls-elements"},ui={key:2},di={key:3,class:"player-controls-elements"},ci={key:4,class:"player-controls-elements"},Nt=D({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(t){return(l,n)=>{var o,s,i,r,d;return l.visibleComponents?(m(),w("div",ni,[l.visibleComponents&&((o=l.visibleComponents.shuffle)!=null&&o.isVisible)?(m(),w("div",si,[c(va,{"player-queue":e(a).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["player-queue","icon"])])):V("",!0),l.visibleComponents&&((s=l.visibleComponents.previous)!=null&&s.isVisible)?(m(),w("div",ri,[c(pa,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["player","player-queue","icon"])])):V("",!0),l.visibleComponents&&((i=l.visibleComponents.play)!=null&&i.isVisible)?(m(),w("div",ui,[c(Vt,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","icon-style":l.visibleComponents.play.withCircle?"circle":"",icon:l.visibleComponents.play.icon},null,8,["player","player-queue","icon-style","icon"])])):V("",!0),l.visibleComponents&&((r=l.visibleComponents.next)!=null&&r.isVisible)?(m(),w("div",di,[c(ya,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["player","player-queue","icon"])])):V("",!0),l.visibleComponents&&((d=l.visibleComponents.repeat)!=null&&d.isVisible)?(m(),w("div",ci,[c(ma,{"player-queue":e(a).activePlayerQueue,icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["player-queue","icon"])])):V("",!0)])):V("",!0)}}}),mi={props:{width:String,height:String,style:String,isPowered:Boolean,allowWheel:Boolean},emits:["update:model-value"],setup(t,l){const n=q(!0),o=I(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:n.value?0:10,step:2,elevation:0,style:`width: ${t.width}; height:${t.height}; display: inline-grid; ${t.style}`,disabled:!t.isPowered})),s=I(()=>({...o.value,...l}));return{isThumbHidden:n,playerVolumeProps:s,onWheel:({deltaY:r})=>{if(!t.allowWheel)return;const d=s.value.step,f=l.attrs["model-value"],u=r<0?d:-d;l.emit("update:model-value",f+u)}}}};function vi(t,l,n,o,s,i){return m(),$(ra,O(o.playerVolumeProps,{onTouchstart:l[0]||(l[0]=r=>o.isThumbHidden=!1),onTouchend:l[1]||(l[1]=r=>o.isThumbHidden=!0),onMouseenter:l[2]||(l[2]=r=>o.isThumbHidden=!1),onMouseleave:l[3]||(l[3]=r=>o.isThumbHidden=!0),onWheel:se(o.onWheel,["prevent"]),onEnd:l[4]||(l[4]=r=>t.$emit("update:model-value",r))}),rt({_:2},[ie(t.$slots,(r,d)=>({name:d,fn:y(()=>[ut(t.$slots,d,{},void 0,!0)])}))]),1040,["onWheel"])}const Ue=ae(mi,[["render",vi],["__scopeId","data-v-e5af1148"]]),fa=D({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(t){const l=function(){a.showFullscreenPlayer&&a.showQueueItems?a.showQueueItems=!1:a.showFullscreenPlayer&&!a.showQueueItems?a.showQueueItems=!0:(a.showQueueItems=!0,a.showFullscreenPlayer=!0)};return(n,o)=>{var s;return n.isVisible?(m(),$(Pe,O({key:0},n.icon,{disabled:!e(a).activePlayerId||e(a).showFullscreenPlayer&&!e(a).curQueueItem&&!e(a).showQueueItems,icon:"mdi-playlist-play",color:e(Ve)((s=n.icon)==null?void 0:s.color,[[e(a).showFullscreenPlayer&&e(a).showQueueItems,"primary",""]]),type:"btn",onClick:l}),null,16,["disabled","color"])):V("",!0)}}}),ha=(t,l)=>{const n=[{label:t.powered?"power_off_player":"power_on_player",labelArgs:[],action:()=>{k.playerCommandPowerToggle(t.player_id)},icon:"mdi-power"}],o=Object.values(k.players).filter(s=>s.player_id!=t.player_id&&s.available&&s.enabled&&s.provider==t.provider&&s.supported_features.includes(ve.SET_MEMBERS)&&!s.synced_to);return t.supported_features.includes(ve.SET_MEMBERS)&&!t.synced_to&&t.type==Se.PLAYER&&t.group_childs.length==0&&o.length>0&&n.push({label:"sync_player_with",labelArgs:[],icon:"mdi-link-variant",subItems:o.map(s=>({label:s.display_name,labelArgs:[],action:()=>{k.playerCommandGroup(t.player_id,s.player_id)}})).sort((s,i)=>{var r;return s.label.toUpperCase()>((r=i.label)==null?void 0:r.toUpperCase())?1:-1})}),l&&n.push({label:l.shuffle_enabled?"shuffle_disable":"shuffle_enable",labelArgs:[],action:()=>{k.queueCommandShuffleToggle(l.queue_id)},icon:l.shuffle_enabled?"mdi-shuffle-disabled":"mdi-shuffle"}),l&&n.push({label:"select_repeat_mode",labelArgs:[],subItems:[{label:"repeat_mode.off",labelArgs:[],action:()=>{k.queueCommandRepeat(l.queue_id,G.OFF)},selected:l.repeat_mode==G.OFF},{label:"repeat_mode.all",labelArgs:[],action:()=>{k.queueCommandRepeat(l.queue_id,G.ALL)},selected:l.repeat_mode==G.ALL},{label:"repeat_mode.one",labelArgs:[],action:()=>{k.queueCommandRepeat(l.queue_id,G.ONE)},selected:l.repeat_mode==G.ONE}],icon:"mdi-repeat"}),l!=null&&l.items&&n.push({label:"transfer_queue",icon:"mdi-swap-horizontal",subItems:Object.values(k.players).filter(s=>s.player_id!=l.queue_id&&s.player_id!=t.player_id&&s.available&&s.enabled&&!s.synced_to).map(s=>({label:s.display_name,labelArgs:[],action:()=>{k.queueCommandTransfer(l.queue_id,s.player_id),a.activePlayerId=s.player_id}})).sort((s,i)=>{var r;return s.label.toUpperCase()>((r=i.label)==null?void 0:r.toUpperCase())?1:-1})}),l!=null&&l.items&&n.push({label:"queue_clear",labelArgs:[],action:()=>{k.queueCommandClear(l.queue_id)},icon:"mdi-cancel"}),l&&"dont_stop_the_music_enabled"in l&&n.push({label:l.dont_stop_the_music_enabled?"dont_stop_the_music_disable":"dont_stop_the_music_enable",labelArgs:[],action:()=>{k.queueCommandDontStopTheMusicToggle(l.queue_id)},icon:"mdi-all-inclusive"}),n.push({label:"open_player_settings",labelArgs:[],action:()=>{a.showFullscreenPlayer=!1,a.showPlayersMenu=!1,Ke.push(`/settings/editplayer/${t.player_id}`)},icon:"mdi-cog-outline"}),n.push({label:"open_dsp_settings",labelArgs:[],action:()=>{a.showFullscreenPlayer=!1,a.showPlayersMenu=!1,Ke.push(`/settings/editplayer/${t.player_id}/dsp`)},icon:"mdi-equalizer"}),n},$t=Symbol.for("vuetify:v-tabs"),pi=de({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Gt(Ja({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),mt=ce()({name:"VTab",props:pi(),setup(t,l){let{slots:n,attrs:o}=l;const{textColorClasses:s,textColorStyles:i}=el(t,"sliderColor"),r=q(),d=q(),f=I(()=>t.direction==="horizontal"),u=I(()=>{var p,v;return((v=(p=r.value)==null?void 0:p.group)==null?void 0:v.isSelected.value)??!1});function h(p){var _,b;let{value:v}=p;if(v){const B=(b=(_=r.value)==null?void 0:_.$el.parentElement)==null?void 0:b.querySelector(".v-tab--selected .v-tab__slider"),U=d.value;if(!B||!U)return;const x=getComputedStyle(B).color,W=B.getBoundingClientRect(),H=U.getBoundingClientRect(),z=f.value?"x":"y",L=f.value?"X":"Y",T=f.value?"right":"bottom",g=f.value?"width":"height",P=W[z],S=H[z],E=P>S?W[T]-H[T]:W[z]-H[z],A=Math.sign(E)>0?f.value?"right":"bottom":Math.sign(E)<0?f.value?"left":"top":"center",te=(Math.abs(E)+(Math.sign(E)<0?W[g]:H[g]))/Math.max(W[g],H[g])||0,ye=W[g]/H[g]||0,re=1.5;ul(U,{backgroundColor:[x,"currentcolor"],transform:[`translate${L}(${E}px) scale${L}(${ye})`,`translate${L}(${E/re}px) scale${L}(${(te-1)/re+1})`,"none"],transformOrigin:Array(3).fill(A)},{duration:225,easing:dl})}}return me(()=>{const p=ge.filterProps(t);return c(ge,O({symbol:$t,ref:r,class:["v-tab",t.class],style:t.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},p,o,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":h}),{...n,default:()=>{var v;return c(F,null,[((v=n.default)==null?void 0:v.call(n))??t.text,!t.hideSlider&&c("div",{ref:d,class:["v-tab__slider",s.value],style:i.value},null)])}})}),rl({},r)}}),yi=t=>{const{touchstartX:l,touchendX:n,touchstartY:o,touchendY:s}=t,i=.5,r=16;t.offsetX=n-l,t.offsetY=s-o,Math.abs(t.offsetY)<i*Math.abs(t.offsetX)&&(t.left&&n<l-r&&t.left(t),t.right&&n>l+r&&t.right(t)),Math.abs(t.offsetX)<i*Math.abs(t.offsetY)&&(t.up&&s<o-r&&t.up(t),t.down&&s>o+r&&t.down(t))};function fi(t,l){var o;const n=t.changedTouches[0];l.touchstartX=n.clientX,l.touchstartY=n.clientY,(o=l.start)==null||o.call(l,{originalEvent:t,...l})}function hi(t,l){var o;const n=t.changedTouches[0];l.touchendX=n.clientX,l.touchendY=n.clientY,(o=l.end)==null||o.call(l,{originalEvent:t,...l}),yi(l)}function gi(t,l){var o;const n=t.changedTouches[0];l.touchmoveX=n.clientX,l.touchmoveY=n.clientY,(o=l.move)==null||o.call(l,{originalEvent:t,...l})}function _i(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>fi(n,l),touchend:n=>hi(n,l),touchmove:n=>gi(n,l)}}function bi(t,l){var d;const n=l.value,o=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},i=(d=l.instance)==null?void 0:d.$.uid;if(!o||!i)return;const r=_i(l.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[i]=r,jt(r).forEach(f=>{o.addEventListener(f,r[f],s)})}function wi(t,l){var i,r;const n=(i=l.value)!=null&&i.parent?t.parentElement:t,o=(r=l.instance)==null?void 0:r.$.uid;if(!(n!=null&&n._touchHandlers)||!o)return;const s=n._touchHandlers[o];jt(s).forEach(d=>{n.removeEventListener(d,s[d])}),delete n._touchHandlers[o]}const ga={mounted:bi,unmounted:wi},_a=Symbol.for("vuetify:v-window"),ba=Symbol.for("vuetify:v-window-group"),wa=de({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ke(),...Me(),...Oe()},"VWindow"),Ut=ce()({name:"VWindow",directives:{Touch:ga},props:wa(),emits:{"update:modelValue":t=>!0},setup(t,l){let{slots:n}=l;const{themeClasses:o}=et(t),{isRtl:s}=vt(),{t:i}=Ba(),r=la(t,ba),d=q(),f=I(()=>s.value?!t.reverse:t.reverse),u=pe(!1),h=I(()=>{const z=t.direction==="vertical"?"y":"x",T=(f.value?!u.value:u.value)?"-reverse":"";return`v-window-${z}${T}-transition`}),p=pe(0),v=q(void 0),_=I(()=>r.items.value.findIndex(z=>r.selected.value.includes(z.id)));ee(_,(z,L)=>{const T=r.items.value.length,g=T-1;T<=2?u.value=z<L:z===g&&L===0?u.value=!0:z===0&&L===g?u.value=!1:u.value=z<L}),Ea(_a,{transition:h,isReversed:u,transitionCount:p,transitionHeight:v,rootRef:d});const b=I(()=>t.continuous||_.value!==0),B=I(()=>t.continuous||_.value!==r.items.value.length-1);function U(){b.value&&r.prev()}function x(){B.value&&r.next()}const W=I(()=>{const z=[],L={icon:s.value?t.nextIcon:t.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:r.prev,"aria-label":i("$vuetify.carousel.prev")};z.push(b.value?n.prev?n.prev({props:L}):c(ge,L,null):c("div",null,null));const T={icon:s.value?t.prevIcon:t.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:r.next,"aria-label":i("$vuetify.carousel.next")};return z.push(B.value?n.next?n.next({props:T}):c(ge,T,null):c("div",null,null)),z}),H=I(()=>t.touch===!1?t.touch:{...{left:()=>{f.value?U():x()},right:()=>{f.value?x():U()},start:L=>{let{originalEvent:T}=L;T.stopPropagation()}},...t.touch===!0?{}:t.touch});return me(()=>Kt(c(t.tag,{ref:d,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},o.value,t.class],style:t.style},{default:()=>{var z,L;return[c("div",{class:"v-window__container",style:{height:v.value}},[(z=n.default)==null?void 0:z.call(n,{group:r}),t.showArrows!==!1&&c("div",{class:"v-window__controls"},[W.value])]),(L=n.additional)==null?void 0:L.call(n,{group:r})]}}),[[qa("touch"),H.value]])),{group:r}}}),ki=de({...Gt(wa(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Pi=ce()({name:"VTabsWindow",props:ki(),emits:{"update:modelValue":t=>!0},setup(t,l){let{slots:n}=l;const o=Zt($t,null),s=tt(t,"modelValue"),i=I({get(){var r;return s.value!=null||!o?s.value:(r=o.items.value.find(d=>o.selected.value.includes(d.id)))==null?void 0:r.value},set(r){s.value=r}});return me(()=>{const r=Ut.filterProps(t);return c(Ut,O({_as:"VTabsWindow"},r,{modelValue:i.value,"onUpdate:modelValue":d=>i.value=d,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),ka=de({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ke(),...tl(),...cl()},"VWindowItem"),Ft=ce()({name:"VWindowItem",directives:{Touch:ga},props:ka(),emits:{"group:selected":t=>!0},setup(t,l){let{slots:n}=l;const o=Zt(_a),s=al(t,ba),{isBooted:i}=it();if(!o||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=pe(!1),d=I(()=>i.value&&(o.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function f(){!r.value||!o||(r.value=!1,o.transitionCount.value>0&&(o.transitionCount.value-=1,o.transitionCount.value===0&&(o.transitionHeight.value=void 0)))}function u(){var b;r.value||!o||(r.value=!0,o.transitionCount.value===0&&(o.transitionHeight.value=Ie((b=o.rootRef.value)==null?void 0:b.clientHeight)),o.transitionCount.value+=1)}function h(){f()}function p(b){r.value&&xt(()=>{!d.value||!r.value||!o||(o.transitionHeight.value=Ie(b.clientHeight))})}const v=I(()=>{const b=o.isReversed.value?t.reverseTransition:t.transition;return d.value?{name:typeof b!="string"?o.transition.value:b,onBeforeEnter:u,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:u,onAfterLeave:f,onLeaveCancelled:h,onEnter:p}:!1}),{hasContent:_}=ml(t,s.isSelected);return me(()=>c(ll,{transition:v.value,disabled:!i.value},{default:()=>{var b;return[Kt(c("div",{class:["v-window-item",s.selectedClass.value,t.class],style:t.style},[_.value&&((b=n.default)==null?void 0:b.call(n))]),[[za,s.isSelected.value]])]}})),{groupItem:s}}}),Ci=de({...ka()},"VTabsWindowItem"),Vi=ce()({name:"VTabsWindowItem",props:Ci(),setup(t,l){let{slots:n}=l;return me(()=>{const o=Ft.filterProps(t);return c(Ft,O({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function $i(t){return t?t.map(l=>La(l)?l:{text:l,value:l}):[]}const Ii=de({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...kl({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ta(),...Me()},"VTabs"),Si=ce()({name:"VTabs",props:Ii(),emits:{"update:modelValue":t=>!0},setup(t,l){let{attrs:n,slots:o}=l;const s=tt(t,"modelValue"),i=I(()=>$i(t.items)),{densityClasses:r}=aa(t),{backgroundColorClasses:d,backgroundColorStyles:f}=De(J(t,"bgColor")),{scopeId:u}=ia();return yt({VTab:{color:J(t,"color"),direction:J(t,"direction"),stacked:J(t,"stacked"),fixed:J(t,"fixedTabs"),sliderColor:J(t,"sliderColor"),hideSlider:J(t,"hideSlider")}}),me(()=>{const h=Wt.filterProps(t),p=!!(o.window||t.items.length>0);return c(F,null,[c(Wt,O(h,{modelValue:s.value,"onUpdate:modelValue":v=>s.value=v,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},r.value,d.value,t.class],style:[{"--v-tabs-height":Ie(t.height)},f.value,t.style],role:"tablist",symbol:$t},u,n),{default:()=>{var v;return[((v=o.default)==null?void 0:v.call(o))??i.value.map(_=>{var b;return((b=o.tab)==null?void 0:b.call(o,{item:_}))??c(mt,O(_,{key:_.text,value:_.value}),{default:o[`tab.${_.value}`]?()=>{var B;return(B=o[`tab.${_.value}`])==null?void 0:B.call(o,{item:_})}:void 0})})]}}),p&&c(Pi,O({modelValue:s.value,"onUpdate:modelValue":v=>s.value=v,key:"tabs-window"},u),{default:()=>{var v;return[i.value.map(_=>{var b;return((b=o.item)==null?void 0:b.call(o,{item:_}))??c(Vi,{value:_.value},{default:()=>{var B;return(B=o[`item.${_.value}`])==null?void 0:B.call(o,{item:_})}})}),(v=o.window)==null?void 0:v.call(o)]}})])}),{}}}),Qi=["onClick"],Ti={class:"main"},Mi={key:0,class:"main-media-details"},Bi={key:0,class:"main-media-details-image"},Ei={class:"main-media-details-track-info"},qi={key:0},zi={key:0},Li={style:{margin:"auto","padding-top":"20px"}},Ai={key:1,class:"main-queue-items"},Wi={class:"queue-items-scroll-box"},Hi={class:"media-thumb listitem-media-thumb"},Ri={class:"d-flex"},Di={style:{"white-space":"nowrap"},class:"pr-1"},Ni={key:0},Ui={key:2,class:"main-queue-items"},Fi={class:"main-media-details-image main-media-details-image-alt"},Oi={class:"player-bottom"},Yi={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},xi={class:"media-controls"},Xi={key:0,class:"row",style:{"margin-left":"5%","margin-right":"5%"}},Gi={key:1,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},ji=D({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(t){Aa();const{name:l}=pt(),n=t,o=new ct,s=q(-1),i=new ct,r=q([]),d=q(""),f=q(0),u=q(!1),h=I(()=>a.activePlayerQueue?r.value.slice(a.activePlayerQueue.current_index):[]),p=I(()=>a.activePlayerQueue?r.value.slice(0,a.activePlayerQueue.current_index):[]),v=I(()=>{switch(l.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return a.showQueueItems?"1.5em":"2.5em";case"xl":return a.showQueueItems?"1.6em":"3em";case"xxl":return a.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),_=I(()=>{switch(l.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return a.showQueueItems?"1.0em":"1.6em";case"xl":return a.showQueueItems?"1.2em":"2em";case"xxl":return a.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),b=function(g){a.showFullscreenPlayer=!1,Ke.push({name:g.media_type,params:{itemId:g.item_id,provider:g.provider}})},B=function(g){a.globalSearchTerm=g,Ke.push({name:"search"}),a.showFullscreenPlayer=!1},U=function(g,P){var A,Z,te,ye,re,_e,he;const S=r.value.indexOf(P),E=[{label:"play_now",labelArgs:[],action:()=>{W(P,"play_now")},icon:"mdi-play-circle-outline",disabled:S===((A=a.activePlayerQueue)==null?void 0:A.current_index)||S===((Z=a.activePlayerQueue)==null?void 0:Z.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{W(P,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:S<=(((te=a.activePlayerQueue)==null?void 0:te.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{W(P,"up")},icon:"mdi-arrow-up",disabled:S<=(((ye=a.activePlayerQueue)==null?void 0:ye.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{W(P,"down")},icon:"mdi-arrow-down",disabled:S<=(((re=a.activePlayerQueue)==null?void 0:re.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{W(P,"delete")},icon:"mdi-delete",disabled:S<=(((_e=a.activePlayerQueue)==null?void 0:_e.index_in_buffer)||0)}];((he=P==null?void 0:P.media_item)==null?void 0:he.media_type)==fe.TRACK&&E.push({label:"show_info",labelArgs:[],action:()=>{b(P.media_item)},icon:"mdi-information-outline",disabled:!1}),we.emit("contextmenu",{items:E,posX:g.clientX,posY:g.clientY})},x=function(g){a.activePlayer&&we.emit("contextmenu",{items:ha(a.activePlayer,a.activePlayerQueue),posX:g.clientX,posY:g.clientY})},W=function(g,P){var S,E,A,Z,te;!g||!a.activePlayerQueue||(P=="play_now"?k.queueCommandPlayIndex((S=a.activePlayerQueue)==null?void 0:S.queue_id,g.queue_item_id):P=="move_next"?k.queueCommandMoveNext((E=a.activePlayerQueue)==null?void 0:E.queue_id,g.queue_item_id):P=="up"?k.queueCommandMoveUp((A=a.activePlayerQueue)==null?void 0:A.queue_id,g.queue_item_id):P=="down"?k.queueCommandMoveDown((Z=a.activePlayerQueue)==null?void 0:Z.queue_id,g.queue_item_id):P=="delete"&&k.queueCommandDelete((te=a.activePlayerQueue)==null?void 0:te.queue_id,g.queue_item_id))},H=async function(){u.value=!0,r.value=[],await zt(100),u.value=!1},z=async function({done:g}){var A;if(!a.activePlayerQueue||a.activePlayerQueue.items==0){g("empty");return}if(r.value.length>=((A=a.activePlayerQueue)==null?void 0:A.items)){g("empty");return}const P=r.value.length,S=(a.activePlayerQueue.current_index||0)+50,E=await k.getPlayerQueueItems(a.activePlayerQueue.queue_id,S,P);r.value.push(...E),E.length<50?g("empty"):g("ok")};Te(()=>{const g=k.subscribe(Wa.QUEUE_ITEMS_UPDATED,P=>{var S;P.object_id==((S=a.activePlayerQueue)==null?void 0:S.queue_id)&&(P.data,H())});Fe(g)});const L=function(g){var S;if(!((S=a.curQueueItem)!=null&&S.media_item))return;if(!a.curQueueItem.media_item.favorite){k.toggleFavorite(a.curQueueItem.media_item);return}const P=[{label:"favorites_remove",labelArgs:[],action:()=>{k.toggleFavorite(a.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{we.emit("playlistdialog",{items:[a.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];we.emit("contextmenu",{items:P,posX:g.clientX,posY:g.clientY})},T=function(){u.value=!0,zt(100).then(()=>{u.value=!1})};return ee(()=>a.activePlayerId,g=>{H()},{immediate:!0}),ee(()=>n.colorPalette,g=>{!g.darkColor||!g.lightColor?d.value=Ze.theme.current.value.dark?"#000":"#fff":d.value=Ze.theme.current.value.dark?g.darkColor:g.lightColor}),(g,P)=>(m(),$(sa,{modelValue:e(a).showFullscreenPlayer,"onUpdate:modelValue":P[12]||(P[12]=S=>e(a).showFullscreenPlayer=S),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:y(()=>[c(Ne,{color:e(Ha)(d.value,70,80)},{default:y(()=>{var S,E,A,Z,te,ye,re,_e,he,Ye,Be,xe,K,Ee,qe,ze,It,St,Qt,Tt,Mt,Bt,Et;return[c(wl,{class:"v-toolbar-default",color:"transparent"},{prepend:y(()=>[c(le,{icon:"",onClick:P[0]||(P[0]=M=>e(a).showFullscreenPlayer=!1)},{default:y(()=>[c(N,{icon:"mdi-chevron-down"})]),_:1})]),append:y(()=>{var M;return[(M=e(a).activePlayerQueue)!=null&&M.radio_source.length?(m(),$(kt,{key:0,scrim:""},{activator:y(({props:X})=>[c(le,O(X,{icon:""}),{default:y(()=>[c(N,{color:"accent",icon:"mdi-radio-tower"})]),_:2},1040)]),default:y(()=>[c(Ne,{title:g.$t("queue_radio_enabled"),subtitle:g.$t("queue_radio_based_on")},{text:y(()=>{var X;return[(m(!0),w(F,null,ie((X=e(a).activePlayerQueue)==null?void 0:X.radio_source,oe=>(m(),w("div",{key:oe.uri},[Q("a",{onClick:nt=>b(oe)},C(oe.name),9,Qi)]))),128))]}),_:1},8,["title","subtitle"])]),_:1})):V("",!0),c(le,{icon:"",onClick:se(x,["stop"])},{default:y(()=>[c(N,{icon:"mdi-dots-vertical"})]),_:1})]}),_:1}),Q("div",Ti,[e(j)("bp7")||!e(a).showQueueItems?(m(),w("div",Mi,[g.$vuetify.display.height>600?(m(),w("div",Bi,[!((S=e(a).curQueueItem)!=null&&S.image)&&((A=(E=e(a).activePlayer)==null?void 0:E.current_media)!=null&&A.image_url)?(m(),$(lt,{key:0,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(a).activePlayer.current_media.image_url},null,8,["src"])):(m(),$($e,{key:1,item:e(a).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"},fallback:g.$vuetify.theme.current.dark?e(ot):e(na)},null,8,["item","fallback"]))])):V("",!0),Q("div",Ei,[((Z=e(a).activePlayer)==null?void 0:Z.powered)==!1?(m(),$(He,{key:0,style:Y(`font-size: ${v.value};`)},{default:y(()=>{var M;return[R(C((M=e(a).activePlayer)==null?void 0:M.display_name),1)]}),_:1},8,["style"])):(te=e(a).curQueueItem)!=null&&te.media_item?(m(),$(He,{key:1,style:Y(`font-size: ${v.value};cursor:pointer;`),onClick:P[1]||(P[1]=M=>b(e(a).curQueueItem.media_item))},{default:y(()=>[c(ne,{sync:e(o)},{default:y(()=>[R(C(e(a).curQueueItem.media_item.name)+" ",1),"version"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.version?(m(),w("span",qi,"("+C(e(a).curQueueItem.media_item.version)+")",1)):V("",!0)]),_:1},8,["sync"])]),_:1},8,["style"])):(re=(ye=e(a).activePlayer)==null?void 0:ye.current_media)!=null&&re.title?(m(),$(He,{key:2},{default:y(()=>{var M,X,oe,nt;return[(X=(M=e(a).activePlayer)==null?void 0:M.current_media)!=null&&X.artist?(m(),w("div",zi,[c(ne,{sync:e(o)},{default:y(()=>{var Le,Ae;return[R(C((Ae=(Le=e(a).activePlayer)==null?void 0:Le.current_media)==null?void 0:Ae.artist),1)]}),_:1},8,["sync"])])):V("",!0),(nt=(oe=e(a).activePlayer)==null?void 0:oe.current_media)!=null&&nt.title?(m(),w("div",{key:1,style:Y(`font-size: ${_.value};`)},[c(ne,{sync:e(o)},{default:y(()=>{var Le,Ae;return[R(C((Ae=(Le=e(a).activePlayer)==null?void 0:Le.current_media)==null?void 0:Ae.title),1)]}),_:1},8,["sync"])],4)):V("",!0)]}),_:1})):(m(),$(He,{key:3,style:Y(`font-size: ${v.value};cursor:pointer;`),onClick:P[2]||(P[2]=M=>e(a).showPlayersMenu=!0)},{default:y(()=>[c(ne,{sync:e(o)},{default:y(()=>{var M;return[R(C(((M=e(a).activePlayer)==null?void 0:M.display_name)||g.$t("no_player")),1)]}),_:1},8,["sync"])]),_:1},8,["style"])),(_e=e(a).activePlayer)!=null&&_e.powered?V("",!0):(m(),$(be,{key:4,class:"text-h6 text-md-h5 text-lg-h4"},{default:y(()=>[R(C(g.$t("off")),1)]),_:1})),((Ye=(he=e(a).curQueueItem)==null?void 0:he.media_item)==null?void 0:Ye.media_type)==e(fe).RADIO&&((xe=(Be=e(a).curQueueItem)==null?void 0:Be.streamdetails)!=null&&xe.stream_title)?(m(),$(be,{key:5,class:"text-h6 text-md-h5 text-lg-h4",onClick:P[3]||(P[3]=M=>B(e(a).curQueueItem.streamdetails.stream_title))},{default:y(()=>[c(ne,{sync:e(o)},{default:y(()=>[R(C(e(a).curQueueItem.streamdetails.stream_title),1)]),_:1},8,["sync"])]),_:1})):V("",!0),(K=e(a).curQueueItem)!=null&&K.media_item&&"album"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.album?(m(),$(be,{key:6,style:Y(`font-size: ${_.value};cursor:pointer;`),onClick:P[4]||(P[4]=M=>b(e(a).curQueueItem.media_item.album))},{default:y(()=>[c(ne,{sync:e(o)},{default:y(()=>[R(C(e(a).curQueueItem.media_item.album.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):V("",!0),(Ee=e(a).curQueueItem)!=null&&Ee.media_item&&"artists"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.artists.length?(m(),$(be,{key:7,style:Y(`font-size: ${_.value};cursor:pointer;`),onClick:P[5]||(P[5]=M=>b(e(a).curQueueItem.media_item.artists[0]))},{default:y(()=>[c(ne,{sync:e(o)},{default:y(()=>[R(C(e(a).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):V("",!0),(qe=e(a).curQueueItem)!=null&&qe.media_item&&"podcast"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.podcast?(m(),$(be,{key:8,style:Y(`font-size: ${_.value};`)},{default:y(()=>[c(ne,{sync:e(o)},{default:y(()=>[R(C(e(a).curQueueItem.media_item.podcast.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):((ze=e(a).activePlayer)==null?void 0:ze.active_source)!=((It=e(a).activePlayer)==null?void 0:It.player_id)?(m(),$(be,{key:9},{default:y(()=>{var M;return[R(C(g.$t("external_source_active",[(M=e(a).activePlayer)==null?void 0:M.active_source])),1)]}),_:1})):e(a).activePlayerQueue&&e(a).activePlayerQueue.items==0?(m(),$(be,{key:10,style:Y(`font-size: ${_.value}`)},{default:y(()=>[R(C(g.$t("queue_empty")),1)]),_:1},8,["style"])):V("",!0),Q("div",Li,[c(hl)])])])):V("",!0),e(a).showQueueItems?(m(),w("div",Ai,[c(Si,{modelValue:f.value,"onUpdate:modelValue":P[6]||(P[6]=M=>f.value=M),"hide-slider":"",density:"compact",onClick:T},{default:y(()=>[c(mt,{value:0},{default:y(()=>{var M,X;return[R(C(g.$t("queue"))+" ",1),c(dt,{color:"grey",content:(((M=e(a).activePlayerQueue)==null?void 0:M.items)||0)-(((X=e(a).activePlayerQueue)==null?void 0:X.current_index)||0),inline:""},null,8,["content"])]}),_:1}),c(mt,{value:1},{default:y(()=>{var M;return[R(C(g.$t("played"))+" ",1),c(dt,{color:"grey",content:(M=e(a).activePlayerQueue)==null?void 0:M.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),Q("div",Wi,[u.value?V("",!0):(m(),$(bl,{key:0,onLoad:z,"empty-text":"",height:"100%"},{default:y(()=>[c(Cl,{"item-height":70,"max-height":"90%",items:f.value==0?h.value:p.value},{default:y(({item:M,index:X})=>[c(Ca,{link:"","show-menu-btn":!0,onClick:se(oe=>U(oe,M),["stop"]),onMenu:se(oe=>U(oe,M),["stop"]),onMouseenter:oe=>s.value=X,onMouseleave:P[7]||(P[7]=oe=>s.value=-1)},{prepend:y(()=>[Q("div",Hi,[c($e,{size:"50",item:M},null,8,["item"])])]),title:y(()=>[c(ne,{sync:X==0&&f.value==0?e(o):e(i),disabled:!(X==0&&f.value==0||s.value==X)},{default:y(()=>[R(C(M.name),1)]),_:2},1032,["sync","disabled"])]),subtitle:y(()=>[Q("div",Ri,[Q("span",Di,C(e(Xe)(M.duration))+" | ",1),c(ne,{sync:X==0&&f.value==0?e(o):e(i),disabled:!(X==0&&f.value==0||s.value==X)},{default:y(()=>[M.media_item&&"album"in M.media_item&&M.media_item.album?(m(),w("span",Ni,C(M.media_item.album.name),1)):V("",!0)]),_:2},1032,["sync","disabled"])])]),_:2},1032,["onClick","onMenu","onMouseenter"])]),_:1},8,["items"])]),_:1}))])])):V("",!0),!e(a).showQueueItems&&g.$vuetify.display.height<=600?(m(),w("div",Ui,[Q("div",Fi,[c($e,{item:e(a).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):V("",!0)]),Q("div",Oi,[Q("div",Yi,[c(ca,{"show-labels":!0})]),Q("div",xi,[e(a).activePlayerQueue?(m(),$(Pe,{key:0,disabled:!((St=e(a).curQueueItem)!=null&&St.media_item),icon:(Tt=(Qt=e(a).curQueueItem)==null?void 0:Qt.media_item)!=null&&Tt.favorite?"mdi-heart":"mdi-heart-outline",title:g.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:L},null,8,["disabled","icon","title"])):V("",!0),g.$vuetify.display.mdAndUp?(m(),$(va,{key:1,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","max-height":"30px"},null,8,["player-queue"])):V("",!0),c(pa,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),c(Vt,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","max-height":"100px"},null,8,["player","player-queue"]),c(ya,{player:e(a).activePlayer,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),g.$vuetify.display.mdAndUp?(m(),$(ma,{key:2,"player-queue":e(a).activePlayerQueue,class:"media-controls-item","max-height":"35px"},null,8,["player-queue"])):V("",!0),e(a).activePlayerQueue?(m(),$(fa,{key:3,class:"media-controls-item","max-height":"30px"})):V("",!0)]),e(a).activePlayer?(m(),w("div",Xi,[c(Ue,{width:"100%","is-powered":(Mt=e(a).activePlayer)==null?void 0:Mt.powered,disabled:!e(a).activePlayer||!((Bt=e(a).activePlayer)!=null&&Bt.powered),"model-value":Math.round(((Et=e(a).activePlayer)==null?void 0:Et.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","allow-wheel":!0,"onUpdate:modelValue":P[8]||(P[8]=M=>e(a).activePlayer.group_childs.length>0?e(k).playerCommandGroupVolume(e(a).activePlayerId,M):e(k).playerCommandVolumeSet(e(a).activePlayerId,M)),"onClick:prepend":P[9]||(P[9]=M=>e(a).activePlayer.group_childs.length>0?e(k).playerCommandGroupVolumeDown(e(a).activePlayerId):e(k).playerCommandVolumeDown(e(a).activePlayerId)),"onClick:append":P[10]||(P[10]=M=>e(a).activePlayer.group_childs.length>0?e(k).playerCommandGroupVolumeUp(e(a).activePlayerId):e(k).playerCommandVolumeUp(e(a).activePlayerId))},null,8,["is-powered","disabled","model-value"])])):V("",!0),g.$vuetify.display.height>800?(m(),w("div",Gi,[c(ge,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:P[11]||(P[11]=M=>e(a).showPlayersMenu=!0)},{default:y(()=>{var M;return[c(N,{icon:((M=e(a).activePlayer)==null?void 0:M.icon)||"mdi-speaker"},null,8,["icon"]),R(" "+C(e(a).activePlayer?e(at)(e(a).activePlayer):""),1)]}),_:1})])):V("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),Ki=ae(ji,[["__scopeId","data-v-93e3c445"]]),Zi={key:1},Ji={key:2,class:"icon-thumb"},eo={key:0},to={key:2},ao={key:3},lo={key:5,class:"line-clamp-1"},io={class:"d-flex justify-center",style:{width:"100%"}},oo={key:0},no={key:1},so={key:2},ro={key:3},uo={key:4,class:"line-clamp-1"},co={key:5,class:"line-clamp-1"},mo={key:6},vo={key:7,class:"line-clamp-1"},po={key:0},yo=D({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(t){const l=new ct,n=t,o=I(()=>{var s,i;return(i=(s=a.activePlayerQueue)==null?void 0:s.current_item)==null?void 0:i.streamdetails});return(s,i)=>(m(),w(F,null,[c(ue,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:y(()=>{var r,d,f,u,h,p,v,_,b;return[Q("div",{class:"media-thumb player-media-thumb",style:Y(`cursor: pointer;height: ${e(j)({breakpoint:"phone"})?50:64}px; width: ${e(j)({breakpoint:"phone"})?50:64}px; `),onClick:i[0]||(i[0]=B=>e(a).showFullscreenPlayer=!0)},[(r=e(a).curQueueItem)!=null&&r.media_item||(d=e(a).curQueueItem)!=null&&d.image?(m(),$($e,{key:0,item:((f=e(a).curQueueItem)==null?void 0:f.media_item)||e(a).curQueueItem,fallback:e(ot)},null,8,["item","fallback"])):(u=e(a).activePlayer)!=null&&u.powered&&((p=(h=e(a).activePlayer)==null?void 0:h.current_media)!=null&&p.image_url)?(m(),w("div",Zi,[c(lt,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(a).activePlayer.current_media.image_url},null,8,["src"])])):(m(),w("div",Ji,[c(N,{size:"35",icon:((v=e(a).activePlayer)==null?void 0:v.type)==e(Se).PLAYER&&((_=e(a).activePlayer)!=null&&_.group_childs.length)?"mdi-speaker-multiple":((b=e(a).activePlayer)==null?void 0:b.icon)||"mdi-speaker",style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))],4)]}),title:y(()=>{var r,d,f,u,h;return[Q("div",{style:Y({cursor:"pointer",color:s.primaryColor})},[((r=e(a).activePlayer)==null?void 0:r.powered)==!1?(m(),w("div",{key:0,onClick:i[1]||(i[1]=p=>e(a).showPlayersMenu=!0)},C((d=e(a).activePlayer)==null?void 0:d.display_name),1)):(f=e(a).curQueueItem)!=null&&f.media_item?(m(),w("div",{key:1,onClick:i[2]||(i[2]=p=>e(a).showFullscreenPlayer=!0)},[c(ne,{sync:e(l)},{default:y(()=>[R(C(e(a).curQueueItem.media_item.name)+" ",1),"version"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.version?(m(),w("span",eo,"("+C(e(a).curQueueItem.media_item.version)+")",1)):V("",!0)]),_:1},8,["sync"])])):e(a).curQueueItem?(m(),w("div",to,C(e(a).curQueueItem.name),1)):(h=(u=e(a).activePlayer)==null?void 0:u.current_media)!=null&&h.title?(m(),w("div",ao,C(e(a).activePlayer.current_media.title),1)):e(a).activePlayer?e(a).activePlayerQueue&&e(a).activePlayerQueue.items==0?(m(),w("div",lo,C(s.$t("queue_empty")),1)):V("",!0):(m(),w("div",{key:4,onClick:i[3]||(i[3]=p=>e(a).showPlayersMenu=!0)},C(s.$t("no_player")),1))],4)]}),append:y(()=>{var r,d,f;return[(r=o.value)!=null&&r.audio_format.content_type&&!e(j)({breakpoint:"phone"})&&s.showQualityDetailsBtn?(m(),$(Pl,O({key:0,disabled:!e(a).activePlayerQueue||!((d=e(a).activePlayerQueue)!=null&&d.active)||((f=e(a).activePlayerQueue)==null?void 0:f.items)==0,class:"player-track-content-type",style:s.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},n),{default:y(()=>[Q("div",io,C(o.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):V("",!0)]}),subtitle:y(()=>{var r;return[Q("div",{style:Y({cursor:"pointer",color:s.primaryColor}),class:"line-clamp-1",onClick:i[4]||(i[4]=d=>e(a).showFullscreenPlayer=!0)},[c(ne,{sync:e(l)},{default:y(()=>{var d,f,u,h,p,v,_,b,B,U,x,W,H,z,L,T;return[(d=e(a).activePlayer)!=null&&d.powered?e(a).curQueueItem&&((f=e(a).curQueueItem.media_item)==null?void 0:f.media_type)==e(fe).TRACK&&"album"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.album&&!n.showOnlyArtist?(m(),w("div",no,C(e(Jt)(e(a).curQueueItem.media_item.artists))+" • "+C(e(a).curQueueItem.media_item.album.name),1)):(u=e(a).curQueueItem)!=null&&u.media_item&&"artists"in e(a).curQueueItem.media_item&&e(a).curQueueItem.media_item.artists.length>0?(m(),w("div",so,C(e(a).curQueueItem.media_item.artists[0].name),1)):(h=e(a).curQueueItem)!=null&&h.media_item&&"podcast"in e(a).curQueueItem.media_item&&((p=e(a).curQueueItem.media_item.podcast)!=null&&p.name)?(m(),w("div",ro,C(e(a).curQueueItem.media_item.podcast.name),1)):(_=(v=e(a).curQueueItem)==null?void 0:v.streamdetails)!=null&&_.stream_title?(m(),w("div",uo,C((B=(b=e(a).curQueueItem)==null?void 0:b.streamdetails)==null?void 0:B.stream_title),1)):(x=(U=e(a).curQueueItem)==null?void 0:U.media_item)!=null&&x.metadata.description?(m(),w("div",co,C(e(ea)(e(a).curQueueItem.media_item.metadata.description,100)),1)):(H=(W=e(a).activePlayer)==null?void 0:W.current_media)!=null&&H.artist?(m(),w("div",mo,C(e(a).activePlayer.current_media.artist),1)):((z=e(a).activePlayer)==null?void 0:z.active_source)!=((L=e(a).activePlayer)==null?void 0:L.player_id)?(m(),w("div",vo,C(s.$t("external_source_active",[(T=e(a).activePlayer)==null?void 0:T.active_source])),1)):V("",!0):(m(),w("div",oo,C(s.$t("off")),1))]}),_:1},8,["sync"]),e(a).activePlayer&&((r=e(a).activePlayer)!=null&&r.powered)?(m(),w("div",po,C(e(at)(e(a).activePlayer)),1)):V("",!0)],4)]}),_:1}),c(Ki,{"show-fullscreen":e(a).showFullscreenPlayer,"color-palette":s.colorPalette},null,8,["show-fullscreen","color-palette"])],64))}}),fo=D({__name:"SpeakerBtn",props:{color:{}},setup(t){return(l,n)=>(m(),$(le,{variant:"icon",ripple:!1,icon:"",onClick:n[0]||(n[0]=o=>e(a).showPlayersMenu=!0)},{default:y(()=>{var o;return[c(N,{color:l.color?l.color:"",size:24,icon:(o=e(a).activePlayer)!=null&&o.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}}),ho={key:1,class:"text-caption volumecaption"},go={key:0,class:"text-caption volumecaption"},_o=D({__name:"VolumeControl",props:{player:{},showSyncControls:{type:Boolean},showSubPlayers:{type:Boolean},hideHeadingRow:{type:Boolean},allowWheel:{type:Boolean}},setup(t){const l=t,n=q([]),o=q([]),s=q(void 0),i=I(()=>l.player.group_childs.length>0),r=function(u,h=!0){var v,_;const p=[];h&&u.type!=Se.GROUP&&p.push(u);for(const b of u.group_childs){const B=(v=k)==null?void 0:v.players[b];B&&B.available&&!p.includes(B)&&p.push(B)}if(l.showSyncControls&&u.supported_features.includes(ve.SET_MEMBERS))for(const b of Object.values((_=k)==null?void 0:_.players))b.player_id!=u.player_id&&(!u.can_group_with.includes(b.player_id)&&!u.can_group_with.includes(b.provider)||b.available&&(b.active_group&&b.active_group!=u.player_id||b.active_source&&b.state==je.PLAYING&&![u.player_id,b.player_id].includes(b.active_source)||p.includes(b)||p.push(b)));return p.sort((b,B)=>b.display_name.toUpperCase()>B.display_name.toUpperCase()?1:-1),p},d=async function(u){for(const h of u)k.players[h].powered&&!k.players[h].active_group?await k.playerCommandPower(h,!1):await k.playerCommandUnGroup(h)},f=async function(u,h){const p=l.player.player_id;h?(o.value.includes(u)&&(o.value=o.value.filter(v=>v!=u)),n.value.includes(u)||n.value.push(u),k.players[p].group_childs.push(u)):(n.value.includes(u)&&(n.value=n.value.filter(v=>v!=u)),o.value.includes(u)||o.value.push(u),k.players[p].group_childs=k.players[p].group_childs.filter(v=>v!=u)),s.value!=null&&clearTimeout(s.value),s.value=setTimeout(async()=>{o.value.length>0&&d(o.value).catch(async()=>{k.players[p]=await k.getPlayer(p)}).finally(()=>{o.value=[]}),n.value.length>0&&k.playerCommandGroupMany(p,n.value).catch(async()=>{k.players[p]=await k.getPlayer(p)}).finally(()=>{n.value=[]})},1e3)};return(u,h)=>(m(),$(Qe,{style:{overflow:"hidden",padding:"0"},lines:"two"},{default:y(()=>[u.hideHeadingRow?V("",!0):(m(),$(ue,{key:0,class:"volumesliderrow heading",link:!1,style:Y(u.player.powered?"opacity: 1":"opacity: 0.6")},{prepend:y(()=>[c(N,{size:25,icon:u.player.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:y(()=>[Q("h5",null,C(e(at)(u.player,27)),1)]),append:y(()=>[c(le,{class:"powerbtn",variant:"icon",onClick:h[0]||(h[0]=se(p=>e(k).playerCommandPowerToggle(u.player.player_id),["stop"]))},{default:y(()=>[c(N,{size:25,icon:"mdi-power"})]),_:1})]),_:1},8,["style"])),c(ue,{class:"volumesliderrow",link:!1,style:Y(u.player.powered?"opacity: 0.75":"opacity: 0.35")},{prepend:y(()=>[c(le,{icon:"",style:{height:"25px"},disabled:u.player.type==e(Se).GROUP||u.player.group_childs.length>0,onClick:h[1]||(h[1]=se(p=>e(k).playerCommandMuteToggle(u.player.player_id),["stop"]))},{default:y(()=>[c(N,{size:25,icon:u.player.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:1},8,["disabled"])]),default:y(()=>[c(Ue,{color:"secondary",width:"100%","is-powered":u.player.powered,disabled:!u.player.available||!u.player.powered||!u.player.supported_features.includes(e(ve).VOLUME_SET)&&!u.player.group_childs.length,"model-value":Math.round(u.player.group_childs.length?u.player.group_volume:u.player.volume_level),onClick:h[2]||(h[2]=se(()=>{},["stop"])),"onUpdate:modelValue":h[3]||(h[3]=p=>u.player.group_childs.length>0?e(k).playerCommandGroupVolume(u.player.player_id,p):e(k).playerCommandVolumeSet(u.player.player_id,p))},null,8,["is-powered","disabled","model-value"])]),append:y(()=>[i.value&&!u.showSubPlayers?(m(),$(N,{key:0,class:"expandbtn"},{default:y(()=>h[7]||(h[7]=[R(" mdi-chevron-down ")])),_:1})):(m(),w("div",ho,C(Math.round(u.player.group_childs.length?u.player.group_volume:u.player.volume_level)),1))]),_:1},8,["style"]),u.showSubPlayers&&u.player.powered&&(u.player.group_childs.length>0||u.showSyncControls)?(m(),w("div",{key:1,onClick:h[6]||(h[6]=se(()=>{},["stop"]))},[c(Je,{style:{"margin-top":"10px","margin-bottom":"15px"}}),(m(!0),w(F,null,ie(r(u.player,!u.showSyncControls),p=>(m(),w("div",{key:p.player_id},[c(ue,{class:"volumesliderrow",link:!1,style:Y(p.powered||u.showSyncControls?"opacity: 0.75":"opacity: 0.4"),onClick:h[4]||(h[4]=se(()=>{},["stop"]))},{prepend:y(()=>[c(N,{size:30,icon:p.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:y(()=>[Q("h6",null,C(e(ea)(p.display_name,27)),1)]),append:y(()=>[u.showSyncControls?(m(),$(Vl,{key:0,ripple:!1,disabled:p.player_id==u.player.player_id,"model-value":u.player.group_childs.includes(p.player_id)||p.player_id==u.player.player_id,size:"22",class:"checkbox","onUpdate:modelValue":v=>f(p.player_id,v)},null,8,["disabled","model-value","onUpdate:modelValue"])):V("",!0)]),_:2},1032,["style"]),c(ue,{class:"volumesliderrow",link:!1,style:Y(p.powered?"opacity: 0.75":"opacity: 0.4"),onClick:h[5]||(h[5]=se(()=>{},["stop"]))},{prepend:y(()=>[c(le,{icon:"",disabled:!p.supported_features.includes(e(ve).VOLUME_MUTE),style:{height:"25px"},onClick:v=>e(k).playerCommandMuteToggle(p.player_id)},{default:y(()=>[c(N,{size:25,icon:p.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:2},1032,["disabled","onClick"])]),default:y(()=>[c(Ue,{color:"secondary",width:"100%","is-powered":p.powered,disabled:!p.available||!p.supported_features.includes(e(ve).VOLUME_SET),"allow-wheel":u.allowWheel,"model-value":Math.round(p.volume_level),"onUpdate:modelValue":v=>e(k).playerCommandVolumeSet(p.player_id,v)},null,8,["is-powered","disabled","allow-wheel","model-value","onUpdate:modelValue"])]),append:y(()=>[p.supported_features.includes(e(ve).VOLUME_SET)?(m(),w("div",go,C(p.volume_level),1)):V("",!0)]),_:2},1032,["style"]),h[8]||(h[8]=Q("div",{style:{height:"14px"}},null,-1))]))),128))])):V("",!0)]),_:1}))}}),Pa=ae(_o,[["__scopeId","data-v-5404a26c"]]),bo={key:0},wo={key:0},ko={class:"text-caption"},Po={key:1},Co=D({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(t){const l=t,n=q(!1);return(o,s)=>l.isVisible&&e(a).activePlayer?(m(),w("div",bo,[c(kt,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=i=>n.value=i),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:o.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:y(({props:i})=>{var r,d;return[e(j)("bp6")||!o.responsiveVolumeSize?(m(),w("div",wo,[c(Ue,{style:"margin-right: 0px; margin-left: 0px;",width:o.volumeSize,"is-powered":!0,"model-value":e(a).activePlayer.group_childs.length>0?Math.round(((r=e(a).activePlayer)==null?void 0:r.group_volume)||0):Math.round(((d=e(a).activePlayer)==null?void 0:d.volume_level)||0),"allow-wheel":!0,"onUpdate:modelValue":s[0]||(s[0]=f=>{var u,h;return e(a).activePlayer.group_childs.length>0?e(k).playerCommandGroupVolume(((u=e(a).activePlayer)==null?void 0:u.player_id)||"",f):e(k).playerCommandVolumeSet(((h=e(a).activePlayer)==null?void 0:h.player_id)||"",f)})},{prepend:y(()=>[c(le,O({variant:"icon",size:"48",ripple:!1},{...i}),{default:y(()=>{var f,u;return[c(N,{color:l.color?o.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),Q("div",ko,C(e(a).activePlayer.group_childs.length>0?Math.round(((f=e(a).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((u=e(a).activePlayer)==null?void 0:u.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(m(),w("div",Po,[c(le,O({...i},{size:"48",variant:"icon"}),{default:y(()=>{var f,u;return[c(N,{color:l.color?o.color:"",icon:"mdi-volume-high"},null,8,["color"]),Q("div",{class:"text-caption",style:Y({color:l.color?o.color:""})},C(e(a).activePlayer.group_childs.length>0?Math.round(((f=e(a).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((u=e(a).activePlayer)==null?void 0:u.volume_level)||0)),5)]}),_:2},1040)]))]}),default:y(()=>[c(Ne,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:y(()=>[e(a).activePlayer?(m(),$(Pa,{key:0,player:e(a).activePlayer,"show-sub-players":!0,"show-sync-controls":!1,"hide-heading-row":!1,"allow-wheel":!0,style:{"margin-left":"18px"}},null,8,["player"])):V("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):V("",!0)}}),Vo=ae(Co,[["__scopeId","data-v-3b2ac5c4"]]),$o=D({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(t){return(l,n)=>(m(),w(F,null,[l.player&&l.player.isVisible?(m(),$(fo,{key:0,color:l.player.color},null,8,["color"])):V("",!0),l.queue&&l.queue.isVisible?(m(),$(fa,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):V("",!0),l.volume&&l.volume.isVisible?(m(),$(Vo,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):V("",!0)],64))}}),Io=["data-floating"],So=["data-mobile"],Qo={class:"mediacontrols-left"},To={class:"mediacontrols-bottom-center"},Mo={class:"mediacontrols-bottom-right"},Bo={key:0,class:"volume-slider"},Eo=D({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(t){Ra(i=>({"4e17711c":s.value})),Xt();const{mobile:l}=pt({mobileBreakpoint:576}),n=q({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),o=new Image;o.src=Ze.theme.current.value.dark?ot:na,o.crossOrigin="Anonymous",o.addEventListener("load",function(){n.value=Da(o)});const s=I(()=>Ze.theme.current.value.dark?n.value&&n.value.darkColor?n.value.darkColor+"26":"CCCCCC26":n.value&&n.value.lightColor?n.value.lightColor+"26":"CCCCCC26");return ee(()=>{var i;return(i=a.curQueueItem)==null?void 0:i.queue_item_id},()=>{var i;(i=a.curQueueItem)!=null&&i.media_item?o.src=At(a.curQueueItem.media_item,Lt.THUMB)||"":a.curQueueItem?o.src=At(a.curQueueItem,Lt.THUMB)||"":o.src=""}),(i,r)=>{var d,f,u,h,p,v,_;return m(),w(F,null,[Q("div",{class:"mediacontrols-bg","data-floating":i.useFloatingPlayer},null,8,Io),Q("div",{class:"mediacontrols","data-mobile":e(l)},[Q("div",Qo,[c(yo,{"show-quality-details-btn":!!e(j)("bp8"),"show-only-artist":!e(j)("bp7"),"color-palette":n.value,"primary-color":i.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),Q("div",To,[c(Nt,{"visible-components":{repeat:{isVisible:e(j)("bp3")},shuffle:{isVisible:e(j)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"},withCircle:i.useFloatingPlayer},previous:{isVisible:e(j)("bp3")},next:{isVisible:e(j)("bp3")}}},null,8,["visible-components"]),e(j)("bp6")?(m(),$(ca,{key:0,color:i.$vuetify.theme.current.dark?n.value.lightColor||"#fff":n.value.darkColor||"#000","is-progress-bar":!1,disabled:!((d=e(a).activePlayerQueue)!=null&&d.active)||((h=(u=(f=e(a).activePlayerQueue)==null?void 0:f.current_item)==null?void 0:u.media_item)==null?void 0:h.media_type)!==e(fe).TRACK},null,8,["color","disabled"])):V("",!0)]),Q("div",Mo,[Q("div",null,[c($o,{queue:{isVisible:e(j)("bp3"),color:i.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:i.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(l),color:i.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),c(Nt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(j)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:i.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,So),e(l)?(m(),w("div",Bo,[c(Ue,{width:"100%",color:"secondary","is-powered":(p=e(a).activePlayer)==null?void 0:p.powered,disabled:!e(a).activePlayer||!((v=e(a).activePlayer)!=null&&v.powered),"model-value":Math.round(((_=e(a).activePlayer)==null?void 0:_.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":r[0]||(r[0]=b=>e(a).activePlayer.group_childs.length>0?e(k).playerCommandGroupVolume(e(a).activePlayerId,b):e(k).playerCommandVolumeSet(e(a).activePlayerId,b)),"onClick:prepend":r[1]||(r[1]=b=>e(a).activePlayer.group_childs.length>0?e(k).playerCommandGroupVolume(e(a).activePlayerId,e(a).activePlayer.group_volume-5):e(k).playerCommandVolumeSet(e(a).activePlayerId,e(a).activePlayer.volume_level-5)),"onClick:append":r[2]||(r[2]=b=>e(a).activePlayer.group_childs.length>0?e(k).playerCommandGroupVolume(e(a).activePlayerId,e(a).activePlayer.group_volume+5):e(k).playerCommandVolumeSet(e(a).activePlayerId,e(a).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])])):V("",!0)],64)}}}),qo=ae(Eo,[["__scopeId","data-v-3edee708"]]),zo=de({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ft(),...ke(),...ht(),...Pt(),...gt(),...Me({tag:"footer"}),...Oe()},"VFooter"),Lo=ce()({name:"VFooter",props:zo(),setup(t,l){let{slots:n}=l;const o=q(),{themeClasses:s}=et(t),{backgroundColorClasses:i,backgroundColorStyles:r}=De(J(t,"color")),{borderClasses:d}=_t(t),{elevationClasses:f}=bt(t),{roundedClasses:u}=wt(t),h=pe(32),{resizeRef:p}=il(_=>{_.length&&(h.value=_[0].target.clientHeight)}),v=I(()=>t.height==="auto"?h.value:parseInt(t.height,10));return Re(()=>t.app,()=>{const _=Ct({id:t.name,order:I(()=>parseInt(t.order,10)),position:I(()=>"bottom"),layoutSize:v,elementSize:I(()=>t.height==="auto"?void 0:v.value),active:I(()=>t.app),absolute:J(t,"absolute")});Yt(()=>{o.value=_.layoutItemStyles.value})}),me(()=>c(t.tag,{ref:p,class:["v-footer",s.value,i.value,d.value,f.value,u.value,t.class],style:[r.value,t.app?o.value:{height:Ie(t.height)},t.style]},n)),{}}}),Ao=D({__name:"Footer",setup(t){const l=I(()=>a.navigationMenuStyle=="horizontal"),n=I(()=>a.navigationMenuStyle!="horizontal"?0:a.isInStandaloneMode?100:80),o=I(()=>l.value?n.value+5:0);return(s,i)=>(m(),w(F,null,[l.value?(m(),w("div",{key:0,class:Ge(s.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:Y(`
      position: fixed;
      width: 100%;
      height: ${n.value+(e(j)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):V("",!0),e(a).navigationMenuStyle=="horizontal"?(m(),$(Jl,{key:1,height:n.value},null,8,["height"])):V("",!0),c(Lo,{bottom:"",fixed:"",class:Ge(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:Y(`bottom: ${o.value}px;`),elevation:"10",app:""},{default:y(()=>[c(qo,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),Wo={class:"player-media-thumb"},Ho={key:1},Ro={key:2,class:"icon-thumb"},Do={style:{"margin-bottom":"3px"}},No={key:0,style:{"font-size":"0.85rem","font-weight":"500","white-space":"nowrap"}},Uo={key:0},Fo={key:0},Oo={key:1},Yo={key:2},xo={class:"v-list-item-subtitle",style:{"white-space":"nowrap"}},Xo={key:0},Go={key:1},jo={key:2},Ko={key:3},Zo={key:4},Jo={key:5},en={key:6},tn=D({__name:"PlayerCard",props:{player:{},showVolumeControl:{type:Boolean},showMenuButton:{type:Boolean},showSubPlayers:{type:Boolean},showSyncControls:{type:Boolean}},setup(t){const l=t,n=I(()=>{if(l.player&&l.player.active_source in k.queues)return k.queues[l.player.active_source];if(l.player&&!l.player.active_source&&l.player.player_id in k.queues)return k.queues[l.player.player_id]}),o=I(()=>{if(n.value&&n.value.active)return n.value.current_item}),s=function(i){we.emit("contextmenu",{items:ha(l.player,n.value),posX:i.clientX,posY:i.clientY})};return(i,r)=>(m(),$(Ne,{flat:"",class:Ge(["panel-item",{"panel-item-selected":i.player.player_id==e(a).activePlayerId,"panel-item-idle":i.player.state==e(je).IDLE,"panel-item-off":!i.player.powered}]),ripple:!1},{default:y(()=>[c(ue,{class:"panel-item-details",flat:"",ripple:!1},{prepend:y(()=>{var d,f,u,h;return[Q("div",Wo,[i.player.powered&&((d=o.value)!=null&&d.media_item)||(f=o.value)!=null&&f.image?(m(),$($e,{key:0,class:"media-thumb",size:"55",item:((u=o.value)==null?void 0:u.media_item)||o.value,fallback:e(ot)},null,8,["item","fallback"])):i.player.powered&&!n.value&&((h=i.player.current_media)!=null&&h.image_url)?(m(),w("div",Ho,[c(lt,{class:"media-thumb",size:"55",src:i.player.current_media.image_url},null,8,["src"])])):(m(),w("div",Ro,[c(N,{size:"35",icon:i.player.type==e(Se).PLAYER&&i.player.group_childs.length?"mdi-speaker-multiple":i.player.icon,style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))])]}),title:y(()=>[Q("div",Do,C(e(at)(i.player,27)),1)]),subtitle:y(()=>{var d,f,u,h,p,v,_;return[i.player.powered?(m(),w("div",No,[(d=o.value)!=null&&d.media_item?(m(),w("div",Uo,[R(C((f=o.value)==null?void 0:f.media_item.name)+" ",1),"version"in((u=o.value)==null?void 0:u.media_item)&&((h=o.value)!=null&&h.media_item.version)?(m(),w("span",Fo,"("+C((p=o.value)==null?void 0:p.media_item.version)+")",1)):V("",!0)])):o.value?(m(),w("div",Oo,C((v=o.value)==null?void 0:v.name),1)):(_=i.player.current_media)!=null&&_.title?(m(),w("div",Yo,C(i.player.current_media.title),1)):V("",!0)])):V("",!0)]}),default:y(()=>{var d,f,u,h,p,v,_,b,B,U,x,W,H,z,L,T,g,P,S;return[Q("div",xo,[i.player.powered?(d=o.value)!=null&&d.media_item&&((u=(f=o.value)==null?void 0:f.media_item)==null?void 0:u.media_type)==e(fe).TRACK&&"album"in((h=o.value)==null?void 0:h.media_item)&&((p=o.value)!=null&&p.media_item.album)?(m(),w("div",Go,C(e(Jt)((v=o.value)==null?void 0:v.media_item.artists))+" • "+C((_=o.value)==null?void 0:_.media_item.album.name),1)):(b=o.value)!=null&&b.media_item&&"artists"in((B=o.value)==null?void 0:B.media_item)&&((U=o.value)==null?void 0:U.media_item.artists.length)>0?(m(),w("div",jo,C((x=o.value)==null?void 0:x.media_item.artists[0].name),1)):(H=(W=o.value)==null?void 0:W.streamdetails)!=null&&H.stream_title?(m(),w("div",Ko,C((L=(z=o.value)==null?void 0:z.streamdetails)==null?void 0:L.stream_title),1)):(g=(T=o.value)==null?void 0:T.media_item)!=null&&g.metadata.description?(m(),w("div",Zo,C((P=o.value)==null?void 0:P.media_item.metadata.description),1)):i.player.active_source!=i.player.player_id?(m(),w("div",Jo,C(i.$t("external_source_active",[i.player.active_source])),1)):((S=n.value)==null?void 0:S.items)==0?(m(),w("div",en,C(i.$t("queue_empty")),1)):V("",!0):(m(),w("div",Xo,C(i.$t("off")),1))])]}),append:y(()=>[i.player.powered?V("",!0):(m(),$(le,{key:0,variant:"icon",class:"player-command-btn",onClick:r[0]||(r[0]=d=>{e(k).playerCommandPowerToggle(i.player.player_id),e(a).activePlayerId=i.player.player_id})},{default:y(()=>[c(N,{size:e(j)({breakpoint:"phone"})?"30":"32"},{default:y(()=>r[2]||(r[2]=[R("mdi-power")])),_:1},8,["size"])]),_:1})),i.player.powered?(m(),$(Vt,{key:1,player:i.player,"player-queue":n.value,class:"player-command-btn",style:{height:"50px"},"icon-style":"circle-outline",onClick:r[1]||(r[1]=se(d=>{i.player.state!=e(je).PLAYING&&(e(a).activePlayerId=i.player.player_id)},["stop"]))},null,8,["player","player-queue"])):V("",!0),i.showMenuButton?(m(),$(le,{key:2,variant:"icon",class:"player-command-btn",style:{"margin-right":"-5px"},onClick:se(s,["stop"])},{default:y(()=>[c(N,{size:e(j)({breakpoint:"phone"})?"30":"32"},{default:y(()=>r[3]||(r[3]=[R("mdi-dots-vertical")])),_:1},8,["size"])]),_:1})):V("",!0)]),_:1}),i.showVolumeControl&&i.player.powered?(m(),$(Pa,{key:0,player:i.player,"show-sync-controls":i.showSyncControls,"hide-heading-row":!0,"show-sub-players":i.showSubPlayers,"allow-wheel":!1},null,8,["player","show-sync-controls","show-sub-players"])):V("",!0)]),_:1},8,["class"]))}}),Ot=ae(tn,[["__scopeId","data-v-1ee32b53"]]),an=D({__name:"PlayerSelect",setup(t){const l=q(!1),n=I(()=>Object.values(k.players).filter(d=>s(d,!1,!1,!1)).sort((d,f)=>{var u;return d.display_name.toUpperCase()>((u=f.display_name)==null?void 0:u.toUpperCase())?1:-1}).sort((d,f)=>Number(f.powered)-Number(d.powered)));ee(()=>a.activePlayerId,d=>{d&&localStorage.setItem("mass.LastPlayerId",d)}),ee(()=>k.players,d=>{d&&!a.activePlayer&&i()},{deep:!0}),ee(()=>k.state,d=>{d.value!=Na.CONNECTED&&(a.activePlayerId=void 0)},{deep:!0});function o(d,f=!1){a.activePlayerId==d.player_id?l.value=!l.value:(l.value=!1,a.activePlayerId=d.player_id),f&&(a.showPlayersMenu=!1)}Te(()=>{i()});const s=function(d,f=!0,u=!1,h=!1){return!(!d.enabled||!h&&d.hidden||!f&&!d.available||d.synced_to&&!u||!u&&d.type==Se.PLAYER&&d.active_group)},i=function(){if(a.activePlayer&&s(a.activePlayer,!1,!1,!1))return;const d=r();d&&(a.activePlayerId=d.player_id)},r=function(){const d=localStorage.getItem("mass.LastPlayerId");if(d&&d in k.players&&s(k.players[d],!1,!1,!1))return k.players[d]};return(d,f)=>(m(),w(F,null,[c(oa,{modelValue:e(a).showPlayersMenu,"onUpdate:modelValue":f[0]||(f[0]=u=>e(a).showPlayersMenu=u)},null,8,["modelValue"]),e(a).showPlayersMenu?(m(),$(ua,{key:0,modelValue:e(a).showPlayersMenu,"onUpdate:modelValue":f[2]||(f[2]=u=>e(a).showPlayersMenu=u),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:500,style:{"z-index":"99999"},"z-index":"99999"},{default:y(()=>[Q("div",null,[c(He,{class:"title"},{default:y(()=>[Q("b",null,C(d.$t("players")),1)]),_:1}),c(le,{variant:"icon",style:{float:"right",top:"-40px",height:"0"},onClick:f[1]||(f[1]=u=>e(a).showPlayersMenu=!1)},{default:y(()=>[c(N,{size:"30"},{default:y(()=>f[3]||(f[3]=[R("mdi-window-close")])),_:1})]),_:1}),c(Qe,{flat:"",style:{margin:"5px 5px"}},{default:y(()=>[(m(!0),w(F,null,ie(n.value.filter(u=>u.powered),u=>(m(),$(Ot,{id:u.player_id,key:u.player_id,player:u,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&u.player_id==e(a).activePlayerId,"show-sync-controls":u.supported_features.includes(e(ve).SET_MEMBERS),onClick:h=>o(u)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1}),c(Sl,{variant:"accordion",flat:"",class:"expansion"},{default:y(()=>[c($l,{title:d.$t("powered_off_players"),style:{padding:"0"}},{default:y(()=>[c(Il,{style:{padding:"0"}},{default:y(()=>[c(Qe,{flat:""},{default:y(()=>[(m(!0),w(F,null,ie(n.value.filter(u=>!u.powered),u=>(m(),$(Ot,{id:u.player_id,key:u.player_id,player:u,"show-volume-control":!1,"show-menu-button":!0,"show-sub-players":!1,"show-sync-controls":!1,onClick:h=>o(u)},null,8,["id","player","onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})])]),_:1},8,["modelValue"])):V("",!0)],64))}}),ln=ae(an,[["__scopeId","data-v-b2d8bc7d"]]);function on(t={}){const{immediate:l=!1,onNeedRefresh:n,onOfflineReady:o,onRegistered:s,onRegisteredSW:i,onRegisterError:r}=t;let d,f,u;const h=async(v=!0)=>{await f,u==null||u()};async function p(){if("serviceWorker"in navigator){if(d=await Ua(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:v}},[],import.meta.url).then(({Workbox:v})=>new v("./sw.js",{scope:"./",type:"classic"})).catch(v=>{r==null||r(v)}),!d)return;u=()=>{d==null||d.messageSkipWaiting()};{let v=!1;const _=()=>{v=!0,d==null||d.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()}),n==null||n()};d.addEventListener("installed",b=>{typeof b.isUpdate>"u"?typeof b.isExternal<"u"&&b.isExternal?_():!v&&(o==null||o()):b.isUpdate||o==null||o()}),d.addEventListener("waiting",_)}d.register({immediate:l}).then(v=>{i?i("./sw.js",v):s==null||s(v)}).catch(v=>{r==null||r(v)})}}return f=p(),h}function nn(t={}){const{immediate:l=!0,onNeedRefresh:n,onOfflineReady:o,onRegistered:s,onRegisteredSW:i,onRegisterError:r}=t,d=q(!1),f=q(!1);return{updateServiceWorker:on({immediate:l,onNeedRefresh(){d.value=!0,n==null||n()},onOfflineReady(){f.value=!0,o==null||o()},onRegistered:s,onRegisteredSW:i,onRegisterError:r}),offlineReady:f,needRefresh:d}}const sn={key:0,class:"pwa-toast",role:"alert"},rn={class:"message"},un={key:0},dn={key:1},cn=D({__name:"ReloadPrompt",setup(t){const{offlineReady:l,needRefresh:n,updateServiceWorker:o}=nn(),s=async()=>{l.value=!1,n.value=!1};return(i,r)=>e(l)||e(n)?(m(),w("div",sn,[Q("div",rn,[e(l)?(m(),w("span",un," App ready to work offline ")):(m(),w("span",dn," New content available, click on reload button to update. "))]),e(n)?(m(),w("button",{key:0,onClick:r[0]||(r[0]=d=>e(o)())},"Reload")):V("",!0),Q("button",{onClick:s},"Close")])):V("",!0)}}),mn=de({...ke(),...pl({fullHeight:!0}),...Oe()},"VApp"),vn=ce()({name:"VApp",props:mn(),setup(t,l){let{slots:n}=l;const o=et(t),{layoutClasses:s,getLayoutItem:i,items:r,layoutRef:d}=yl(t),{rtlClasses:f}=vt();return me(()=>{var u;return c("div",{ref:d,class:["v-application",o.themeClasses.value,s.value,f.value,t.class],style:[t.style]},[c("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:i,items:r,theme:o}}}),pn=D({__name:"Default",props:{showFullscreenPlayer:{type:Boolean},player:{},frameless:{type:Boolean}},setup(t){const l=t,n=q(!1),{showFullscreenPlayer:o,player:s,frameless:i}=Fa(l);return ee(s,r=>{var f;if(!r)return;const d=(f=Object.values(k.players).find(u=>u.player_id===r||u.display_name.toLowerCase()===r.toLowerCase()))==null?void 0:f.player_id;d&&(a.activePlayerId=d)},{immediate:!0}),ee(o,r=>{a.showFullscreenPlayer=!!r},{immediate:!0}),ee(i,r=>{r&&(n.value=!0)},{immediate:!0}),(r,d)=>(m(),w(F,null,[e(a).connected?(m(),$(vn,{key:0},{default:y(()=>[n.value?(m(),$(Dt,{key:0})):(m(),w(F,{key:1},[c(Ao),c(ln),c(Dt)],64))]),_:1})):(m(),$(oa,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(a).connected},{default:y(()=>[Q("div",null,[c(ol,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(a).isInStandaloneMode?(m(),$(cn,{key:2})):V("",!0)],64))}}),Hn=ae(pn,[["__scopeId","data-v-38eb0900"]]);export{Hn as default};
